export const cssUnits = [
    "%",
    "ch",
    "cm",
    "em",
    "ex",
    "in",
    "mm",
    "pc",
    "pt",
    "px",
    "rem",
    "vh",
    "vmax",
    "vmin",
    "vw"
];
export function addCssUnits(d) {
    if (!cssUnits.some(u => {
        return d.includes(u);
    })) {
        d += "px"; // default to px
    }
    return d;
}
export function normaliseHref(href) {
    if (href.startsWith("../")) {
        href = href.split("../")[1];
    }
    if (href.indexOf("#") !== -1) {
        href = href.split("#")[0];
    }
    return href;
}
export function waitFor(test, successCallback, failureCallback, interval, maxTries, numTries) {
    if (!interval) {
        interval = 200;
    }
    if (!maxTries) {
        maxTries = 100;
    } // try 100 times over 20 seconds
    if (!numTries) {
        numTries = 0;
    }
    numTries += 1;
    if (numTries > maxTries) {
        if (failureCallback) {
            failureCallback();
        }
    }
    else if (test()) {
        successCallback();
    }
    else {
        setTimeout(() => {
            waitFor(test, successCallback, failureCallback, interval, maxTries, numTries);
        }, interval);
    }
}
