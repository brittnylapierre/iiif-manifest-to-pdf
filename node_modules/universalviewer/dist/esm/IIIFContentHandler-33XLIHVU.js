import{a as xr}from"./chunk-PRPUBGS3.js";import{a as sl,m as wr}from"./chunk-MDDFNWUW.js";import{a as rl,b as mr,f as yr}from"./chunk-VNQH5KC6.js";import{a as it}from"./chunk-RPOSMM7Q.js";import{b as j,c as il}from"./chunk-YAXTLTJC.js";var Er=j((Cr,Ir)=>{(function(f,a){var _=a.jQuery;typeof Cr=="object"?Ir.exports=_?f(a,_):function(T){return f(a,T)}:typeof define=="function"&&define.amd?define(["jquery"],function(T){return f(a,T)}):f(a,!1)})(function(f,a){"use strict";var _=a===!1;if(a=a||f.jQuery,!a||!a.fn)throw"JsViews requires jQuery";var T="v0.9.83",y,k,q,E,C,M,L,Q,B,V,me,we,wt,Pe,F,he,Se,Te,st,Je,Ae,at,Ct,ui,Gh,rf=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,sf=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,Nt,ln=/[ \t]*(\r\n|\n|\r)/g,di=/\\(['"])/g,ci=/['"\\]/g,af=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,of=/^if\s/,un=/<(\w+)[>\s]/,ff=/[\x00`><"'&=]/g,lf=/[\x00`><\"'&=]/,pi=/^on[A-Z]|^convert(Back)?$/,uf=/^\#\d+_`[\s\S]*\/\d+_`$/,df=ff,cf=0,hi={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},je="html",Me="object",dn="data-jsv-tmpl",Ze="jsvTmpl",gi="For #index in nested block use #getIndex().",_i={},Vt=f.jsrender,pf=Vt&&a&&!a.render,cn={template:{compile:xi},tag:{compile:Cf},viewModel:{compile:Tf},helper:{},converter:{}};C={jsviews:T,sub:{View:ot,Err:gn,tmplFn:vn,parse:Oi,extend:ae,extendCtx:$e,syntaxErr:ye,onStore:{},addSetting:Ii,settings:{allowCode:!1},advSet:hn,_ths:pn,_tg:function(){},_cnvt:bf,_tag:xf,_er:He,_err:Ai,_html:yn,_cp:zt,_sq:function(e){return e==="constructor"&&ye(""),e}},settings:{delimiters:Kt,advanced:function(e){return e?(ae(Se,e),F.advSet(),Te):Se}},getCtx:zt,map:Ei};function vi(e,t){return function(){var n,i=this,r=i.base;return i.base=e,n=t.apply(i,arguments),i.base=r,n}}function bi(e,t){return B(t)&&(t=vi(e?e._d?e:vi(hn,e):hn,t),t._d=1),t}function pn(e,t){for(var n in t.props)pi.test(n)&&(e[n]=bi(e[n],t.props[n]))}function zt(e){return e}function hn(){return""}function hf(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch{}return this.base?this.baseApply(arguments):e}function gn(e){this.name=(a.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function ae(e,t){for(var n in t)e[n]=t[n];return e}(gn.prototype=new Error).constructor=gn;function Kt(e,t,n){return e?V(e)?Kt.apply(C,e):(he.delimiters=[e,t,Ct=n?n.charAt(0):Ct],st=e.charAt(0),Je=e.charAt(1),Ae=t.charAt(0),at=t.charAt(1),e="\\"+st+"(\\"+Ct+")?\\"+Je,t="\\"+Ae+"\\"+at,k="(?:(\\w+(?=[\\/\\s\\"+Ae+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+Ae+"]|\\"+Ae+"(?!\\"+at+"))*?)",F.rTag="(?:"+k+")",k=new RegExp("(?:"+e+k+"(\\/)?|\\"+st+"(\\"+Ct+")?\\"+Je+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),F.rTmpl=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),Te):he.delimiters}function gf(e,t){!t&&e!==!0&&(t=e,e=void 0);var n,i,r,s,o=this,l=!t||t==="root";if(e){if(s=t&&o.type===t&&o,!s)if(n=o.views,o._.useKey){for(i in n)if(s=t?n[i].get(e,t):n[i])break}else for(i=0,r=n.length;!s&&i<r;i++)s=t?n[i].get(e,t):n[i]}else if(l)for(;o.parent;)s=o,o=o.parent;else for(;o&&!s;)s=o.type===t?o:void 0,o=o.parent;return s}function mi(){var e=this.get("item");return e?e.index:void 0}mi.depends=function(){return[this.get("item"),"index"]};function yi(){return this.index}yi.depends="index";function _f(e,t){var n,i,r=this,s=r.ctx;if(s&&(s=s[e]),s===void 0&&(s=wt[e]),s&&s._cp){if(t)return i=F._ceo(s[1].deps),i.unshift(s[0]),i._cp=!0,i;s=C.getCtx(s)}return s&&B(s)&&!s._wrp&&(n=function(){return s.apply(!this||this===f?r:this,arguments)},n._wrp=r,ae(n,s)),n||s}function vf(e){return e&&(e.fn?e:this.getRsc("templates",e)||me(e))}function bf(e,t,n,i){var r,s,o=typeof n=="number"&&t.tmpl.bnds[n-1],l=t.linkCtx;return i!==void 0?n=i={props:{},args:[i]}:o&&(n=o(t.data,t,F)),s=n.args[0],(e||o)&&(r=l&&l.tag,r||(r=ae(new F._tg,{_:{inline:!l,bnd:o,unlinked:!0},tagName:":",cvt:e,flow:!0,tagCtx:n}),l&&(l.tag=r,r.linkCtx=l),n.ctx=$e(n.ctx,(l?l.view:t).ctx)),r._er=i&&s,pn(r,n),n.view=t,r.ctx=n.ctx||r.ctx||{},n.ctx=void 0,s=r.cvtArgs(e!=="true"&&e)[0],s=o&&t._.onRender?t._.onRender(s,t,r):s),s??""}function mf(e){var t=this,n=t.tagCtx,i=n.view,r=n.args;return e=e||t.convert,e=e&&(""+e===e?i.getRsc("converters",e)||He("Unknown converter: '"+e+"'"):e),r=!r.length&&!n.index?[i.data]:e?r.slice():r,e&&(e.depends&&(t.depends=F.getDeps(t.depends,t,e.depends,e)),r[0]=e.apply(t,r)),r}function yf(e,t){for(var n,i,r=this;n===void 0&&r;)i=r.tmpl&&r.tmpl[e],n=i&&i[t],r=r.parent;return n||C[e][t]}function xf(e,t,n,i,r,s){t=t||E;var o,l,u,c,v,b,p,h,d,m,x,O,I,S,g,w,A,H,$,D,P,R="",z=t.linkCtx||0,G=t.ctx,ne=n||t.tmpl,Y=typeof i=="number"&&t.tmpl.bnds[i-1];for(e._is==="tag"?(o=e,e=o.tagName,i=o.tagCtxs,c=o.template):(u=t.getRsc("tags",e)||He("Unknown tag: {{"+e+"}} "),c=u.template),s!==void 0?(R+=s,i=s=[{props:{},args:[]}]):Y&&(i=Y(t.data,t,F)),d=i.length,h=0;h<d;h++)x=i[h],(!z||!z.tag||h&&!z.tag._.inline||o._er)&&((I=ne.tmpls&&x.tmpl)&&(I=x.content=ne.tmpls[I-1]),x.index=h,x.tmpl=I,x.render=_n,x.view=t,x.ctx=$e(x.ctx,G)),(n=x.props.tmpl)&&(x.tmpl=t.getTmpl(n)),o||(o=new u._ctr,S=!!o.init,o.parent=p=G&&G.tag,o.tagCtxs=i,D=o.dataMap,z&&(o._.inline=!1,z.tag=o,o.linkCtx=z),(o._.bnd=Y||z.fn)?o._.arrVws={}:o.dataBoundOnly&&He("{^{"+e+"}} tag must be data-bound")),i=o.tagCtxs,D=o.dataMap,x.tag=o,D&&i&&(x.map=i[h].map),o.flow||(O=x.ctx=x.ctx||{},v=o.parents=O.parentTags=G&&$e(O.parentTags,G.parentTags)||{},p&&(v[p.tagName]=p),v[o.tagName]=O.tag=o);if(!(o._er=s)){for(pn(o,i[0]),o.rendering={},h=0;h<d;h++)x=o.tagCtx=i[h],H=x.props,A=o.cvtArgs(),(g=H.dataMap||D)&&(A.length||H.dataMap)&&(w=x.map,(!w||w.src!==A[0]||r)&&(w&&w.src&&w.unmap(),w=x.map=g.map(A[0],H,void 0,!o._.bnd)),A=[w.tgt]),o.ctx=x.ctx,h||(S&&($=o.template,o.init(x,z,o.ctx),S=void 0),z&&(z.attr=o.attr=z.attr||o.attr),b=o.attr,o._.noVws=b&&b!==je),m=void 0,o.render&&(m=o.render.apply(o,A),t.linked&&m&&o.linkedElem&&!uf.test(m)&&(m=Ti(a.templates(m),A[0],void 0,void 0,t,void 0,void 0,o))),A.length||(A=[t]),m===void 0&&(P=A[0],o.contentCtx&&(P=o.contentCtx(P)),m=x.render(P,!0)||(r?void 0:"")),R=R?R+(m||""):m;o.rendering=void 0}return o.tagCtx=i[0],o.ctx=o.tagCtx.ctx,o._.noVws&&o._.inline&&(R=b==="text"?we.html(R):""),Y&&t._.onRender?t._.onRender(R,t,o):R}function ot(e,t,n,i,r,s,o,l){var u,c,v,b,p=this,h=t==="array";p.content=l,p.views=h?[]:{},p.parent=n,p.type=t||"top",p.data=i,p.tmpl=r,b=p._={key:0,useKey:h?0:1,id:""+cf++,onRender:o,bnds:{}},p.linked=!!o,n?(u=n.views,c=n._,c.useKey?(u[b.key="_"+c.useKey++]=p,p.index=gi,p.getIndex=mi):u.length===(b.key=p.index=s)?u.push(p):u.splice(s,0,p),p.ctx=e||n.ctx):p.ctx=e}ot.prototype={get:gf,getIndex:yi,getRsc:yf,getTmpl:vf,hlp:_f,_is:"view"};function wf(e){var t,n,i;for(t in cn)n=t+"s",e[n]&&(i=e[n],e[n]={},C[n](i,e))}function Cf(e,t,n){var i,r,s,o=new F._tg;function l(){var u=this;u._={inline:!0,unlinked:!0},u.tagName=e}if(B(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),r=t.baseTag){t.flow=!!t.flow,t.baseTag=r=""+r===r?n&&n.tags[r]||Pe[r]:r,o=ae(o,r);for(s in t)o[s]=bi(r[s],t[s])}else o=ae(o,t);return(i=o.template)!==void 0&&(o.template=""+i===i?me[i]||me(i):i),o.init!==!1&&((l.prototype=o).constructor=o._ctr=l),n&&(o._parentTmpl=n),o}function If(e){return this.base.apply(this,e)}function xi(e,t,n,i){function r(u){var c,v;if(""+u===u||u.nodeType>0&&(s=u)){if(!s){if(/^\.\/[^\\:*?"<>]*$/.test(u))(v=me[e=e||u])?u=v:s=document.getElementById(u);else if(a.fn&&!F.rTmpl.test(u))try{s=a(document).find(u)[0]}catch{}}s&&(i?u=s.innerHTML:(c=s.getAttribute(dn),c?c!==Ze?(u=me[c],delete me[c]):a.fn&&(u=a.data(s)[Ze]):(e=e||(a.fn?Ze:u),u=xi(e,s.innerHTML,n,i)),u.tmplName=e=e||c,e!==Ze&&(me[e]=u),s.setAttribute(dn,e),a.fn&&a.data(s,Ze,u))),s=void 0}else u.fn||(u=void 0);return u}var s,o,l=t=t||"";if(i===0&&(i=void 0,l=r(l)),i=i||(t.markup?t:{}),i.tmplName=e,n&&(i._parentTmpl=n),!l&&t.markup&&(l=r(t.markup))&&l.fn&&(l=l.markup),l!==void 0)return l.fn||t.fn?l.fn&&(o=l):(t=Ci(l,i),vn(l.replace(ci,"\\$&"),t)),o||(o=ae(function(){return o.render.apply(o,arguments)},t),wf(o)),e&&!n&&e!==Ze&&(_i[e]=o),o}function Ef(e,t){return a.isFunction(e)?e.call(t):e}function wi(e){var t,n=[],i=e.length;for(t=0;t<i;t++)n.push(e[t].unmap());return n}function Tf(e,t){var n,i,r=this,s=t.getters,o=t.extend,l=t.id,u=a.extend({_is:e||"unnamed",unmap:S,merge:I},o),c="",v="",b=s?s.length:0,p=a.observable,h={};function d(g){i.apply(this,g)}function m(){return new d(arguments)}function x(g,w){var A,H,$,D,P,R=s.length;for(A=0;A<R;A++)D=s[A],H=void 0,D+""!==D&&(H=D,D=H.getter),(P=g[D])===void 0&&H&&($=H.defaultVal)!==void 0&&(P=Ef($,g)),w(P,H&&r[H.type],D)}function O(g){g=g+""===g?JSON.parse(g):g;var w,A,H,$,D,P=g,R=[];if(V(g)){for(g=g||[],H=g.length,w=0;w<H;w++)R.push(this.map(g[w]));return R._is=e,R.unmap=S,R.merge=I,R}if(g){x(g,function(z,G){G&&(z=G.map(z)),R.push(z)}),P=this.apply(this,R);for(D in g)D!==Q&&!h[D]&&(P[D]=g[D])}return P}function I(g){g=g+""===g?JSON.parse(g):g;var w,A,H,$,D,P,R,z,G,ne,Y=this;if(V(Y)){for(z={},ne=[],H=g.length,$=Y.length,w=0;w<H;w++){for(G=g[w],R=!1,A=0;A<$&&!R;A++)z[A]||(P=Y[A],l&&(z[A]=R=l+""===l?G[l]&&(h[l]?P[l]():P[l])===G[l]:l(P,G)));R?(P.merge(G),ne.push(P)):ne.push(m.map(G))}p?p(Y).refresh(ne,!0):Y.splice.apply(Y,[0,Y.length].concat(ne));return}x(g,function(_e,ee,K){ee?Y[K]().merge(_e):Y[K](_e)});for(D in g)D!==Q&&!h[D]&&(Y[D]=g[D])}function S(){var g,w,A,H,$,D,P,R=this;if(V(R))return wi(R);for(g={},H=s.length,A=0;A<H;A++)w=s[A],$=void 0,w+""!==w&&($=w,w=$.getter),P=R[w](),g[w]=$&&P&&r[$.type]?V(P)?wi(P):P.unmap():P;for(w in R)w!=="_is"&&!h[w]&&w!==Q&&(w.charAt(0)!=="_"||!h[w.slice(1)])&&!a.isFunction(R[w])&&(g[w]=R[w]);return g}for(d.prototype=u,n=0;n<b;n++)(function(g){g=g.getter||g,h[g]=n+1;var w="_"+g;c+=(c?",":"")+g,v+="this."+w+" = "+g+`;
`,u[g]=u[g]||function(A){if(!arguments.length)return this[w];p?p(this).setProperty(g,A):this[w]=A},p&&(u[g].set=u[g].set||function(A){this[w]=A})})(s[n]);return i=new Function(c,v.slice(0,-1)),i.prototype=u,u.constructor=i,m.map=O,m.getters=s,m.extend=o,m.id=l,m}function Ci(e,t){var n,i=Se._wm||{},r=ae({tmpls:[],links:{},bnds:[],_is:"template",render:_n},t);return r.markup=e,t.htmlTag||(n=un.exec(e),r.htmlTag=n?n[1].toLowerCase():""),n=i[r.htmlTag],n&&n!==i.div&&(r.markup=a.trim(r.markup)),r}function Af(e,t){function n(r,s,o){var l,u,c,v;if(r&&typeof r===Me&&!r.nodeType&&!r.markup&&!r.getTgt&&!(e==="viewModel"&&r.getters||r.extend)){for(c in r)n(c,r[c],s);return s||C}return s===void 0&&(s=r,r=void 0),r&&""+r!==r&&(o=s,s=r,r=void 0),v=o?e==="viewModel"?o:o[i]=o[i]||{}:n,u=t.compile,s===null?r&&delete v[r]:(s=u?u.call(v,r,s,o,0):s,r&&(v[r]=s)),u&&s&&(s._is=e),s&&(l=F.onStore[e])&&l(r,s,u),s}var i=e+"s";C[i]=n}function Ii(e){Te[e]=function(t){return arguments.length?(he[e]=t,Te):he[e]}}function Ei(e){function t(n,i){this.tgt=e.getTgt(n,i)}return B(e)&&(e={getTgt:e}),e.baseMap&&(e=ae(ae({},e.baseMap),e)),e.map=function(n,i){return new t(n,i)},e}function _n(e,t,n,i,r,s){var o,l,u,c,v,b,p,h,d=i,m="";if(t===!0?(n=t,t=void 0):typeof t!==Me&&(t=void 0),(u=this.tag)?(v=this,d=d||v.view,c=d.getTmpl(u.template||v.tmpl),arguments.length||(e=d)):c=this,c){if(!i&&e&&e._is==="view"&&(d=e),d&&e===d&&(e=d.data),b=!d,Nt=Nt||b,d||((t=t||{}).root=e),!Nt||Se.useViews||c.useViews||d&&d!==E)m=Ti(c,e,t,n,d,r,s,u);else{if(d?(p=d.data,h=d.index,d.index=gi):(d=E,d.data=e,d.ctx=t),V(e)&&!n)for(o=0,l=e.length;o<l;o++)d.index=o,d.data=e[o],m+=c.fn(e[o],d,F);else d.data=e,m+=c.fn(e,d,F);d.data=p,d.index=h}b&&(Nt=void 0)}return m}function Ti(e,t,n,i,r,s,o,l){function u(A){S=ae({},n),S[I]=A}var c,v,b,p,h,d,m,x,O,I,S,g,w="";if(l&&(O=l.tagName,g=l.tagCtx,n=n?$e(n,l.ctx):l.ctx,e===r.content?m=e!==r.ctx._wrp?r.ctx._wrp:void 0:e!==g.content?e===l.template?(m=g.tmpl,n._wrp=g.content):m=g.content||r.content:m=r.content,g.props.link===!1&&(n=n||{},n.link=!1),(I=g.props.itemVar)&&(I.charAt(0)!=="~"&&ye("Use itemVar='~myItem'"),I=I.slice(1))),r&&(o=o||r._.onRender,n=$e(n,r.ctx)),s===!0&&(d=!0,s=0),o&&(n&&n.link===!1||l&&l._.noVws)&&(o=void 0),x=o,o===!0&&(x=void 0,o=r._.onRender),n=e.helpers?$e(e.helpers,n):n,S=n,V(t)&&!i)for(b=d?r:s!==void 0&&r||new ot(n,"array",r,t,e,s,o,m),r&&r._.useKey&&(b._.bnd=!l||l._.bnd&&l),I&&(b.it=I),I=b.it,c=0,v=t.length;c<v;c++)I&&u(t[c]),p=new ot(S,"item",b,t[c],e,(s||0)+c,o,b.content),h=e.fn(t[c],p,F),w+=b._.onRender?b._.onRender(h,p):h;else I&&u(t),b=d?r:new ot(S,O||"data",r,t,e,s,o,m),l&&!l.flow&&(b.tag=l,l.view=b),w+=e.fn(t,b,F);return x?x(w,b):w}function Ai(e,t,n){var i=n!==void 0?B(n)?n.call(t.data,e,t):n||"":"{Error: "+e.message+"}";return he.onError&&(n=he.onError.call(t.data,e,n&&i,t))!==void 0&&(i=n),t&&!t.linkCtx?we.html(i):i}function He(e){throw new F.Err(e)}function ye(e){He(`Syntax error
`+e)}function vn(e,t,n,i,r){function s(S){S-=m,S&&O.push(e.substr(m,S).replace(ln,"\\n"))}function o(S,g){S&&(S+="}}",ye((g?"{{"+g+"}} block has {{/"+S+" without {{"+S:"Unmatched or missing {{/"+S)+`, in template:
`+e))}function l(S,g,w,A,H,$,D,P,R,z,G,ne){(D&&g||R&&!w||P&&P.slice(-1)===":"||z)&&ye(S),$&&(H=":",A=je),R=R||n&&!r;var Y=(g||n)&&[[]],_e="",ee="",K="",J="",te="",U="",pe="",N="",ue=!R&&!H;w=w||(P=P||"#data",H),s(ne),m=ne+S.length,D?h&&O.push(["*",`
`+P.replace(/^:/,"ret+= ").replace(di,"$1")+`;
`]):w?(w==="else"&&(of.test(P)&&ye('for "{{else if expr}}" use "{{else expr}}"'),Y=I[7]&&[[]],I[8]=e.substring(I[8],ne),I=x.pop(),O=I[2],ue=!0),P&&Oi(P.replace(ln," "),Y,t).replace(af,function(de,W,ie,Z,se,be,ce,xe){return Z="'"+se+"':",ce?(ee+=be+",",J+="'"+xe+"',"):ie?(K+=Z+"j._cp("+be+',"'+xe+'",view),',U+=Z+"'"+xe+"',"):W?pe+=be:(se==="trigger"&&(N+=be),_e+=Z+be+",",te+=Z+"'"+xe+"',",b=b||pi.test(se)),""}).slice(0,-1),Y&&Y[0]&&Y.pop(),v=[w,A||!!i||b||"",ue&&[],ji(J||(w===":"?"'#data',":""),te,U),ji(ee||(w===":"?"data,":""),_e,K),pe,N,Y||0],O.push(v),ue&&(x.push(I),I=v,I[8]=m)):G&&(o(G!==I[0]&&I[0]!=="else"&&G,I[0]),I[8]=e.substring(I[8],ne),I=x.pop()),o(!I&&G),O=I[2]}var u,c,v,b,p,h=he.allowCode||t&&t.allowCode||Te.allowCode===!0,d=[],m=0,x=[],O=d,I=[,,d];if(h&&t._is&&(t.allowCode=h),n&&(i!==void 0&&(e=e.slice(0,-i.length-2)+Ae),e=st+e+at),o(x[0]&&x[0][2].pop()[0]),e.replace(k,l),s(e.length),(m=d[d.length-1])&&o(""+m!==m&&+m[8]===m[8]&&m[0]),n){for(c=mn(d,e,n),p=[],u=d.length;u--;)p.unshift(d[u][7]);bn(c,p)}else c=mn(d,t);return c}function bn(e,t){var n,i,r=0,s=t.length;for(e.deps=[],e.paths=[];r<s;r++){e.paths.push(i=t[r]);for(n in i)n!=="_jsvto"&&i.hasOwnProperty(n)&&i[n].length&&!i[n].skp&&(e.deps=e.deps.concat(i[n]))}}function ji(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function qi(e,t){return`
	`+(t?t+":{":"")+"args:["+e[0]+"]"+(e[1]||!t?`,
	props:{`+e[1]+"}":"")+(e[2]?`,
	ctx:{`+e[2]+"}":"")}function Oi(e,t,n){function i(I,S,g,w,A,H,$,D,P,R,z,G,ne,Y,_e,ee,K,J,te,U){function pe(se,be,ce,xe,Xe,Qe,De,Ne){var Ce=ce===".";if(ce&&(A=A.slice(be.length),/^\.?constructor$/.test(Ne||A)&&ye(se),Ce||(se=(xe?'view.hlp("'+xe+'")':Xe?"view":"data")+(Ne?(Qe?"."+Qe:xe||Xe?"":"."+ce)+(De||""):(Ne=xe?"":Xe?Qe||"":ce,"")),se=se+(Ne?"."+Ne:""),se=be+(se.slice(0,9)==="view.data"?se.slice(5):se)),c)){if(de=r==="linkTo"?s=t._jsvto=t._jsvto||[]:v.bd,W=Ce&&de[de.length-1]){if(W._jsv){for(;W.sb;)W=W.sb;W.bnd&&(A="^"+A.slice(1)),W.sb=A,W.bnd=W.bnd||A.charAt(0)==="^"}}else de.push(A);x[d]=te+(Ce?1:0)}return se}w&&!D&&(A=w+A),H=H||"",g=g||S||G,A=A||P,R=R||K||"";var N,ue,de,W,ie,Z=")";if(R==="["&&(R="[j._sq(",Z=")]"),$&&!u&&!l)ye(e);else{if(c&&ee&&!u&&!l&&(!r||o||s)&&(N=x[d-1],U.length-1>te-(N||0))){if(N=U.slice(N,te+I.length),ue!==!0)if(de=s||b[d-1].bd,W=de[de.length-1],W&&W.prm){for(;W.sb&&W.sb.prm;)W=W.sb;ie=W.sb={path:W.sb,bnd:W.bnd}}else de.push(ie={path:de.pop()});ee=Je+":"+N+" onerror=''"+Ae,ue=h[ee],ue||(h[ee]=!0,h[ee]=ue=vn(ee,n,!0)),ue!==!0&&ie&&(ie._jsv=ue,ie.prm=v.bd,ie.bnd=ie.bnd||ie.path&&ie.path.indexOf("^")>=0)}return u?(u=!ne,u?I:G+'"'):l?(l=!Y,l?I:G+'"'):(g?(x[d]=te++,v=b[++d]={bd:[]},g):"")+(J?d?"":(p=U.slice(p,te),(r?(r=o=s=!1,"\b"):"\b,")+p+(p=te+I.length,c&&t.push(v.bd=[]),"\b")):D?(d&&ye(e),c&&t.pop(),r=A,o=w,p=te+I.length,c&&(c=v.bd=t[r]=[],c.skp=!w),A+":"):A?A.split("^").join(".").replace(rf,pe)+(R?(v=b[++d]={bd:[]},m[d]=Z,R):H):H||(_e?(_e=m[d]||_e,m[d]=!1,v=b[--d],_e+(R?(v=b[++d],m[d]=Z,R):"")):z?(m[d]||ye(e),","):S?"":(u=ne,l=Y,'"')))}}var r,s,o,l,u,c=t&&t[0],v={bd:c},b={0:v},p=0,h=(n?n.links:c&&(c.links=c.links||{}))||E.tmpl.links,d=0,m={},x={},O=(e+(n?" ":"")).replace(sf,i);return!d&&O||ye(e)}function mn(e,t,n){var i,r,s,o,l,u,c,v,b,p,h,d,m,x,O,I,S,g,w,A,H,$,D,P,R,z,G,ne,Y,_e,ee=0,K=Se.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,J="",te={},U=e.length;for(""+t===t?(g=n?'data-link="'+t.replace(ln," ").slice(1,-1)+'"':t,t=0):(g=t.tmplName||"unnamed",t.allowCode&&(te.allowCode=!0),t.debug&&(te.debug=!0),h=t.bnds,S=t.tmpls),i=0;i<U;i++)if(r=e[i],""+r===r)J+=`
+"`+r+'"';else if(s=r[0],s==="*")J+=`;
`+r[1]+`
ret=ret`;else{if(o=r[1],H=!n&&r[2],l=qi(r[3],"params")+"},"+qi(m=r[4]),ne=r[5],_e=r[6],$=r[8]&&r[8].replace(di,"$1"),(R=s==="else")?d&&d.push(r[7]):(ee=0,h&&(d=r[7])&&(d=[d],ee=h.push(1))),K=K||m[1]||m[2]||d||/view.(?!index)/.test(m[0]),(z=s===":")?o&&(s=o===je?">":o+s):(H&&(w=Ci($,te),w.tmplName=g+"/"+s,w.useViews=w.useViews||K,mn(H,w),K=w.useViews,S.push(w)),R||(A=s,K=K||s&&(!Pe[s]||!Pe[s].flow),P=J,J=""),D=e[i+1],D=D&&D[0]==="else"),Y=ne?`;
try{
ret+=`:`
+`,x="",O="",z&&(d||_e||o&&o!==je)){if(G=new Function("data,view,j,u"," // "+g+" "+ee+" "+s+`
return {`+l+"};"),G._er=ne,G._tag=s,n)return G;bn(G,d),I='c("'+o+'",view,',p=!0,x=I+ee+",",O=")"}if(J+=z?(n?(ne?`try{
`:"")+"return ":Y)+(p?(p=void 0,K=b=!0,I+(d?(h[ee-1]=G,ee):"{"+l+"}")+")"):s===">"?(c=!0,"h("+m[0]+")"):(v=!0,"((v="+m[0]+")!=null?v:"+(n?"null)":'"")'))):(u=!0,`
{view:view,tmpl:`+(H?S.length:"0")+","+l+"},"),A&&!D){if(J="["+J.slice(0,-1)+"]",I='t("'+A+'",view,this,',n||d){if(J=new Function("data,view,j,u"," // "+g+" "+ee+" "+A+`
return `+J+";"),J._er=ne,J._tag=A,d&&bn(h[ee-1]=J,d),n)return J;x=I+ee+",undefined,",O=")"}J=P+Y+I+(ee||J)+")",d=0,A=0}ne&&(K=!0,J+=`;
}catch(e){ret`+(n?"urn ":"+=")+x+"j._err(e,view,"+ne+")"+O+";}"+(n?"":"ret=ret"))}J="// "+g+`
var v`+(u?",t=j._tag":"")+(b?",c=j._cnvt":"")+(c?",h=j._html":"")+(n?`;
`:`,ret=""
`)+(te.debug?"debugger;":"")+J+(n?`
`:`;
return ret;`),he.debugMode!==!1&&(J=`try {
`+J+`
}catch(e){
return j._err(e, view);
}`);try{J=new Function("data,view,j,u",J)}catch(pe){ye(`Compiled template code:

`+J+`
: "`+pe.message+'"')}return t&&(t.fn=J,t.useViews=!!K),J}function $e(e,t){return e&&e!==t?t?ae(ae({},t),e):e:t&&ae({},t)}function jf(e){return hi[e]||(hi[e]="&#"+e.charCodeAt(0)+";")}function qf(e){var t,n,i=[];if(typeof e===Me)for(t in e)n=e[t],t!==Q&&e.hasOwnProperty(t)&&!B(n)&&i.push({key:t,prop:n});return i}function ki(e,t,n){var i=this.jquery&&(this[0]||He("Unknown template")),r=i.getAttribute(dn);return _n.call(r?a.data(i)[Ze]:me(i),e,t,n)}function yn(e){return e!=null?lf.test(e)&&(""+e).replace(df,jf)||e:""}if(F=C.sub,Te=C.settings,!(Vt||a&&a.render)){for(y in cn)Af(y,cn[y]);we=C.converters,wt=C.helpers,Pe=C.tags,F._tg.prototype={baseApply:If,cvtArgs:mf},E=F.topView=new ot,a?(a.fn.render=ki,Q=a.expando,a.observable&&(ae(F,a.views.sub),C.map=a.views.map)):(a={},_&&(f.jsrender=a),a.renderFile=a.__express=a.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},a.isFunction=function(e){return typeof e=="function"},a.isArray=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"},F._jq=function(e){e!==a&&(ae(e,a),a=e,a.fn.render=ki,delete a.jsrender,Q=a.expando)},a.jsrender=T),he=F.settings,he.allowCode=!1,B=a.isFunction,a.render=_i,a.views=C,a.templates=me=C.templates;for(ui in he)Ii(ui);(Te.debugMode=function(e){return e===void 0?he.debugMode:(he.debugMode=e,he.onError=e+""===e?new Function("","return '"+e+"';"):B(e)?e:void 0,Te)})(!1),Se=he.advanced={useViews:!1,_jsv:!1},Pe({if:{render:function(e){var t=this,n=t.tagCtx,i=t.rendering.done||!e&&(arguments.length||!n.index)?"":(t.rendering.done=!0,t.selected=n.index,n.render(n.view,!0));return i},flow:!0},for:{render:function(e){var t=!arguments.length,n,i=this,r=i.tagCtx,s="",o=0;return i.rendering.done||(n=t?r.view.data:e,n!==void 0&&(s+=r.render(n,t),o+=V(n)?n.length:1),(i.rendering.done=o)&&(i.selected=r.index)),s},flow:!0},props:{baseTag:"for",dataMap:Ei(qf),flow:!0},include:{flow:!0},"*":{render:zt,flow:!0},":*":{render:zt,flow:!0},dbg:wt.dbg=we.dbg=hf}),we({html:yn,attr:yn,url:function(e){return e!=null?encodeURI(""+e):e===null?e:""}})}if(he=F.settings,V=(a||Vt).isArray,Te.delimiters("{{","}}","^"),pf&&Vt.views.sub._jq(a),C=a.views,F=C.sub,B=a.isFunction,V=a.isArray,Q=a.expando,!a.observe){var Si=a.event.special,Li=[].slice,xn=[].splice,Fi=[].concat,ft=parseInt,Of=/\S+/g,ze=F.propChng=F.propChng||"propertyChange",Ke=F.arrChng=F.arrChng||"arrayChange",We={},kf=ze+".observe",Sf=1,Lf=1,Ff=1,wn=a.hasData,et=a.data,Pi={},Cn=function(e){return e._cId=e._cId||".obs"+Lf++},In=function(e,t){return this._data=t,this._ns=e,this},En=function(e,t){return this._data=t,this._ns=e,this},Pf=function(e){return V(e)?[e]:e},Ri=function(e,t,n){e=e?V(e)?e:[e]:[];var i,r,s=t,o=s,l=e&&e.length,u=[];for(i=0;i<l;i++){if(r=e[i],B(r)){u=u.concat(Ri(r.call(t,t,n),t));continue}else if(""+r!==r){t=o=r,o!==s&&u.push(s=o);continue}o!==s&&u.push(s=o),u.push(r)}return u},Mi=function(e,t){for(var n in e)return;delete We[t]},Hi=function(e,t){function n(d){return typeof d===Me&&(p[0]||b&&V(d))}if(!(e.data&&e.data.off)){var i,r,s,o=t.oldValue,l=t.value,u=e.data,c=u.observeAll,v=u.cb,b=!v.noArray,p=u.paths,h=u.ns;e.type===Ke?(v.array||v).call(u,e,t):(u.prop===t.path||u.prop==="*")&&(c?(i=c._path+"."+t.path,r=c.filter,s=[e.target].concat(c.parents()),n(o)&&It(b,h,[o],p,v,!0,r,[s],i),n(l)&&It(b,h,[l],p,v,void 0,r,[s],i)):(n(o)&&It(b,h,[o],p,v,!0),n(l)&&It(b,h,[l],p,v)),u.cb(e,t))}},It=function(){var e=Fi.apply([],arguments);return M.apply(e.shift(),e)},Tn=function(e,t,n){Di(this._ns,this._data,e,t,[],"root",n)},Bi=function(e,t){Tn.call(this,e,t,!0)},Di=function(e,t,n,i,r,s,o,l){function u(I,S){for(b=I.length,h=s+"[]";b--;)c(I,b,S,1)}function c(I,S,g,w){var A,H;S!==Q&&(A=L._fltr(h,I[S],d,i))&&(H=d.slice(),w&&m&&H[0]!==m&&H.unshift(m),Di(e,A,n,i||(w?void 0:0),H,h,g,l))}function v(I,S){switch(s=I.data.observeAll._path,m=I.target,S.change){case"insert":u(S.items);break;case"remove":u(S.items,!0);break;case"set":h=s+"."+S.path,c(S,"oldValue",!0),c(S,"value")}m=void 0,n.apply(this,arguments)}var b,p,h,d,m,x,O=!l||l.un||!o;if(t&&typeof t===Me){if(d=[t].concat(r),p=V(t)?"":"*",l&&O&&wn(t)&&l[x=et(t).obId]){l[x]++;return}if(l||(l={un:o}),n){if(p||i!==0)if(v._cId=Cn(n),O)M(e,t,p,v,o,i,d,s),x=et(t).obId,l[x]=(l[x]||0)+1;else{if(--l[et(t).obId])return;M(e,t,p,v,o,i,d,s)}}else l&&(l[et(t).obId]=1),M(e,t,p,void 0,o,i,d,s);if(p)for(b in t)h=s+"."+b,c(t,b,o);else u(t,o)}},Ui=function(e){return e.indexOf(".")<0&&e.indexOf("[")<0},Rf=function(){return[].push.call(arguments,!0),M.apply(this,arguments)};M=function(){function e(){function s(N,ue,de,W){var ie,Z,se=wn(U),be=Pf(U),ce=z,xe=G;if(N=t?N+"."+t:N,!m&&(W||de)){for(w=se&&a._data(U),w=w&&w.events,w=w&&w[de?Ke:ze],S=w&&w.length;S--;)if(g=w[S]&&w[S].data,g&&(W&&g.ns!==t||!W&&g.ns===t&&g.cb&&g.cb._cId===x._cId))return}m||W?a(be).off(N,Hi):(Z=de?{}:{fullPath:h,paths:ue?[ue]:[],prop:p},Z.ns=t,Z.cb=x,G&&(Z.observeAll={_path:xe,path:function(){return ie=ce.length,xe.replace(/[[.]/g,function(Xe){return ie--,Xe==="["?"["+a.inArray(ce[ie-1],ce[ie]):"."})},parents:function(){return ce},filter:ne}),a(be).on(N,null,Z,Hi),D&&(D[et(U).obId||et(U,"obId",Sf++)]=U))}function o(N){var ue=te;return N.ob=A(N,ue),N.cb=function(de,W){var ie=N.ob,Z=N.sb,se=A(N,ue);se!==ie&&(typeof ie===Me&&(l(ie,!0),(Z||n&&V(ie))&&e([ie],Z,x,A,!0)),N.ob=se,typeof se===Me&&(l(se),(Z||n&&V(se))&&e([se],Z,x,A))),x(de,W)}}function l(N,ue,de,W){if(n){var ie=U,Z=G;U=N,W&&(U=N[W],G+="."+W),ne&&U&&(U=L._fltr(G,U,W?[N].concat(z):z,ne)),U&&(de||V(U))&&s(Ke+".observe"+(x?Cn(x):""),void 0,!0,ue),U=ie,G=Z}}var u,c,v,b,p,h,d,m,x,O,I,S,g,w,A,H,$,D,P,R,z,G,ne,Y,_e,ee=kf,K=this!=1?Fi.apply([],arguments):Li.call(arguments),J=K.pop()||!1,te=K.shift(),U=te,pe=K.length;if(J+""===J&&(G=J,z=K.pop(),ne=K.pop(),J=!!K.pop(),pe-=3),J===!!J&&(m=J,J=K[pe-1],J=pe&&J+""!==J&&(!J||B(J))?(pe--,K.pop()):void 0,m&&!pe&&B(te)&&(J=te,te=void 0)),x=J,pe&&B(K[pe-1])&&(H=A=x,x=K.pop(),pe--),!(m&&x&&!x._cId)){for(ee+=x?(I=x._inId||"",m?x._cId+I:(O=Cn(x))+I):"",O&&!m&&(D=We[O]=We[O]||{}),Y=t&&t.match(Of)||[""],_e=Y.length;_e--;){if(t=Y[_e],te&&(h=K[0],!h||h+""!==h)&&(V(te)?l(te,m,!0):m&&s(ee,"")),m&&!pe&&!te)for(c in We){c=We[c];for(g in c)U=c[g],V(U)?l(U,m,m):s(ee,"")}for(P=0,u=0;u<pe;u++)if(h=K[u],h!==""){if(h&&h._cp&&(A=F._gccb(h[0]),r=te=h[0].data,h=h[1]),U=te,""+h===h){if(b=h.split("^"),b[1]&&(P=b[0].split(".").length,h=b.join("."),P=h.split(".").length-P),A&&($=A(h,te,P),A=H),$){pe+=$.length-1,xn.apply(K,[u--,1].concat($));continue}b=h.split(".")}else B(h)||(h&&h._jsv?(R=m?h.cb:o(h),R.noArray=!n,R._cId=x._cId,R._inId=R._inId||".obIn"+Ff++,(h.bnd||h.prm&&h.prm.length||!h.sb)&&e([U],h.path,[r],h.prm,R,A,m),h.sb&&e([h.ob],h.sb,x,A,m),h=r,U=void 0):U=h),b=[te=h];for(;U&&(p=b.shift())!==void 0;)if(typeof U===Me){if(""+p===p){if(p==="")continue;if(b.length<P+1&&!U.nodeType){if(!m&&(w=wn(U)&&a._data(U))){for(w=w.events,w=w&&w[ze],S=w&&w.length,v=0;S--;)g=w[S].data,g&&g.ns===t&&g.cb._cId===x._cId&&g.cb._inId===x._inId&&(g.prop===p||g.prop==="*"||g.prop==="**")&&((c=b.join("."))&&g.paths.push(c),v++);if(v){U=U[p];continue}}if(p==="*"||p==="**"){if(!m&&w&&w.length&&s(ee,"",!1,!0),p==="*"){s(ee,"");for(c in U)c!==Q&&l(U,m,void 0,c)}else a.observable(t,U)[(m?"un":"")+"observeAll"](x);break}else p&&s(ee+".p_"+p,b.join("^"))}G&&(G+="."+p),p=U[p]}if(B(p)){(d=p.depends)&&e([U],Ri(d,U,x),x,A,m);break}U=p,m&&U===te&&(u>pe-2||K[u+1]+""!==K[u+1])&&s(ee,"")}l(U,m)}}return O&&Mi(D,O),{cbId:O,bnd:D}}}var t,n=this!=!1,i=Li.call(arguments),r=i[0];return r+""===r&&n&&(t=r,i.shift(),r=i[0]),e.apply(1,i)},L=function(e,t){return arguments.length===1&&(t=e,e=""),V(t)?new En(e,t):new In(e,t)},F.getDeps=function(){var e=arguments;return function(){for(var t,n,i=[],r=e.length;r--;)t=e[r--],n=e[r],n&&(i=i.concat(B(n)?n(t,t):n));return i}},a.observable=L,L._fltr=function(e,t,n,i){if(i&&B(i)?i(e,t,n):!0)return t=B(t)?t.set&&t.call(n[0]):t,typeof t===Me&&t},L.Object=In,L.Array=En,a.observe=L.observe=M,a.unobserve=L.unobserve=Rf,L._apply=It,In.prototype={_data:null,observeAll:Tn,unobserveAll:Bi,data:function(){return this._data},setProperty:function(e,t,n){e=e||"";var i,r,s,o=e+""!==e,l=this,u=l._data;if(u){if(o)if(n=t,V(e))for(i=e.length;i--;)r=e[i],l.setProperty(r.name,r.value,n===void 0||n);else for(i in e)l.setProperty(i,e[i],n);else if(e!==Q){for(s=e.split(/[.^]/);u&&s.length>1;)u=u[s.shift()];u&&l._setProperty(u,s[0],t,n)}}return l},removeProperty:function(e){return this.setProperty(e,Pi),this},_setProperty:function(e,t,n,i){var r,s,o,l=t?e[t]:e;B(l)&&l.set&&(e=e._wrp||e,s=l,r=s.set===!0?s:s.set,l=s.call(e)),(l!==n||i&&l!=n)&&(!(l instanceof Date)||l>n||l<n)&&(r?(r.call(e,n),n=s.call(e)):(o=n===Pi)?l!==void 0?(delete e[t],n=void 0):t=void 0:t&&(e[t]=n),t&&this._trigger(e,{change:"set",path:t,value:n,oldValue:l,remove:o}))},_trigger:function(e,t){a(e).triggerHandler(ze+(this._ns?"."+/^\S+/.exec(this._ns)[0]:""),t)}},En.prototype={_data:null,observeAll:Tn,unobserveAll:Bi,data:function(){return this._data},insert:function(e,t){var n=this._data;return arguments.length===1&&(t=e,e=n.length),e=ft(e),e>-1&&(t=V(t)?t:[t],t.length&&this._insert(e,t)),this},_insert:function(e,t){var n=this._data,i=n.length;e>i&&(e=i),xn.apply(n,[e,0].concat(t)),this._trigger({change:"insert",index:e,items:t},i)},remove:function(e,t){var n,i=this._data;return e===void 0&&(e=i.length-1),e=ft(e),t=t?ft(t):t===0?0:1,t>0&&e>-1&&(n=i.slice(e,e+t),(t=n.length)&&this._remove(e,t,n)),this},_remove:function(e,t,n){var i=this._data,r=i.length;i.splice(e,t),this._trigger({change:"remove",index:e,items:n},r)},move:function(e,t,n){return n=n?ft(n):n===0?0:1,e=ft(e),t=ft(t),n>0&&e>-1&&t>-1&&e!==t&&this._move(e,t,n),this},_move:function(e,t,n){var i,r=this._data,s=r.length,o=e+n-s;o>0&&(n-=o),n&&(i=r.splice(e,n),t>r.length&&(t=r.length),xn.apply(r,[t,0].concat(i)),this._trigger({change:"move",oldIndex:e,index:t,items:i},s))},refresh:function(e,t){function n(){s&&(u.insert(r-s,c),h+=s,i+=s,s=0,c=[])}var i,r,s,o,l,u=this,c=[],v=u._data,b=v.slice(),p=v.length,h=p,d=e.length;for(u._srt=!0,r=s=0;r<d;r++)if((o=e[r])===v[r-s])n();else{for(i=r-s;i<h&&o!==v[i];i++);if(i<h){for(n(),l=0;l++<d-i&&e[r+l]===v[i+l];);u.move(i,r,l),r+=l-1}else s++,c.push(o)}return n(),h>r&&u.remove(r,h-r),u._srt=void 0,u._trigger({change:"refresh",oldItems:b},p),u},_trigger:function(e,t){var n=this,i=n._data,r=i.length,s=a([i]);n._srt?e.refresh=!0:r!==t&&s.triggerHandler(ze,{change:"set",path:"length",value:r,oldValue:t}),s.triggerHandler(Ke+(n._ns?"."+/^\S+/.exec(n._ns)[0]:""),e)}},Si[ze]=Si[Ke]={remove:function(e){var t,n,i,r,s,o=e.data;if(o&&(o.off=!0,o=o.cb)&&(t=We[o._cId])){for(i=a._data(this).events[e.type],r=i.length;r--&&!n;)n=(s=i[r].data)&&s.cb&&s.cb._cId===o._cId;n||(delete t[et(this).obId],Mi(t,o._cId))}}},C.map=function(e){function t(n,i,r,s){var o,l=this;this.src&&this.unmap(),typeof n===Me&&(l.src=n,l.tgt=r||l.tgt||[],l.options=i||l.options,l.update(),s||(e.obsSrc&&L(l.src).observeAll(l.obs=function(u,c){o||(o=!0,e.obsSrc(l,u,c),o=void 0)},l.srcFlt),e.obsTgt&&L(l.tgt).observeAll(l.obt=function(u,c){o||(o=!0,e.obsTgt(l,u,c),o=void 0)},l.tgtFlt)))}return B(e)&&(e={getTgt:e}),e.baseMap&&(e=a.extend({},e.baseMap,e)),e.map=function(n,i,r,s){return new t(n,i,r,s)},(t.prototype={srcFlt:e.srcFlt||Ui,tgtFlt:e.tgtFlt||Ui,update:function(n){var i=this;L(i.tgt).refresh(e.getTgt(i.src,i.options=n||i.options))},unmap:function(){var n=this;n.src&&(n.obs&&L(n.src).unobserveAll(n.obs,n.srcFlt),n.obt&&L(n.tgt).unobserveAll(n.obt,n.tgtFlt),n.src=void 0)},map:t,_def:e}).constructor=t,e},F.advSet=function(){F._gccb=this._gccb,f._jsv=he.advanced._jsv?{cbBindings:We}:void 0}}if(Te=C.settings,he=F.settings,Se=he.advanced,we=C.converters,a.templates=me=C.templates,Pe=C.tags,un=/<(?!script)(\w+)[>\s]/,a.link)return a;he.trigger=!0;var lt,ut,Et,Ge,Ji,Le,Be,Gi,qe="data-jsv",Qi="change.jsv",An="onBeforeChange",jn="onAfterChange",Ni="onAfterCreate",tt="checked",Wt="checkbox",dt="radio",Tt="none",Xt="SCRIPT",At="true",Vi='"><\/script>',zi='<script type="jsv',Ki=qe+"-df",qn="script,["+qe+"]",On={value:"val",input:"val",html:je,text:"text"},Wi={from:"value",to:"value"},kn=0,Mf=a.cleanData,Xi=Te.delimiters,Yi=document.createDocumentFragment(),Sn=document.querySelector,Ln={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},Hf={tr:"table"},Fn={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},Zi={},Oe={},$i=1,Bf=/^#(view\.?)?/,Df=/((\/>)|<\/(\w+)>|)(\s*)([#\/]\d+(?:_|(\^)))`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>)|$)/g,er=/(#)()(\d+)(_)/g,Uf=/(#)()(\d+)([_^])/g,tr=/(?:(#)|(\/))(\d+)(_)/g,Jf=/(#)()(\d+)(\^)/g,Gf=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g,Qf=/&(\d+)\+?/g,nr=f.getComputedStyle;if(L=a.observable,!L)throw requiresStr+"JsObservable";M=L.observe;function nt(e,t,n){for(var i,r,s,o,l,u,c,v,b,p,h,d,m,x,O,I,S,g,w=e.target,A=w._jsvBnd;p=Qf.exec(A);)if((p=Oe[p[1]])&&(O=p.to)){if(o=p.linkCtx,b=o.view,x=o.tag||b.tag,v=a(w),d=b.hlp(An),m=b.hlp(jn),s=jt(w),i=On[s],n===void 0&&(n=B(s)?s(w):i?v[i]():v.attr(s)),u=O[1],O=O[0],O=O+""===O?[o.data,O]:O,u&&(B(u)?l=u:l=b.getRsc("converters",u)),o.elem.nodeName==="SELECT"&&(o.elem._jsvSel=n=n||(o.elem.multiple?[]:n)),l&&(n=l.call(x,n)),h=b.linkCtx,b.linkCtx=o,I={change:"change",oldValue:o._val,value:n},(!d||!(r=d.call(o,e,I)===!1))&&(!x||!x.onBeforeChange||!(r=x.onBeforeChange(e,I)===!1))&&n!==void 0&&(c=O[0],n!==void 0&&c)){if(c._jsv)for(g=o._ctxCb,S=c,c=o.data,S._cpCtx&&(c=S.data,g=S._cpCtx);S&&S.sb;)c=g(S,c),S=S.sb;x&&(x._.chging=!0),L(c).setProperty(O[1],n),m&&m.call(o,e,I),x&&(x.onAfterChange&&x.onAfterChange(e,I),x._.chging=void 0),o._val=n}b.linkCtx=h}}function Nf(e,t,n){var i,r,s,o,l,u,c=this,v=c.tag,b=c.data,p=c.elem,h=c.convert,d=p.parentNode,m=c.view,x=m.linkCtx,O=m.hlp(An);if(m.linkCtx=c,d&&(!O||!(t&&O.call(c,e,t)===!1))&&!(t&&e.data.prop!=="*"&&e.data.prop!==t.path)){if(t&&(c.eventArgs=t),t||c._toLk){if(c._toLk=0,n._er)try{r=n(b,m)}catch(I){l=n._er,u=Ai(I,m,new Function("data,view","return "+l+";")(b,m)),r=[{props:{},args:[u]}]}else r=n(b,m,F);if(i=Vf(r,c,v=c.tag,c.attr||jt(p,!0,h!==void 0)),v){if(o=l||v._er,r=r[0]?r:[r],s=!o&&t&&v.onUpdate&&v.onUpdate(e,t,r)===!1,dr(v,r,o),s||i===Tt){Zt(v,e,t),ar(c,b,p),m.linkCtx=x;return}if(v._.chging)return;v.onUnbind&&v.onUnbind(v.tagCtx,c,v.ctx,e,t),r=v.tagName===":"?F._cnvt(v.cvt,m,r[0]):F._tag(v,m,m.tmpl,r,!0,u)}else n._tag&&(h=h===""?At:h,r=h?F._cnvt(h,m,r[0]||r):F._tag(n._tag,m,m.tmpl,r,!0,u),Ot(v=c.tag,!0),i=c.attr||i);ir(r,c,i,v)&&t&&(O=m.hlp(jn))&&O.call(c,e,t),c._noUpd=0,v&&(v._er=l,Zt(v,e,t))}ar(c,b,p),m.linkCtx=x}}function Vf(e,t,n,i){var r,s,o,l,u=n&&n.parentElem||t.elem;if(e!==void 0){if(l=a(u),i=n&&n.attr||i,B(e)&&He(t.expr+": missing parens"),o=/^css-/.test(i)&&i.slice(4))r=a.style(u,o),+e===e&&(r=parseInt(r));else if(i!=="link"){if(i==="value")u.type===Wt&&(r=l.prop(i=tt));else if(i===dt)if(u.value===""+e)r=l.prop(tt);else return i;r===void 0&&(s=On[i],r=s?l[s]():l.attr(i))}t._val=r}return i}function Re(e,t){e._df=t,e[(t?"set":"remove")+"Attribute"](Ki,"")}function ir(e,t,n,i){var r,s,o,l,u,c,v,b,p,h,d,m,x,O,I=n!==Tt&&e!==void 0&&!t._noUpd,S=t.data,g=i&&i.parentElem||t.elem,w=g.parentNode,A=a(g),H=t.view,$=t._val,D=H.linkCtx,P=i;if(i&&(i._.unlinked=!0,i.parentElem=i.parentElem||t.expr||i._elCnt?g:w,s=i._prv,o=i._nxt),!!I)return n==="visible"&&(n="css-display"),/^css-/.test(n)?(t.attr==="visible"&&(x=(g.currentStyle||nr.call(f,g,"")).display,e?(e=g._jsvd||x,e===Tt&&!(e=Zi[m=g.nodeName])&&(d=document.createElement(m),document.body.appendChild(d),e=Zi[m]=(d.currentStyle||nr.call(f,d,"")).display,document.body.removeChild(d))):(g._jsvd=x,e=Tt)),(P=P||$!==e)&&a.style(g,n.slice(4),e)):n!=="link"&&(/^data-/.test(n)&&a.data(g,n.slice(5),e),n===tt?(c=!0,e=e&&e!=="false"):n===dt?(c=!0,n=tt,e=g.value===""+e):n==="selected"||n==="disabled"||n==="multiple"||n==="readonly"?e=e&&e!=="false"?n:null:n==="value"&&g.nodeName==="SELECT"&&(g._jsvSel=V(e)?e:""+e),(r=On[n])?n===je?(H.linkCtx=t,i&&i._.inline?(u=i.nodes(!0),i._elCnt&&(s&&s!==o?Dn(s,o,g,i._tgId,"^",!0):(v=g._df)&&(b=i._tgId+"^",p=v.indexOf("#"+b)+1,h=v.indexOf("/"+b),p&&h>0&&(p+=b.length,h>p&&(Re(g,v.slice(0,p)+v.slice(h)),pr(v.slice(p,h))))),s=s?s.previousSibling:o?o.previousSibling:g.lastChild),a(u).remove(),l=H.link(H.data,g,s,o,e,i&&{tag:i._tgId,lazyLink:i.tagCtx.props.lazyLink})):(I=I&&$!==e,I&&A.empty(),I&&(l=H.link(S,g,s,o,e,i&&{tag:i._tgId}))),H.linkCtx=D):((P=P||$!==e)&&(n==="text"&&g.children&&!g.children[0]?g.textContent!==void 0?g.textContent=e:g.innerText=e===null?"":e:A[r](e)),(O=w._jsvSel)&&(n==="value"||!A.attr("value"))&&(g.selected=a.inArray(""+e,V(O)?O:[O])>-1)):(P=P||$!==e)&&A[c?"prop":"attr"](n,e===void 0&&!c?null:e),t._val=e),l||P}function rr(e,t){var n=this,i=n.hlp(An),r=n.hlp(jn);if(!i||i.call(this,e,t)!==!1){if(t){var s=t.change,o=t.index,l=t.items;switch(n._.srt=t.refresh,s){case"insert":n.addViews(o,l);break;case"remove":n.removeViews(o,l.length);break;case"move":n.removeViews(t.oldIndex,l.length,void 0,!0),n.addViews(o,l);break;case"refresh":n._.srt=void 0,n.fixIndex(0)}}r&&r.call(this,e,t)}}function Pn(e){var t,n,i=e.type,r=e.data,s=e._.bnd;!e._.useKey&&s&&((n=e._.bndArr)&&(a([n[1]]).off(Ke,n[0]),e._.bndArr=void 0),s!==!!s?i?s._.arrVws[e._.id]=e:delete s._.arrVws[e._.id]:i&&r&&(t=function(o){o.data&&o.data.off||rr.apply(e,arguments)},a([r]).on(Ke,t),e._.bndArr=[t,r]))}function jt(e,t,n){var i=e.nodeName.toLowerCase(),r=Se._fe[i]||e.contentEditable===At&&{to:je,from:je};return r?t?i==="input"&&e.type===dt?dt:r.to:r.from:t?n?"text":je:""}function sr(e,t,n,i,r,s,o){var l,u,c,v,b,p=e.parentElem,h=e._prv,d=e._nxt,m=e._elCnt;if(h&&h.parentNode!==p&&He("Missing parentNode"),o){v=e.nodes(),m&&h&&h!==d&&Dn(h,d,p,e._.id,"_",!0),e.removeViews(void 0,void 0,!0),u=d,m&&(h=h?h.previousSibling:d?d.previousSibling:p.lastChild),a(v).remove();for(b in e._.bnds)tn(b)}else{if(t){if(c=i[t-1],!c)return!1;h=c._nxt}m?(u=h,h=u?u.previousSibling:p.lastChild):u=h.nextSibling}l=n.render(r,s,e._.useKey&&o,e,o||t,!0),e.link(r,p,h,u,l,c)}function Rn(e,t,n){var i,r;return n?(r="^`",Ot(n,!0),i=n._tgId,i||(Oe[i=$i++]=n,n._tgId=""+i)):(r="_`",Ot(Be[i=t._.id]=t)),"#"+i+r+(e??"")+"/"+i+r}function ar(e,t,n){var i,r,s,o,l,u,c,v,b=e.tag,p=e.convertBack,h=[],d=e._bndId||""+$i++,m=e._hdl;if(e._bndId=void 0,b&&(h=b.depends||h,h=B(h)?b.depends(b):h,o=b.linkedElem),!e._depends||""+e._depends!=""+h){if(e._depends&&L._apply(!1,[t],e._depends,m,!0),l=e.fn.deps.slice(),b&&b.boundProps)for(r=b.boundProps.length;r--;)for(c=b.boundProps[r],s=b._.bnd.paths.length;s--;)v=b._.bnd.paths[s][c],v&&v.skp&&(l=l.concat(v));for(r=l.length;r--;)u=l[r],u._jsv&&(l[r]=ae({},u));if(i=L._apply(!1,[t],l,h,m,e._ctxCb),i.elem=n,i.linkCtx=e,i._tgId=d,n._jsvBnd=n._jsvBnd||"",n._jsvBnd+="&"+d,e._depends=h,e.view._.bnds[d]=d,Oe[d]=i,o)for(r=o.length;r--;)o[r]._jsvLkEl=b,$t(i,b,o[r]),o[r]._jsvBnd="&"+i._tgId+"+";else p!==void 0&&$t(i,b,n,p);b&&!b.flow&&!b._.inline&&(n.setAttribute(qe,(n.getAttribute(qe)||"")+"#"+d+"^/"+d+"^"),b._tgId=""+d)}}function or(e,t,n,i,r,s,o){return Mn(this,e,t,n,i,r,s,o)}function Mn(e,t,n,i,r,s,o,l){if(i===!0?(r=i,i=void 0):typeof i!="object"?i=void 0:i=ae({},i),e&&t){t=t.jquery?t:a(t),lt||(lt=document.body,a(lt).on(Qi,nt).on("blur","[contenteditable]",nt));for(var u,c,v,b,p,h,d,m,x,O=Rn,I=i&&i.target==="replace",S=t.length;S--;){if(d=t[S],s=s||Et(d),(x=s===E)&&(E.data=(E.ctx=i||{}).root=n),""+e===e)Hn(e,d,s,void 0,!0,n,i);else{if(e.markup!==void 0)I&&(h=d.parentNode),v=e.render(n,i,r,s,void 0,O),h?(o=d.previousSibling,l=d.nextSibling,a.cleanData([d],!0),h.removeChild(d),d=h):(o=l=void 0,a(d).empty());else if(e===!0&&s===E)m={lnk:1};else break;if(d._df&&!l){for(b=ke(d._df,!0,er),u=0,c=b.length;u<c;u++)p=b[u],(p=Be[p.id])&&p.data!==void 0&&p.parent.removeViews(p._.key,void 0,!0);Re(d)}s.link(n,d,o,l,v,m,i)}x&&(E.data=E.ctx=void 0)}}return t}function zf(e,t,n,i,r,s,o,l){function u(ve,X,re,ge,Ie,Ee,Ve,nn,ct,St,pt,tl,Jn,nl){var Lt,br,Gn="";return nl?(p=0,ve):(d=ct||St||"",ge=ge||pt,re=re||Jn,ue&&!re&&(!ve||ge||d||Ee&&!p)&&(ue=void 0,N=Ue.shift()),ge=ge||re,ge&&(p=0,ue=void 0,ee&&(re||Jn?!Fn[N]&&!/;svg;|;math;/.test(";"+Ue.join(";")+";")&&(Lt="'<"+N+".../"):Fn[ge]?Lt="'</"+ge:(!Ue.length||ge!==N)&&(Lt="Mismatch: '</"+ge),Lt&&ye(Lt+`>' in:
`+r)),se=Z,N=Ue.shift(),Z=Ln[N],pt=pt?"</"+pt+">":"",se&&(Fe+=ce,ce="",Z?Fe+="-":(Gn=pt+zi+"@"+Fe+Vi+(tl||""),Fe=_r.shift()))),Z?(Ee?ce+=Ee:X=pt||Jn||"",d&&(X+=d,ce&&(X+=" "+qe+'="'+ce+'"',ce=""))):X=Ee?X+Gn+Ie+(p?"":zi+Ee+Vi)+nn+d:Gn||ve,ee&&Ve&&(p&&ye("{^{ within elem markup ("+p+' ). Use data-link="..."'),Ee.charAt(0)==="#"?Ue.unshift(Ee.slice(1)):Ee.slice(1)!==(br=Ue.shift())&&ye("Closing tag for {^{...}} under different elem: <"+br+">")),d&&(p=d,Ue.unshift(N),N=d.slice(1),ee&&Ue[0]&&Ue[0]===Hf[N]&&He("Parent of <tr> must be <tbody>"),ue=Fn[N],(Z=Ln[N])&&!se&&(_r.unshift(Fe),Fe=""),se=Z,Fe&&Z&&(Fe+="+")),X)}function c(ve,X){var re,ge,Ie,Ee,Ve,nn,ct,St=[];if(ve){for(ve._tkns.charAt(0)==="@"&&(X=g.previousSibling,g.parentNode.removeChild(g),g=void 0),I=ve.length;I--;){if(A=ve[I],Ie=A.ch,re=A.path)for(O=re.length-1;ge=re.charAt(O--);)ge==="+"?re.charAt(O)==="-"?(O--,X=X.previousSibling):X=X.parentNode:X=X.lastChild;Ie==="^"?(d=Oe[Ve=A.id])&&(ct=X&&(!g||g.parentNode!==X),(!g||ct)&&(d.parentElem=X),A.elCnt&&ct&&Re(X,(A.open?"#":"/")+Ve+Ie+(X._df||"")),St.push([ct?null:g,A])):(w=Be[Ve=A.id])&&(w.parentElem||(w.parentElem=X||g&&g.parentNode||t,w._.onRender=Rn,w._.onArrayChange=rr,Pn(w)),Ee=w.parentElem,A.open?(w._elCnt=A.elCnt,X&&!g?Re(X,"#"+Ve+Ie+(X._df||"")):(w._prv||Re(Ee,Yt(Ee._df,"#"+Ve+Ie)),w._prv=g)):(X&&(!g||g.parentNode!==X)?(Re(X,"/"+Ve+Ie+(X._df||"")),w._nxt=void 0):g&&(w._nxt||Re(Ee,Yt(Ee._df,"/"+Ve+Ie)),w._nxt=g),(nn=w.ctx&&w.ctx[Ni]||el)&&nn.call(w.ctx.tag,w)))}for(I=St.length;I--;)kt.push(St[I])}return!ve||ve.elCnt}function v(ve){var X,re,ge;if(ve){for(I=ve.length,O=0;O<I;O++)if(A=ve[O],re=d=Oe[A.id].linkCtx.tag,ge=d.tagName===Y,!d.flow||ge){if(!ne){for(X=1;re=re.parent;)X++;K=K||X}(ne||X===K)&&(!Y||ge)&&G.push(d)}}}function b(){var ve,X,re="",ge={},Ie=Ji+(Ce?",["+Ki+"]":"");for(S=Sn?t.querySelectorAll(Ie):a(Ie,t).get(),x=S.length,n&&n.innerHTML&&($=Sn?n.querySelectorAll(Ie):a(Ie,n).get(),n=$.length?$[$.length-1]:n),K=0,m=0;m<x;m++)if(g=S[m],n&&!Xe)Xe=g===n;else if(i&&g===i){Ce&&(re+=qt(g));break}else if(g.parentNode)if(Ce){if(re+=qt(g),g._df){for(ve=m+1;ve<x&&g.contains(S[ve]);)ve++;ge[ve-1]=g._df}ge[m]&&(re+=ge[m]||"")}else Ne&&(A=ke(g,void 0,tr))&&(A=A[0])&&(Qe=Qe?A.id!==Qe&&Qe:A.open&&A.id),!Qe&&vr(ke(g))&&g.getAttribute(Ge)&&kt.push([g]);if(Ce&&(re+=t._df||"",(X=re.indexOf("#"+Ce.id)+1)&&(re=re.slice(X+Ce.id.length)),X=re.indexOf("/"+Ce.id),X+1&&(re=re.slice(0,X)),v(ke(re,void 0,Jf))),r===void 0&&t.getAttribute(Ge)&&kt.push([t]),lr(n,Z),lr(i,Z),Ce){De&&De.resolve();return}for(Z&&Fe+ce&&(g=i,Fe&&(i?c(ke(Fe+"+",!0),i):c(ke(Fe,!0),t)),c(ke(ce,!0),t),i&&(re=i.getAttribute(qe),(x=re.indexOf(xe)+1)&&(re=re.slice(x+xe.length-1)),i.setAttribute(qe,ce+re))),x=kt.length,m=0;m<x;m++)g=kt[m],H=g[1],g=g[0],H?(d=Oe[H.id])&&((h=d.linkCtx)&&(d=h.tag,d.linkCtx=h),H.open?(g&&(d.parentElem=g.parentNode,d._prv=g),d._elCnt=H.elCnt,w=d.tagCtx.view,Hn(void 0,d._prv,w,H.id)):(d._nxt=g,d._.unlinked&&(_e=d.tagCtx,w=_e.view,Zt(d)))):Hn(g.getAttribute(Ge),g,Et(g),void 0,Ne,e,o);De&&De.resolve()}var p,h,d,m,x,O,I,S,g,w,A,H,$,D,P,R,z,G,ne,Y,_e,ee,K,J,te,U,pe,N,ue,de,W,ie,Z,se,be,ce,xe,Xe,Qe,De,Ne,Ce,Un=this,gr=Un._.id+"_",Fe="",kt=[],Ue=[],_r=[],el=Un.hlp(Ni),vr=c;if(s&&(De=s.lazyLink&&a.Deferred(),s.tmpl?P="/"+s._.id+"_":(Ne=s.lnk,s.tag&&(gr=s.tag+"^",s=!0),(Ce=s.get)&&(vr=v,G=Ce.tags,ne=Ce.deep,Y=Ce.name)),s=s===!0),t=t?""+t===t?a(t)[0]:t.jquery?t[0]:t:Un.parentElem||document.body,ee=!Se.noValidate&&t.contentEditable!==At,N=t.tagName.toLowerCase(),Z=!!Ln[N],n=n&&ur(n,Z),i=i&&ur(i,Z)||null,r!=null){if(W=document.createElement("div"),de=W,xe=ce="",be=t.namespaceURI==="http://www.w3.org/2000/svg"?"svg_ns":(pe=un.exec(r))&&pe[1]||"",Z){for(z=i;z&&!(R=ke(z));)z=z.nextSibling;(ie=R?R._tkns:t._df)&&(D=P||"",(s||!P)&&(D+="#"+gr),O=ie.indexOf(D),O+1&&(O+=D.length,xe=ce=ie.slice(0,O),ie=ie.slice(O),R?z.setAttribute(qe,ie):Re(t,ie)))}if(ue=void 0,r=(""+r).replace(Df,u),ee&&Ue.length&&ye("Mismatched '<"+N+`...>' in:
`+r),l)return;for(Yi.appendChild(W),be=Le[be]||Le.div,J=be[0],de.innerHTML=be[1]+r+be[2];J--;)de=de.lastChild;for(Yi.removeChild(W),te=document.createDocumentFragment();U=de.firstChild;)te.appendChild(U);t.insertBefore(te,i)}return De?setTimeout(b,0):b(),De&&De.promise()}function Hn(e,t,n,i,r,s,o){var l,u,c,v,b,p,h,d,m,x,O,I=[];if(i)d=Oe[i],d=d.linkCtx?d.linkCtx.tag:d,h=d.linkCtx||{type:"inline",data:n.data,elem:d._elCnt?d.parentElem:t,view:n,ctx:n.ctx,attr:je,fn:d._.bnd,tag:d,_bndId:i},fr(h,h.fn);else if(e&&t){for(s=r?s:n.data,l=n.tmpl,e=Kf(e,jt(t)),O=ut.lastIndex=0;u=ut.exec(e);)I.push(u),O=ut.lastIndex;for(O<e.length&&ye(e);u=I.shift();){for(m=ut.lastIndex,c=u[1],b=u[3];I[0]&&I[0][4]==="else";)b+=at+st+I.shift()[3],x=!0;x&&(b+=at+st+Je+"/"+u[4]+Ae),h={type:r?"top":"link",data:s,elem:t,view:n,ctx:o,attr:c,isLk:r,_toLk:1,_noUpd:u[2]},v=void 0,u[6]&&(v=u[10]||void 0,h.convert=u[5]||"",!c&&v!==void 0&&jt(t)&&(h.convertBack=v=v.slice(1))),h.expr=c+b,p=l.links[b],p||(l.links[b]=p=F.tmplFn(b,l,!0,v,x)),h.fn=p,fr(h,p),ut.lastIndex=m}}}function fr(e,t){function n(i,r){Nf.call(e,i,r,t)}n.noArray=!0,e.isLk&&Ot(e.view=new F.View(F.extendCtx(e.ctx,e.view.ctx),"link",e.view,e.data,e.expr,void 0,Rn)),e._ctxCb=F._gccb(e.view),e._hdl=n,n(!0)}function Yt(e,t){var n;return e?(n=e.indexOf(t),n+1?e.slice(0,n)+e.slice(n+t.length):e):""}function qt(e){return e&&(""+e===e?e:e.tagName===Xt?e.type.slice(3):e.nodeType===1&&e.getAttribute(qe)||"")}function ke(e,t,n){function i(l,u,c,v,b,p){o.push({elCnt:r,id:v,ch:b,open:u,close:c,path:p,token:l})}var r,s,o=[];if(s=t?e:qt(e))return r=o.elCnt=e.tagName!==Xt,r=s.charAt(0)==="@"||r,o._tkns=s,s.replace(n||Gf,i),o}function lr(e,t){e&&(e.type==="jsv"?e.parentNode.removeChild(e):t&&e.getAttribute(Ge)===""&&e.removeAttribute(Ge))}function ur(e,t){for(var n=e;t&&n&&n.nodeType!==1;)n=n.previousSibling;return n&&(n.nodeType!==1?(n=document.createElement(Xt),n.type="jsv",e.parentNode.insertBefore(n,e)):!qt(n)&&!n.getAttribute(Ge)&&n.setAttribute(Ge,"")),n}function Kf(e,t){return e=a.trim(e).replace(ci,"\\$&"),e.slice(-1)!==Ae?e=Je+":"+e+(t?":":"")+Ae:e}function Zt(e,t,n){var i,r,s,o,l,u,c,v,b,p,h,d,m,x=e.tagCtx,O=x.view,I=x.props,S=e.linkCtx;if(e._.unlinked&&(e.linkedElement!==void 0&&(e.linkedElem=e._.inline?e.contents(!0,e.linkedElement||"*").first():a(S.elem)),e.onBind&&e.onBind(x,S,e.ctx,t,n)),e.onAfterLink&&e.onAfterLink(x,S,e.ctx,t,n),i=e.targetTag?e.targetTag.linkedElem:e.linkedElem,r=e.displayElem||i,i&&i[0]){if(o=e.cvtArgs()[0],o!==void 0&&!e._.chging)for(l=i.length;l--;)s=i[l],e._.unlinked&&s!==S.elem&&(u=s._jsvLkEl,e._.inline&&(!u||u!==e&&u.targetTag!==e)&&(s._jsvLkEl=e,$t(Oe[e._tgId],e,s),s._jsvBnd="&"+e._tgId+"+")),o!==void 0&&(s.value!==void 0?s.type===Wt?s[tt]=o&&o!=="false":s.type===dt?s[tt]=s.value===o:a(s).val(o):s.contentEditable===At&&(s.innerHTML=o),S._val=o),I.name&&(s.name=s.name||I.name);e.setSize&&(I.height&&r.height(I.height),I.width&&r.width(I.width)),I.title!==void 0&&r.attr("title",I.title),I.class&&(n&&r.hasClass(n.oldValue)&&r.removeClass(n.oldValue),r.addClass(I.class)),I.id&&(i[0].id=I.id)}e._.unlinked=void 0}function Wf(e){setTimeout(function(){nt(e)},0)}function Bn(e,t,n){t&&(t=""+t===t?t:"keydown",e[n](t,t==="keydown"?Wf:nt))}function $t(e,t,n,i){var r,s,o,l,u,c,v,b,p,h,d=e.linkCtx,m=d._ctxCb,x=d.data,O=d.fn.paths[0];if(t=t||n._jsvLkEl,e&&O&&!e.to){if(b=n._jsvTr||!1,t&&(i=t.convertBack||i,v=t.tagCtx.props.trigger),v=v===void 0?he.trigger:v,v=v&&(n.tagName==="INPUT"&&n.type!==Wt&&n.type!==dt||n.type==="textarea"||n.contentEditable===At)&&v||!1,b!==v&&(c=a(n),Bn(c,b,"off"),Bn(c,n._jsvTr=v,"on")),O=(r=O._jsvto)||O[0],s=O&&O.length){if(l=O[s-1],l._jsv){for(u=l;l.sb&&l.sb._jsv;)o=l=l.sb;o=l.sb||o&&o.path,l=o?o.slice(1):u.path}if(o)p=[u,l];else{for(;(p=m(o=l.split("^").join("."),x))&&(h=p.length);){if(p[0]._cp){if(p=p[0],m=F._gccb(p[0]),l=p[1],p=[p[0].data,p[1]],l._jsv){for(u=l,u.data=p[0],u._cpCtx=m;l.sb&&l.sb._jsv;)o=l=l.sb;o=l.sb||o&&o.path,l=o?o.slice(1):u.path,p=[u,l]}}else p=h>2?[p[h-3],p[h-2]]:[p[h-2]];x=p[0],l=p[1]}p=p||[x,o]}}else p=[];e.to=[p,i]}}function dr(e,t,n){var i,r,s=e.tagCtx.view,o=e.tagCtxs||[e.tagCtx],l=o.length,u=!t;if(t=t||e._.bnd.call(s.tmpl,(e.linkCtx||s).data,s,F),n)o=e.tagCtxs=t,e.tagCtx=o[0];else for(;l--;)i=o[l],r=t[l],L(i.props).setProperty(r.props),ae(i.ctx,r.ctx),i.args=r.args,u&&(i.tmpl=r.tmpl);return F._ths(e,o[0]),o}function en(e){for(var t,n,i,r=[],s=e.length,o=s;o--;)r.push(e[o]);for(o=s;o--;)if(n=r[o],n.parentNode){if(i=n._jsvBnd)for(i=i.slice(1).split("&"),n._jsvBnd="",t=i.length;t--;)tn(i[t],n._jsvLkEl,n);pr(qt(n)+(n._df||""))}}function tn(e,t,n){var i,r,s,o,l,u,c,v,b,p,h,d,m,x=Oe[e];if(t)t=t.targetTag||t,n._jsvLkEl=void 0;else if(x){delete Oe[e];for(i in x.bnd)o=x.bnd[i],l=x.cbId,V(o)?a([o]).off(Ke+l).off(ze+l):a(o).off(ze+l),delete x.bnd[i];if(r=x.linkCtx){if(s=r.tag){if(u=s.tagCtxs)for(c=u.length;c--;)(v=u[c].map)&&v.unmap();b=s.linkedElem,s.onUnbind&&s.onUnbind(s.tagCtx,r,s.ctx,!0),s.onDispose&&s.onDispose(),s._elCnt||(s._prv&&s._prv.parentNode.removeChild(s._prv),s._nxt&&s._nxt.parentNode.removeChild(s._nxt))}p=b&&b[0]||r.elem,(h=p&&p._jsvTr)&&(Bn(b||a(p),h,"off"),p._jsvTr=void 0),d=r.view,d.type==="link"?d.parent.removeViews(d._.key,void 0,!0):delete d._.bnds[e]}delete We[x.cbId]}}function cr(e){e?(e=e.jquery?e:a(e),e.each(function(){for(var t;(t=Et(this,!0))&&t.parent;)t.parent.removeViews(t._.key,void 0,!0);en(this.getElementsByTagName("*"))}),en(e)):(lt&&(a(lt).off(Qi,nt).off("blur","[contenteditable]",nt),lt=void 0),E.removeViews(),en(document.body.getElementsByTagName("*")))}function Xf(e){return e.type===Wt?e[tt]:e.value}F.onStore.template=function(e,t){t.link=or,e&&(a.link[e]=function(){return or.apply(t,arguments)})},F.viewInfos=ke,(Te.delimiters=function(){var e=Xi.apply(0,arguments);return Xi!==Kt&&(e=Kt.apply(0,arguments)),ut=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+Ct+")?(\\"+Je+F.rTag+"(:\\w*)?\\"+Ae+")","g"),e})(),F.addSetting("trigger");function Dn(e,t,n,i,r,s){var o,l,u,c,v,b,p,h=0,d=e===t;if(e){for(u=ke(e)||[],o=0,l=u.length;o<l;o++){if(c=u[o],b=c.id,b===i&&c.ch===r)if(s)l=0;else break;d||(v=c.ch==="_"?Be[b]:Oe[b].linkCtx.tag,c.open?v._prv=t:c.close&&(v._nxt=t)),h+=b.length+2}h&&e.setAttribute(qe,e.getAttribute(qe).slice(h)),p=t?t.getAttribute(qe):n._df,(l=p.indexOf("/"+i+r)+1)&&(p=u._tkns.slice(0,h)+p.slice(l+(s?-1:i.length+1))),p&&(t?t.setAttribute(qe,p):Re(n,p))}else Re(n,Yt(n._df,"#"+i+r)),!s&&!t&&Re(n,Yt(n._df,"/"+i+r))}function pr(e){var t,n,i,r;if(r=ke(e,!0,Uf))for(t=0,n=r.length;t<n;t++)i=r[t],i.ch==="_"?(i=Be[i.id])&&i.type&&i.parent.removeViews(i._.key,void 0,!0):tn(i.id)}function Ot(e,t){e.contents=function(n,i){n!==!!n&&(i=n,n=void 0);var r,s=a(this.nodes());return s[0]&&(r=i?s.filter(i):s,s=n&&i?r.add(s.find(i)):r),s},e.nodes=function(n,i,r){var s,o=this,l=o._elCnt,u=!i&&l,c=[];for(i=i||o._prv,r=r||o._nxt,s=u?i===o._nxt?o.parentElem.lastSibling:i:o._.inline===!1?i||o.linkCtx.elem.firstChild:i&&i.nextSibling;s&&(!r||s!==r);)(n||l||s.tagName!==Xt)&&c.push(s),s=s.nextSibling;return c},e.childTags=function(n,i){n!==!!n&&(i=n,n=void 0);var r=this,s=r.link?r:r.tagCtx.view,o=r._prv,l=r._elCnt,u=[];return s.link(void 0,r.parentElem,l?o&&o.previousSibling:o,r._nxt,void 0,{get:{tags:u,deep:n,name:i,id:r.link?r._.id+"_":r._tgId+"^"}}),u},e.refresh=function(n){var i,r,s=this,o=s.linkCtx,l=s.tagCtx.view;return s.disposed&&He("Removed tag"),n===void 0&&(n=F._tag(s,l,l.tmpl,dr(s),!0)),n+""===n&&(s.onUnbind&&s.onUnbind(s.tagCtx,o,s.ctx),r=s._.inline?je:o.attr||jt(s.parentElem,!0),i=ir(n,o,r,s)),Zt(s),i||s},e.update=function(n){var i=this.linkedElem;i&&nt({target:i[0]},void 0,n)},t?e.domChange=function(){var n=this.parentElem,i=a.hasData(n)&&a._data(n).events,r="jsv-domchange";i&&i[r]&&a(n).triggerHandler(r,arguments)}:(e.addViews=function(n,i){var r,s,o=this,l=i.length,u=o.views;!o._.useKey&&l&&(s=u.length+l,s===o.data.length&&sr(o,n,o.tmpl,u,i,o.ctx)!==!1&&(o._.srt||o.fixIndex(n+l)))},e.removeViews=function(n,i,r,s){function o(h){var d,m,x,O,I,S,g=p[h];if(g&&g.link){if(d=g._.id,r||(S=g.nodes()),g.removeViews(void 0,void 0,!0),g.type=void 0,O=g._prv,I=g._nxt,x=g.parentElem,r||(g._elCnt&&Dn(O,I,x,d,"_"),a(S).remove()),!g._elCnt)try{O.parentNode.removeChild(O),I.parentNode.removeChild(I)}catch{}Pn(g);for(m in g._.bnds)tn(m);delete Be[d]}}var l,u,c,v=this,b=!v._.useKey,p=v.views;if(b&&(c=p.length),n===void 0)if(b){for(l=c;l--;)o(l);v.views=[]}else{for(u in p)o(u);v.views={}}else if(i===void 0&&(b?i=1:(o(n),delete p[n])),b&&i&&(s||c-i===v.data.length)){for(l=n+i;l-- >n;)o(l);p.splice(n,i),v._.sort||v.fixIndex(n)}},e.refresh=function(){var n=this,i=n.parent;i&&(sr(n,n.index,n.tmpl,i.views,n.data,void 0,!0),Pn(n))},e.fixIndex=function(n){for(var i=this.views,r=i.length;n<r--;)i[r].index!==r&&L(i[r]).setProperty("index",r)},e.link=zf)}we.merge=function(e){var t,n=this.linkCtx._val||"",i=this.tagCtx.props.toggle;return i&&(t=i.replace(/[\\^$.|?*+()[{]/g,"\\$&"),t="(\\s(?="+t+"$)|(\\s)|^)("+t+"(\\s|$))",n=n.replace(new RegExp(t),"$2"),e=n+(e?(n&&" ")+i:"")),e};function hr(e){return this.tagCtx.view}Pe({on:{attr:Tt,init:function(e){for(var t,n=this,i=0,r=e.args,s=r.length;i<s&&!B(r[i]);i++);n._hi=s>i&&i+1,n._.inline&&(F.rTmpl.exec(t=e.tmpl.markup)||(n.template="<button>"+(a.trim(t)||e.params.args[i]||"noop")+"</button>"),n.attr=je)},onAfterLink:function(e,t){var n,i,r,s,o=this,l=o._hi,u=e.args,c=u.length,v=e.props,b=v.data,p=e.view,h=v.context;l&&(n=u[l-1],i=u.slice(l),u=u.slice(0,l-1),o._sel=u[1],s=o.activeElem=o.activeElem||a(o._.inline?(o._sel=u[1]||"*",o.parentElem):t.elem),h||(h=/^(.*)[\.^][\w$]+$/.exec(e.params.args.slice(-i.length-1)[0]),h=h&&F.tmplFn(Je+":"+h[1]+Ae,p.tmpl,!0)(t.data,p)),o._evs&&o.onUnbind(),s.on(o._evs=u[0]||"click",o._sel,b??null,o._hlr=function(m){var x,O,I=!o._.inline;if(!I)for(x=o.contents("*"),c=x.length;!I&&c--;)x[c].contains(m.target)&&(I=!0);if(I)return n.apply(h||t.data,[].concat(i,m,{change:m.type,view:p,linkCtx:t},i.slice.call(arguments,1)))}))},onUpdate:function(){return!1},onUnbind:function(){var e=this;e.activeElem&&e.activeElem.off(e._evs,e._sel,e._hlr)},flow:!0,contentCtx:hr,dataBoundOnly:!0},radiogroup:{init:function(e){this.name=e.props.name||"jsv"+Math.random()},onBind:function(e,t){var n,i=this,r=i.linkedElem=i._.inline?i.contents(!0,"input[type=radio]"):a(t.elem).find("input[type=radio]"),s=r.length;for(i._.inline?(n=i.contents("*")[0],n=n&&a.view(n).ctx.tag===i.parent?n:i.parentElem):n=t.elem;s--;)r[s].name=r[s].name||i.name;a(n).on("jsv-domchange",function(o,l){var u,c=l.ctx.parentTags;if(!i._.inline||n!==i.parentElem||c&&c[i.tagName]===i)for(r=i.linkedElem=i.contents(!0,"input[type=radio]"),s=r.length;s--;)u=r[s],u._jsvLkEl=i,u.name=u.name||i.name,$t(Oe[i._tgId],i,u),u._jsvBnd="&"+i._tgId+"+",u.checked=i.cvtArgs()[0]===u.value})},onUpdate:function(e,t,n){return!1},contentCtx:hr,dataBoundOnly:!0}}),ae(Pe.for,{onArrayChange:function(e,t,n,i){var r,s=e.target,o=s.length,l=this,u=t.change;if(l._.noVws||l.tagCtxs[1]&&(u==="insert"&&o===t.items.length||u==="remove"&&!o))l.refresh();else for(r in l._.arrVws)r=l._.arrVws[r],r.data===s&&r._.onArrayChange.apply(r,arguments);l.domChange(n,i,t),e.done=!0},onAfterLink:function(e,t){var n,i,r,s,o=this,l=o._ars||{},u=o.tagCtxs,c=u.length,v=o.selected||0;for(n=0;n<=v;n++)e=u[n],s=e.map?e.map.tgt:e.args.length?e.args[0]:e.view.data,(r=l[n])&&s!==r[0]&&(M(r[0],r[1],!0),delete l[n]),!l[n]&&V(s)&&(M(s,i=function(b,p){var h=e;o.onArrayChange(b,p,h,t)}),l[n]=[s,i]);for(n=v+1;n<c;n++)(r=l[n])&&(M(r[0],r[1],!0),delete l[n]);o._ars=l},onDispose:function(){var e,t=this;for(e in t._ars)M(t._ars[e][0],t._ars[e][1],!0)}}),ae(Pe.if,{onUpdate:function(e,t,n){var i,r,s;for(i=0;r=this.tagCtxs[i];i++)if(s=r.props.tmpl!==n[i].props.tmpl||r.args.length&&!(r=r.args[0])!=!n[i].args[0],!this.convert&&!!r||s)return s;return!1},onAfterLink:function(e,t,n,i,r){r&&this.domChange(e,t,r)}});function Yf(e,t,n){if(n.change==="set"){for(var i=e.tgt,r=i.length;r--&&i[r].key!==n.path;);r===-1?n.path&&!n.remove&&L(i).insert({key:n.path,prop:n.value}):n.remove?L(i).remove(r):L(i[r]).setProperty("prop",n.value)}}function Zf(e,t,n){var i,r=e.src,s=n.change;s==="set"?n.path==="prop"?L(r).setProperty(t.target.key,n.value):(L(r).removeProperty(n.oldValue),L(r).setProperty(n.value,t.target.prop)):s==="remove"?(i=n.items[0],L(r).removeProperty(i.key),delete r[i.key]):s==="insert"&&(i=n.items[0],i.key&&L(r).setProperty(i.key,i.prop))}function $f(e){return e.indexOf(".")<0}return Pe("props",{baseTag:"for",dataMap:C.map({getTgt:Pe.props.dataMap.getTgt,obsSrc:Yf,obsTgt:Zf,tgtFlt:$f}),flow:!0}),ae(a,{view:Et=function(e,t,n){function i(h,d){if(h)for(s=ke(h,d,er),l=0,u=s.length;l<u&&!((r=Be[s[l].id])&&(r=r&&n?r.get(!0,n):r));l++);}t!==!!t&&(n=t,t=void 0);var r,s,o,l,u,c,v,b=0,p=document.body;if(e&&e!==p&&E._.useKey>1&&(e=""+e===e?a(e)[0]:e.jquery?e[0]:e,e)){if(t){if(i(e._df,!0),!r)for(v=Sn?e.querySelectorAll(qn):a(qn,e).get(),c=v.length,o=0;!r&&o<c;o++)i(v[o]);return r}for(;e;){if(s=ke(e,void 0,tr))for(c=s.length;c--;)if(r=s[c],r.open){if(b<1)return r=Be[r.id],r&&n?r.get(n):r||E;b--}else b++;e=e.previousSibling||e.parentNode}}return E},link:Mn,unlink:cr,cleanData:function(e){e.length&&kn&&en(e),Mf.apply(a,arguments)}}),ae(a.fn,{link:function(e,t,n,i,r,s,o){return Mn(e,this,t,n,i,r,s,o)},unlink:function(){return cr(this)},view:function(e,t){return Et(this[0],e,t)}}),a.each([je,"replaceWith","empty","remove"],function(e,t){var n=a.fn[t];a.fn[t]=function(){var i;kn=1;try{i=n.apply(this,arguments)}finally{kn=0}return i}}),Ot(ae(E=F.topView,{tmpl:{links:{}}})),Be={0:E},C.getCtx=function(e){return e&&e._cp&&(e=e[1](e[0].data,e[0],F)),e},F._cp=function(e,t,n){if(n.linked){t=Je+":"+t+Ae;var i=n.tmpl,r=E.tmpl.links,s=r[t];s||(r[t]=s=F.tmplFn(t,i,!0)),e=[n,s],e._cp=!0}return e},F._ceo=function e(t){var n,i=t,r=t.length;if(r)for(i=[];r--;)n=t[r],n._jsv&&(n=ae({},n),n.prm=e(n.prm)),i.unshift(n);return i},F._gccb=function(e){return function(t,n,i){var r,s,o,l,u,c,v;if(e&&t){if(t._jsv)return t._jsv.call(e.tmpl,n,e,F);if(t.charAt(0)==="~")return t.slice(0,4)==="~tag"&&(s=e.ctx,t.charAt(4)==="."&&(r=t.slice(5).split("."),s=s.tag),r)?s?[s,r.join("."),n]:[]:(t=t.slice(1).split("."),(l=e.hlp(u=t.shift(),!0))&&(l._cp?(t.length&&(c="."+t.join("."),u=l[v=l.length-1],u._jsv?(u.sb=c,u.bnd=!!i):(l[v]=(u+c).replace("#data.",""),u.slice(0,5)==="#view"&&(l[v]=l[v].slice(6),l.splice(v,0,e)))),o=[l]):(t.length||B(l))&&(o=[l,t.join("."),n])),o||[]);if(t.charAt(0)==="#")return t==="#data"?[]:[e,t.replace(Bf,""),n]}}},Gi=F.advSet,F.advSet=function(){Gi.call(F),f._jsv=Se._jsv?ae(f._jsv||{},{views:Be,bindings:Oe}):void 0,Ge=Se.linkAttr,Ji=qn+",["+Ge+"]",Le=Se._wm,Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td},Te.advanced({linkAttr:"data-link",useViews:!1,noValidate:!1,_wm:{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:a.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},_fe:{input:{from:Xf,to:"value"},textarea:Wi,select:Wi,optgroup:{to:"label"}}}),a},window)});var Ar=j((Xh,Tr)=>{function al(){this.__data__=[],this.size=0}Tr.exports=al});var Ft=j((Yh,jr)=>{function ol(f,a){return f===a||f!==f&&a!==a}jr.exports=ol});var Pt=j((Zh,qr)=>{var fl=Ft();function ll(f,a){for(var _=f.length;_--;)if(fl(f[_][0],a))return _;return-1}qr.exports=ll});var kr=j(($h,Or)=>{var ul=Pt(),dl=Array.prototype,cl=dl.splice;function pl(f){var a=this.__data__,_=ul(a,f);if(_<0)return!1;var T=a.length-1;return _==T?a.pop():cl.call(a,_,1),--this.size,!0}Or.exports=pl});var Lr=j((eg,Sr)=>{var hl=Pt();function gl(f){var a=this.__data__,_=hl(a,f);return _<0?void 0:a[_][1]}Sr.exports=gl});var Pr=j((tg,Fr)=>{var _l=Pt();function vl(f){return _l(this.__data__,f)>-1}Fr.exports=vl});var Mr=j((ng,Rr)=>{var bl=Pt();function ml(f,a){var _=this.__data__,T=bl(_,f);return T<0?(++this.size,_.push([f,a])):_[T][1]=a,this}Rr.exports=ml});var Rt=j((ig,Hr)=>{var yl=Ar(),xl=kr(),wl=Lr(),Cl=Pr(),Il=Mr();function ht(f){var a=-1,_=f==null?0:f.length;for(this.clear();++a<_;){var T=f[a];this.set(T[0],T[1])}}ht.prototype.clear=yl;ht.prototype.delete=xl;ht.prototype.get=wl;ht.prototype.has=Cl;ht.prototype.set=Il;Hr.exports=ht});var Dr=j((rg,Br)=>{var El=Rt();function Tl(){this.__data__=new El,this.size=0}Br.exports=Tl});var Jr=j((sg,Ur)=>{function Al(f){var a=this.__data__,_=a.delete(f);return this.size=a.size,_}Ur.exports=Al});var Qr=j((ag,Gr)=>{function jl(f){return this.__data__.get(f)}Gr.exports=jl});var Vr=j((og,Nr)=>{function ql(f){return this.__data__.has(f)}Nr.exports=ql});var Vn=j((fg,zr)=>{var Ol=typeof global=="object"&&global&&global.Object===Object&&global;zr.exports=Ol});var rt=j((lg,Kr)=>{var kl=Vn(),Sl=typeof self=="object"&&self&&self.Object===Object&&self,Ll=kl||Sl||Function("return this")();Kr.exports=Ll});var zn=j((ug,Wr)=>{var Fl=rt(),Pl=Fl.Symbol;Wr.exports=Pl});var $r=j((dg,Zr)=>{var Xr=zn(),Yr=Object.prototype,Rl=Yr.hasOwnProperty,Ml=Yr.toString,Mt=Xr?Xr.toStringTag:void 0;function Hl(f){var a=Rl.call(f,Mt),_=f[Mt];try{f[Mt]=void 0;var T=!0}catch{}var y=Ml.call(f);return T&&(a?f[Mt]=_:delete f[Mt]),y}Zr.exports=Hl});var ts=j((cg,es)=>{var Bl=Object.prototype,Dl=Bl.toString;function Ul(f){return Dl.call(f)}es.exports=Ul});var Ht=j((pg,rs)=>{var ns=zn(),Jl=$r(),Gl=ts(),Ql="[object Null]",Nl="[object Undefined]",is=ns?ns.toStringTag:void 0;function Vl(f){return f==null?f===void 0?Nl:Ql:is&&is in Object(f)?Jl(f):Gl(f)}rs.exports=Vl});var Ye=j((hg,ss)=>{function zl(f){var a=typeof f;return f!=null&&(a=="object"||a=="function")}ss.exports=zl});var rn=j((gg,as)=>{var Kl=Ht(),Wl=Ye(),Xl="[object AsyncFunction]",Yl="[object Function]",Zl="[object GeneratorFunction]",$l="[object Proxy]";function eu(f){if(!Wl(f))return!1;var a=Kl(f);return a==Yl||a==Zl||a==Xl||a==$l}as.exports=eu});var fs=j((_g,os)=>{var tu=rt(),nu=tu["__core-js_shared__"];os.exports=nu});var ds=j((vg,us)=>{var Kn=fs(),ls=function(){var f=/[^.]+$/.exec(Kn&&Kn.keys&&Kn.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();function iu(f){return!!ls&&ls in f}us.exports=iu});var ps=j((bg,cs)=>{var ru=Function.prototype,su=ru.toString;function au(f){if(f!=null){try{return su.call(f)}catch{}try{return f+""}catch{}}return""}cs.exports=au});var gs=j((mg,hs)=>{var ou=rn(),fu=ds(),lu=Ye(),uu=ps(),du=/[\\^$.*+?()[\]{}|]/g,cu=/^\[object .+?Constructor\]$/,pu=Function.prototype,hu=Object.prototype,gu=pu.toString,_u=hu.hasOwnProperty,vu=RegExp("^"+gu.call(_u).replace(du,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bu(f){if(!lu(f)||fu(f))return!1;var a=ou(f)?vu:cu;return a.test(uu(f))}hs.exports=bu});var vs=j((yg,_s)=>{function mu(f,a){return f==null?void 0:f[a]}_s.exports=mu});var sn=j((xg,bs)=>{var yu=gs(),xu=vs();function wu(f,a){var _=xu(f,a);return yu(_)?_:void 0}bs.exports=wu});var Wn=j((wg,ms)=>{var Cu=sn(),Iu=rt(),Eu=Cu(Iu,"Map");ms.exports=Eu});var Bt=j((Cg,ys)=>{var Tu=sn(),Au=Tu(Object,"create");ys.exports=Au});var Cs=j((Ig,ws)=>{var xs=Bt();function ju(){this.__data__=xs?xs(null):{},this.size=0}ws.exports=ju});var Es=j((Eg,Is)=>{function qu(f){var a=this.has(f)&&delete this.__data__[f];return this.size-=a?1:0,a}Is.exports=qu});var As=j((Tg,Ts)=>{var Ou=Bt(),ku="__lodash_hash_undefined__",Su=Object.prototype,Lu=Su.hasOwnProperty;function Fu(f){var a=this.__data__;if(Ou){var _=a[f];return _===ku?void 0:_}return Lu.call(a,f)?a[f]:void 0}Ts.exports=Fu});var qs=j((Ag,js)=>{var Pu=Bt(),Ru=Object.prototype,Mu=Ru.hasOwnProperty;function Hu(f){var a=this.__data__;return Pu?a[f]!==void 0:Mu.call(a,f)}js.exports=Hu});var ks=j((jg,Os)=>{var Bu=Bt(),Du="__lodash_hash_undefined__";function Uu(f,a){var _=this.__data__;return this.size+=this.has(f)?0:1,_[f]=Bu&&a===void 0?Du:a,this}Os.exports=Uu});var Ls=j((qg,Ss)=>{var Ju=Cs(),Gu=Es(),Qu=As(),Nu=qs(),Vu=ks();function gt(f){var a=-1,_=f==null?0:f.length;for(this.clear();++a<_;){var T=f[a];this.set(T[0],T[1])}}gt.prototype.clear=Ju;gt.prototype.delete=Gu;gt.prototype.get=Qu;gt.prototype.has=Nu;gt.prototype.set=Vu;Ss.exports=gt});var Rs=j((Og,Ps)=>{var Fs=Ls(),zu=Rt(),Ku=Wn();function Wu(){this.size=0,this.__data__={hash:new Fs,map:new(Ku||zu),string:new Fs}}Ps.exports=Wu});var Hs=j((kg,Ms)=>{function Xu(f){var a=typeof f;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?f!=="__proto__":f===null}Ms.exports=Xu});var Dt=j((Sg,Bs)=>{var Yu=Hs();function Zu(f,a){var _=f.__data__;return Yu(a)?_[typeof a=="string"?"string":"hash"]:_.map}Bs.exports=Zu});var Us=j((Lg,Ds)=>{var $u=Dt();function ed(f){var a=$u(this,f).delete(f);return this.size-=a?1:0,a}Ds.exports=ed});var Gs=j((Fg,Js)=>{var td=Dt();function nd(f){return td(this,f).get(f)}Js.exports=nd});var Ns=j((Pg,Qs)=>{var id=Dt();function rd(f){return id(this,f).has(f)}Qs.exports=rd});var zs=j((Rg,Vs)=>{var sd=Dt();function ad(f,a){var _=sd(this,f),T=_.size;return _.set(f,a),this.size+=_.size==T?0:1,this}Vs.exports=ad});var Ws=j((Mg,Ks)=>{var od=Rs(),fd=Us(),ld=Gs(),ud=Ns(),dd=zs();function _t(f){var a=-1,_=f==null?0:f.length;for(this.clear();++a<_;){var T=f[a];this.set(T[0],T[1])}}_t.prototype.clear=od;_t.prototype.delete=fd;_t.prototype.get=ld;_t.prototype.has=ud;_t.prototype.set=dd;Ks.exports=_t});var Ys=j((Hg,Xs)=>{var cd=Rt(),pd=Wn(),hd=Ws(),gd=200;function _d(f,a){var _=this.__data__;if(_ instanceof cd){var T=_.__data__;if(!pd||T.length<gd-1)return T.push([f,a]),this.size=++_.size,this;_=this.__data__=new hd(T)}return _.set(f,a),this.size=_.size,this}Xs.exports=_d});var $s=j((Bg,Zs)=>{var vd=Rt(),bd=Dr(),md=Jr(),yd=Qr(),xd=Vr(),wd=Ys();function vt(f){var a=this.__data__=new vd(f);this.size=a.size}vt.prototype.clear=bd;vt.prototype.delete=md;vt.prototype.get=yd;vt.prototype.has=xd;vt.prototype.set=wd;Zs.exports=vt});var Xn=j((Dg,ea)=>{var Cd=sn(),Id=function(){try{var f=Cd(Object,"defineProperty");return f({},"",{}),f}catch{}}();ea.exports=Id});var an=j((Ug,na)=>{var ta=Xn();function Ed(f,a,_){a=="__proto__"&&ta?ta(f,a,{configurable:!0,enumerable:!0,value:_,writable:!0}):f[a]=_}na.exports=Ed});var Yn=j((Jg,ia)=>{var Td=an(),Ad=Ft();function jd(f,a,_){(_!==void 0&&!Ad(f[a],_)||_===void 0&&!(a in f))&&Td(f,a,_)}ia.exports=jd});var sa=j((Gg,ra)=>{function qd(f){return function(a,_,T){for(var y=-1,k=Object(a),q=T(a),E=q.length;E--;){var C=q[f?E:++y];if(_(k[C],C,k)===!1)break}return a}}ra.exports=qd});var oa=j((Qg,aa)=>{var Od=sa(),kd=Od();aa.exports=kd});var ca=j((Ut,bt)=>{var Sd=rt(),fa=typeof Ut=="object"&&Ut&&!Ut.nodeType&&Ut,la=fa&&typeof bt=="object"&&bt&&!bt.nodeType&&bt,Ld=la&&la.exports===fa,ua=Ld?Sd.Buffer:void 0,da=ua?ua.allocUnsafe:void 0;function Fd(f,a){if(a)return f.slice();var _=f.length,T=da?da(_):new f.constructor(_);return f.copy(T),T}bt.exports=Fd});var ha=j((Ng,pa)=>{var Pd=rt(),Rd=Pd.Uint8Array;pa.exports=Rd});var va=j((Vg,_a)=>{var ga=ha();function Md(f){var a=new f.constructor(f.byteLength);return new ga(a).set(new ga(f)),a}_a.exports=Md});var ma=j((zg,ba)=>{var Hd=va();function Bd(f,a){var _=a?Hd(f.buffer):f.buffer;return new f.constructor(_,f.byteOffset,f.length)}ba.exports=Bd});var xa=j((Kg,ya)=>{function Dd(f,a){var _=-1,T=f.length;for(a||(a=Array(T));++_<T;)a[_]=f[_];return a}ya.exports=Dd});var Ia=j((Wg,Ca)=>{var Ud=Ye(),wa=Object.create,Jd=function(){function f(){}return function(a){if(!Ud(a))return{};if(wa)return wa(a);f.prototype=a;var _=new f;return f.prototype=void 0,_}}();Ca.exports=Jd});var Ta=j((Xg,Ea)=>{function Gd(f,a){return function(_){return f(a(_))}}Ea.exports=Gd});var Zn=j((Yg,Aa)=>{var Qd=Ta(),Nd=Qd(Object.getPrototypeOf,Object);Aa.exports=Nd});var $n=j((Zg,ja)=>{var Vd=Object.prototype;function zd(f){var a=f&&f.constructor,_=typeof a=="function"&&a.prototype||Vd;return f===_}ja.exports=zd});var Oa=j(($g,qa)=>{var Kd=Ia(),Wd=Zn(),Xd=$n();function Yd(f){return typeof f.constructor=="function"&&!Xd(f)?Kd(Wd(f)):{}}qa.exports=Yd});var mt=j((e_,ka)=>{function Zd(f){return f!=null&&typeof f=="object"}ka.exports=Zd});var La=j((t_,Sa)=>{var $d=Ht(),ec=mt(),tc="[object Arguments]";function nc(f){return ec(f)&&$d(f)==tc}Sa.exports=nc});var ei=j((n_,Ra)=>{var Fa=La(),ic=mt(),Pa=Object.prototype,rc=Pa.hasOwnProperty,sc=Pa.propertyIsEnumerable,ac=Fa(function(){return arguments}())?Fa:function(f){return ic(f)&&rc.call(f,"callee")&&!sc.call(f,"callee")};Ra.exports=ac});var ti=j((i_,Ma)=>{var oc=Array.isArray;Ma.exports=oc});var ni=j((r_,Ha)=>{var fc=9007199254740991;function lc(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=fc}Ha.exports=lc});var on=j((s_,Ba)=>{var uc=rn(),dc=ni();function cc(f){return f!=null&&dc(f.length)&&!uc(f)}Ba.exports=cc});var Ua=j((a_,Da)=>{var pc=on(),hc=mt();function gc(f){return hc(f)&&pc(f)}Da.exports=gc});var Ga=j((o_,Ja)=>{function _c(){return!1}Ja.exports=_c});var ii=j((Jt,yt)=>{var vc=rt(),bc=Ga(),Qa=typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,Na=Qa&&typeof yt=="object"&&yt&&!yt.nodeType&&yt,mc=Na&&Na.exports===Qa,Va=mc?vc.Buffer:void 0,yc=Va?Va.isBuffer:void 0,xc=yc||bc;yt.exports=xc});var Wa=j((f_,Ka)=>{var wc=Ht(),Cc=Zn(),Ic=mt(),Ec="[object Object]",Tc=Function.prototype,Ac=Object.prototype,za=Tc.toString,jc=Ac.hasOwnProperty,qc=za.call(Object);function Oc(f){if(!Ic(f)||wc(f)!=Ec)return!1;var a=Cc(f);if(a===null)return!0;var _=jc.call(a,"constructor")&&a.constructor;return typeof _=="function"&&_ instanceof _&&za.call(_)==qc}Ka.exports=Oc});var Ya=j((l_,Xa)=>{var kc=Ht(),Sc=ni(),Lc=mt(),Fc="[object Arguments]",Pc="[object Array]",Rc="[object Boolean]",Mc="[object Date]",Hc="[object Error]",Bc="[object Function]",Dc="[object Map]",Uc="[object Number]",Jc="[object Object]",Gc="[object RegExp]",Qc="[object Set]",Nc="[object String]",Vc="[object WeakMap]",zc="[object ArrayBuffer]",Kc="[object DataView]",Wc="[object Float32Array]",Xc="[object Float64Array]",Yc="[object Int8Array]",Zc="[object Int16Array]",$c="[object Int32Array]",ep="[object Uint8Array]",tp="[object Uint8ClampedArray]",np="[object Uint16Array]",ip="[object Uint32Array]",fe={};fe[Wc]=fe[Xc]=fe[Yc]=fe[Zc]=fe[$c]=fe[ep]=fe[tp]=fe[np]=fe[ip]=!0;fe[Fc]=fe[Pc]=fe[zc]=fe[Rc]=fe[Kc]=fe[Mc]=fe[Hc]=fe[Bc]=fe[Dc]=fe[Uc]=fe[Jc]=fe[Gc]=fe[Qc]=fe[Nc]=fe[Vc]=!1;function rp(f){return Lc(f)&&Sc(f.length)&&!!fe[kc(f)]}Xa.exports=rp});var $a=j((u_,Za)=>{function sp(f){return function(a){return f(a)}}Za.exports=sp});var to=j((Qt,xt)=>{var ap=Vn(),eo=typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,Gt=eo&&typeof xt=="object"&&xt&&!xt.nodeType&&xt,op=Gt&&Gt.exports===eo,ri=op&&ap.process,fp=function(){try{var f=Gt&&Gt.require&&Gt.require("util").types;return f||ri&&ri.binding&&ri.binding("util")}catch{}}();xt.exports=fp});var si=j((d_,ro)=>{var lp=Ya(),up=$a(),no=to(),io=no&&no.isTypedArray,dp=io?up(io):lp;ro.exports=dp});var ai=j((c_,so)=>{function cp(f,a){if(a!="__proto__")return f[a]}so.exports=cp});var oo=j((p_,ao)=>{var pp=an(),hp=Ft(),gp=Object.prototype,_p=gp.hasOwnProperty;function vp(f,a,_){var T=f[a];(!(_p.call(f,a)&&hp(T,_))||_===void 0&&!(a in f))&&pp(f,a,_)}ao.exports=vp});var lo=j((h_,fo)=>{var bp=oo(),mp=an();function yp(f,a,_,T){var y=!_;_||(_={});for(var k=-1,q=a.length;++k<q;){var E=a[k],C=T?T(_[E],f[E],E,_,f):void 0;C===void 0&&(C=f[E]),y?mp(_,E,C):bp(_,E,C)}return _}fo.exports=yp});var co=j((g_,uo)=>{function xp(f,a){for(var _=-1,T=Array(f);++_<f;)T[_]=a(_);return T}uo.exports=xp});var oi=j((__,po)=>{var wp=9007199254740991,Cp=/^(?:0|[1-9]\d*)$/;function Ip(f,a){var _=typeof f;return a=a??wp,!!a&&(_=="number"||_!="symbol"&&Cp.test(f))&&f>-1&&f%1==0&&f<a}po.exports=Ip});var go=j((v_,ho)=>{var Ep=co(),Tp=ei(),Ap=ti(),jp=ii(),qp=oi(),Op=si(),kp=Object.prototype,Sp=kp.hasOwnProperty;function Lp(f,a){var _=Ap(f),T=!_&&Tp(f),y=!_&&!T&&jp(f),k=!_&&!T&&!y&&Op(f),q=_||T||y||k,E=q?Ep(f.length,String):[],C=E.length;for(var M in f)(a||Sp.call(f,M))&&!(q&&(M=="length"||y&&(M=="offset"||M=="parent")||k&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||qp(M,C)))&&E.push(M);return E}ho.exports=Lp});var vo=j((b_,_o)=>{function Fp(f){var a=[];if(f!=null)for(var _ in Object(f))a.push(_);return a}_o.exports=Fp});var mo=j((m_,bo)=>{var Pp=Ye(),Rp=$n(),Mp=vo(),Hp=Object.prototype,Bp=Hp.hasOwnProperty;function Dp(f){if(!Pp(f))return Mp(f);var a=Rp(f),_=[];for(var T in f)T=="constructor"&&(a||!Bp.call(f,T))||_.push(T);return _}bo.exports=Dp});var fi=j((y_,yo)=>{var Up=go(),Jp=mo(),Gp=on();function Qp(f){return Gp(f)?Up(f,!0):Jp(f)}yo.exports=Qp});var wo=j((x_,xo)=>{var Np=lo(),Vp=fi();function zp(f){return Np(f,Vp(f))}xo.exports=zp});var jo=j((w_,Ao)=>{var Co=Yn(),Kp=ca(),Wp=ma(),Xp=xa(),Yp=Oa(),Io=ei(),Eo=ti(),Zp=Ua(),$p=ii(),eh=rn(),th=Ye(),nh=Wa(),ih=si(),To=ai(),rh=wo();function sh(f,a,_,T,y,k,q){var E=To(f,_),C=To(a,_),M=q.get(C);if(M){Co(f,_,M);return}var L=k?k(E,C,_+"",f,a,q):void 0,Q=L===void 0;if(Q){var B=Eo(C),V=!B&&$p(C),me=!B&&!V&&ih(C);L=C,B||V||me?Eo(E)?L=E:Zp(E)?L=Xp(E):V?(Q=!1,L=Kp(C,!0)):me?(Q=!1,L=Wp(C,!0)):L=[]:nh(C)||Io(C)?(L=E,Io(E)?L=rh(E):(!th(E)||eh(E))&&(L=Yp(C))):Q=!1}Q&&(q.set(C,L),y(L,C,T,k,q),q.delete(C)),Co(f,_,L)}Ao.exports=sh});var ko=j((C_,Oo)=>{var ah=$s(),oh=Yn(),fh=oa(),lh=jo(),uh=Ye(),dh=fi(),ch=ai();function qo(f,a,_,T,y){f!==a&&fh(a,function(k,q){if(uh(k))y||(y=new ah),lh(f,a,q,_,qo,T,y);else{var E=T?T(ch(f,q),k,q+"",f,a,y):void 0;E===void 0&&(E=k),oh(f,q,E)}},dh)}Oo.exports=qo});var li=j((I_,So)=>{function ph(f){return f}So.exports=ph});var Fo=j((E_,Lo)=>{function hh(f,a,_){switch(_.length){case 0:return f.call(a);case 1:return f.call(a,_[0]);case 2:return f.call(a,_[0],_[1]);case 3:return f.call(a,_[0],_[1],_[2])}return f.apply(a,_)}Lo.exports=hh});var Mo=j((T_,Ro)=>{var gh=Fo(),Po=Math.max;function _h(f,a,_){return a=Po(a===void 0?f.length-1:a,0),function(){for(var T=arguments,y=-1,k=Po(T.length-a,0),q=Array(k);++y<k;)q[y]=T[a+y];y=-1;for(var E=Array(a+1);++y<a;)E[y]=T[y];return E[a]=_(q),gh(f,this,E)}}Ro.exports=_h});var Bo=j((A_,Ho)=>{function vh(f){return function(){return f}}Ho.exports=vh});var Jo=j((j_,Uo)=>{var bh=Bo(),Do=Xn(),mh=li(),yh=Do?function(f,a){return Do(f,"toString",{configurable:!0,enumerable:!1,value:bh(a),writable:!0})}:mh;Uo.exports=yh});var Qo=j((q_,Go)=>{var xh=800,wh=16,Ch=Date.now;function Ih(f){var a=0,_=0;return function(){var T=Ch(),y=wh-(T-_);if(_=T,y>0){if(++a>=xh)return arguments[0]}else a=0;return f.apply(void 0,arguments)}}Go.exports=Ih});var Vo=j((O_,No)=>{var Eh=Jo(),Th=Qo(),Ah=Th(Eh);No.exports=Ah});var Ko=j((k_,zo)=>{var jh=li(),qh=Mo(),Oh=Vo();function kh(f,a){return Oh(qh(f,a,jh),f+"")}zo.exports=kh});var Xo=j((S_,Wo)=>{var Sh=Ft(),Lh=on(),Fh=oi(),Ph=Ye();function Rh(f,a,_){if(!Ph(_))return!1;var T=typeof a;return(T=="number"?Lh(_)&&Fh(a,_.length):T=="string"&&a in _)?Sh(_[a],f):!1}Wo.exports=Rh});var Zo=j((L_,Yo)=>{var Mh=Ko(),Hh=Xo();function Bh(f){return Mh(function(a,_){var T=-1,y=_.length,k=y>1?_[y-1]:void 0,q=y>2?_[2]:void 0;for(k=f.length>3&&typeof k=="function"?(y--,k):void 0,q&&Hh(_[0],_[1],q)&&(k=y<3?void 0:k,y=1),a=Object(a);++T<y;){var E=_[T];E&&f(a,E,T,k)}return a})}Yo.exports=Bh});var ef=j((F_,$o)=>{var Dh=ko(),Uh=Zo(),Jh=Uh(function(f,a,_){Dh(f,a,_)});$o.exports=Jh});function Qn(f){f.fn.checkboxButton=function(y){return this.each(function(){f(this).on("click",function(q){let E=q.target.tagName,C=f(this).find(":checkbox");E!=="INPUT"&&(q.preventDefault(),C.prop("checked",!C.prop("checked")));let M=C.is(":checked");y.call(this,M)},0)})},f.fn.disable=function(){return this.each(function(){let y=f(this);y.addClass("disabled"),y.data("tabindex",y.attr("tabindex")),y.removeAttr("tabindex")})},f.fn.ellipsis=function(y){return this.each(function(){let k=f(this),q=k.text();if(q.length>y){let E=q.substr(0,y);E=E.substr(0,Math.min(E.length,E.lastIndexOf(" "))),k.empty().html(E+"&hellip;")}})},f.fn.ellipsisFill=function(y){let k=!0;return y||(k=!1),this.each(function(){let q=f(this);k||(y=q.text()),q.empty();let E=f('<span title="'+y+'"></span>');if(q.append(E),q.css("overflow","hidden"),E.css("white-space","nowrap"),E.html(y),E.width()>q.width()){let C=null;for(;E.width()>q.width();){let M=E.html();if(M=M.substring(0,M.lastIndexOf(" "))+"&hellip;",M===C)break;E.html(M),C=M}}})},f.fn.ellipsisHtmlFixed=function(y,k){return this.each(function(){let q=f(this),E=q.html(),C=f("<span></span>");if(C.html(q.html().replace(/\s[\s]*/g," ").trim()),C.text().trim().length<=y)return;for(;C.text().trim().length>y;)C.removeLastWord(y);let M=C.html(),L=!1;q.toggle=function(){q.empty();let Q=f('<a href="#" class="toggle"></a>');L?(q.html(E+" "),Q.text("less"),Q.switchClass("less","more")):(q.html(M+"&hellip; "),Q.text("more"),Q.switchClass("more","less")),Q.one("click",function(B){B.preventDefault(),q.toggle()}),L=!L,q.append(Q),k&&k()},q.toggle()})},f.fn.enable=function(){return this.each(function(){let y=f(this);y.removeClass("disabled"),y.attr("tabindex",y.data("tabindex"))})},f.fn.equaliseHeight=function(y,k){let q=-1,E=Number.MAX_VALUE,C=[];y&&this.each(function(){f(this).height("auto")}),this.each(function(){let L=f(this).height();C.push(L),q=q>L?q:L,E=E<L?E:L});let M=q;if(k){C.sort(function(Q,B){return Q-B});let L=Math.floor(C.length/2);C.length%2?M=C[L]:M=(C[L-1]+C[L])/2}return this.each(function(){f(this).height(M)}),this},f.fn.getVisibleElementWithGreatestTabIndex=function(){let y=f(this),k=0,q=null;return y.find("*:visible[tabindex]").each(function(E,C){let M=f(C),L=parseInt(M.attr("tabindex"));L>k&&(k=L,q=M)}),q},f.fn.horizontalMargins=function(){let y=f(this);return parseInt(y.css("marginLeft"))+parseInt(y.css("marginRight"))},f.fn.leftMargin=function(){let y=f(this);return parseInt(y.css("marginLeft"))},f.fn.rightMargin=function(){let y=f(this);return parseInt(y.css("marginRight"))},f.fn.horizontalPadding=function(){let y=f(this);return parseInt(y.css("paddingLeft"))+parseInt(y.css("paddingRight"))},f.fn.leftPadding=function(){let y=f(this);return parseInt(y.css("paddingLeft"))},f.fn.rightPadding=function(){let y=f(this);return parseInt(y.css("paddingRight"))},f.mlp={x:0,y:0};function a(){let y=this===document?f(this):f(this).contents();y.mousemove(function(k){f.mlp={x:k.pageX,y:k.pageY}}),y.find("iframe").on("load",a)}f(a),f.fn.ismouseover=function(){let y=!1;return this.eq(0).each(function(){let k=f(this).is("iframe")?f(this).contents().find("body"):f(this),q=k.offset();y=q.left<=f.mlp.x&&q.left+k.outerWidth()>f.mlp.x&&q.top<=f.mlp.y&&q.top+k.outerHeight()>f.mlp.y}),y};let _=f.fn.on,T;f.fn.on=function(){let y=Array.apply(null,arguments),k=y[y.length-1];if(isNaN(k)||k===1&&y.pop())return _.apply(this,y);let q=y.pop(),E=y.pop();return y.push(function(){let C=this,M=arguments;clearTimeout(T),T=setTimeout(function(){E.apply(C,M)},q)}),_.apply(this,y)},f.fn.onEnter=function(y){return this.each(function(){f(this).on("keyup",function(q){q.keyCode===13&&(q.preventDefault(),y())},0)})},f.fn.onPressed=function(y){return this.each(function(){let k=f(this);k.on("touchstart click",function(q){q.preventDefault(),y(q)},0),k.on("keydown",function(q){q.keyCode===13&&(q.preventDefault(),y(q))},0)})},f.fn.removeLastWord=function(y=8,k=0){return this.each(function(){let q=f(this);if(q.contents().length>0){let E=q.contents().last();if(E[0].nodeType===3){let C=E.text().trim().split(" ");if(C.length>1){C.splice(C.length-1,1),E[0].data=C.join(" ");return}else if(typeof y!="undefined"&&C.length===1&&C[0].length>y){E[0].data=C.join(" ").substring(0,y);return}}E.removeLastWord(y,k+1)}else k>0&&q.remove()})},f.fn.switchClass=function(y,k){return this.each(function(){f(this).removeClass(y).addClass(k)})},f.fn.targetBlank=function(){return this.each(function(){f(this).find("a").prop("target","_blank")})},f.fn.toggleExpandText=function(y,k,q,E){return this.each(function(){let C=f(this),M=C.html();if(y>M.length)return;let L=!1,Q=M.substr(0,y);Q=Q.substr(0,Math.min(Q.length,Q.lastIndexOf(" "))),C.toggle=function(){C.empty();let B=f('<a href="#" class="toggle"></a>');L?(C.html(M+"&nbsp;"),B.text(k),B.switchClass("less","more")):(C.html(Q+"&nbsp;"),B.text(q),B.switchClass("more","less")),B.one("click",function(V){V.preventDefault(),C.toggle()}),L=!L,C.append(B),E&&E()},C.toggle()})},f.fn.toggleExpandTextByLines=function(y,k,q,E){return this.each(function(){let C=f(this),M=C.html(),L=f('<span>&hellip; <a href="#" class="toggle more">morepad</a></span>'),Q=[M],B=C.height();for(;C.text().length>0;){C.removeLastWord();let we=C.html();C.append(L),B>C.height()&&(Q.unshift(we),B=C.height()),L.remove()}if(Q.length<=y){C.html(M);return}let V=Q[y-1],me=!1;C.toggle=function(){C.empty();let we=f('<a href="#" class="toggle"></a>');me?(C.html(M+" "),we.text(k),we.switchClass("less","more")):(C.html(V+"&hellip; "),we.text(q),we.switchClass("more","less")),we.one("click",function(wt){wt.preventDefault(),C.toggle()}),me=!me,C.append(we),E&&E()},C.toggle()})},f.fn.toggleText=function(y,k){return this.each(function(){f(this).text()===y?f(this).text(k):f(this).text(y)})},f.fn.updateAttr=function(y,k,q){return this.each(function(){let E=f(this),C=E.attr(y);C&&C.indexOf(k)===0&&(C=C.replace(k,q),E.attr(y,C))})},f.fn.verticalMargins=function(){let y=f(this);return parseInt(y.css("marginTop"))+parseInt(y.css("marginBottom"))},f.fn.verticalPadding=function(){let y=f(this);return parseInt(y.css("paddingTop"))+parseInt(y.css("paddingBottom"))}}var Nn=class{constructor(){this.events={};this.onPublishHandler=()=>{}}publish(a,_){let T=this.events[a];T&&T.forEach(y=>{y.call(this,_)}),this.onPublishHandler.call(this,a,_)}subscribe(a,_){let T=this.events[a];T===void 0&&(T=this.events[a]=[]),T.push(_)}subscribeAll(a){this.onPublishHandler=a}unsubscribe(a,_){let T=this.events[a];if(T===void 0)return;let y=T.indexOf(_);T.splice(y)}unsubscribeAll(){this.onPublishHandler=()=>{}}dispose(){this.events={}}};var le=il(sl());var fn=rl();Er()(fn);Qn(fn);var tf=ef(),oe={AV:{name:"uv-av-extension",loader:()=>import("./Extension-GOJKPRRC.js")},ALEPH:{name:"uv-aleph-extension",loader:()=>import("./Extension-Z5TPEPPT.js")},DEFAULT:{name:"uv-default-extension",loader:()=>import("./Extension-WA4LXDN4.js")},EBOOK:{name:"uv-ebook-extension",loader:()=>import("./Extension-N26XKV77.js")},MEDIAELEMENT:{name:"uv-mediaelement-extension",loader:()=>import("./Extension-7BLOUZJZ.js")},MODELVIEWER:{name:"uv-model-viewer-extension",loader:()=>import("./Extension-V3IL6RKG.js")},OSD:{name:"uv-openseadragon-extension",loader:()=>import("./Extension-P3BEFIFC.js")},PDF:{name:"uv-pdf-extension",loader:()=>import("./Extension-QI477VKO.js")},SLIDEATLAS:{name:"uv-openseadragon-extension",loader:()=>import("./Extension-P3BEFIFC.js")}},nf=class extends xr{constructor(a){super(a);this.isFullScreen=!1;this.disposed=!1;this._pubsub=new Nn,this._init(),this.resize()}_init(){return this._extensionRegistry={},this._extensionRegistry[le.ExternalResourceType.CANVAS]=oe.OSD,this._extensionRegistry[le.ExternalResourceType.DOCUMENT]=oe.PDF,this._extensionRegistry[le.ExternalResourceType.IMAGE]=oe.OSD,this._extensionRegistry[le.ExternalResourceType.MOVING_IMAGE]=oe.MEDIAELEMENT,this._extensionRegistry[le.ExternalResourceType.PHYSICAL_OBJECT]=oe.MODELVIEWER,this._extensionRegistry[le.ExternalResourceType.SOUND]=oe.MEDIAELEMENT,this._extensionRegistry[le.MediaType.AUDIO_MP4]=oe.AV,this._extensionRegistry[le.MediaType.DICOM]=oe.ALEPH,this._extensionRegistry[le.MediaType.DRACO]=oe.MODELVIEWER,this._extensionRegistry[le.MediaType.EPUB]=oe.EBOOK,this._extensionRegistry[le.MediaType.GIRDER]=oe.SLIDEATLAS,this._extensionRegistry[le.MediaType.GLB]=oe.MODELVIEWER,this._extensionRegistry[le.MediaType.GLTF]=oe.MODELVIEWER,this._extensionRegistry[le.MediaType.JPG]=oe.OSD,this._extensionRegistry[le.MediaType.MP3]=oe.AV,this._extensionRegistry[le.MediaType.MPEG_DASH]=oe.AV,this._extensionRegistry[le.MediaType.OPF]=oe.EBOOK,this._extensionRegistry[le.MediaType.PDF]=oe.PDF,this._extensionRegistry[le.MediaType.USDZ]=oe.MODELVIEWER,this._extensionRegistry[le.MediaType.VIDEO_MP4]=oe.AV,this._extensionRegistry[le.MediaType.WEBM]=oe.AV,this._extensionRegistry[le.RenderingFormat.PDF]=oe.PDF,this.on(it.CREATED,a=>{this.hideSpinner()},!1),this.on(it.RELOAD,a=>{a.isReload=!0,this.set(a)},!1),this.set(this.options.data),!0}async _getExtensionByType(a,_){let T=await a.loader(),y=new T.default;return y.format=_,y.type=a,y}_getExtensionByFormat(a){return this._extensionRegistry[a]?this._getExtensionByType(this._extensionRegistry[a],a):this._getExtensionByType(oe.DEFAULT,a)}set(a){if(this.fire(mr.SET,a),this.extension){let _=Object.assign({},this.extension.data,a);_.isReload||_.iiifManifestId!==this.extension.data.iiifManifestId||_.manifestIndex!==this.extension.data.manifestIndex||_.collectionIndex!==this.extension.data.collectionIndex?(this.extension.data=_,this.showSpinner(),this._reload(this.extension.data)):(this.extension.data=_,this.extension.render())}else{if(!a.iiifManifestId){console.warn("iiifManifestId is required.");return}this._reload(a)}}publish(a,_){this._pubsub.publish(a,_)}subscribe(a,_){return this._pubsub.subscribe(a,_),()=>{this._pubsub.unsubscribe(a,_)}}subscribeAll(a){return this._pubsub.subscribeAll(a),()=>{this._pubsub.unsubscribeAll()}}dispose(){this._pubsub.dispose(),this.adapter?.dispose(),this.disposed=!0;let a=fn(this.options.target);a.empty(),a.attr("class","")}async _reload(a){this._pubsub.dispose(),a.target="",this.subscribe(it.RELOAD,Q=>{this.fire(it.RELOAD,Q)}),fn(this.options.target).empty();let T=this,y=await wr({manifestUri:a.iiifManifestId,collectionIndex:a.collectionIndex,manifestIndex:a.manifestIndex||0,canvasIndex:a.canvasIndex||0,rangeId:a.rangeId,locale:a.locales?a.locales[0].name:void 0}),k=y.getTrackingLabel();k&&(k+=", URI: "+(window.location!==window.parent.location)?document.referrer:document.location,window.trackingLabel=k);let q;if(q=y.getCurrentCanvas(),!q){T._error(`Canvas ${a.canvasIndex} not found.`);return}let E,C=q.getContent(),M;if(C.length){let B=C[0].getBody();if(B&&B.length)if(M=B[0].getFormat(),M){if(E=await T._getExtensionByFormat(M),!E){let V=B[0].getType();V&&(E=await T._getExtensionByFormat(V))}}else{let V=B[0].getType();V&&(E=await T._getExtensionByFormat(V))}}else{let Q=q.getType();if(Q&&(E=await T._getExtensionByFormat(Q)),!E){let B=q.getProperty("format");E=await T._getExtensionByFormat(B)}}let L=y.getRanges().length>0;E.type===oe.AV&&!L&&(E=await T._getExtensionByType(oe.MEDIAELEMENT,M)),E||(E=await T._getExtensionByFormat(oe.DEFAULT.name)),a.config=await T._configure(a,E),T._createExtension(E,a,y)}_error(a){this.fire(it.ERROR,a)}async _configure(a,_){a.locales||(a.locales=[],a.locales.push(yr));let T=await _.loadConfig(a.locales[0].name),y=[];if(this.fire(it.CONFIGURE,{config:T,cb:k=>{y.push(k)}}),y.length){let q=(await Promise.all(y)).reduce((E,C)=>tf(E,C));T=tf(T,q)}return T}_createExtension(a,_,T){this.extension=a,this.extension&&(this.extension.extensionHost=this,this.extension.data=_,this.extension.helper=T,this.extension.create())}exitFullScreen(){this.extension&&this.extension.exitFullScreen()}resize(){this.extension&&!this.disposed&&this.extension.resize()}};export{nf as default};
/*! includes JsRender, JsObservable and JsViews - see: http://jsviews.com/#download */
/*! jsviews.js v0.9.83 (Beta) single-file version: http://jsviews.com/ */
