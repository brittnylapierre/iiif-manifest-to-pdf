import{a as o}from"./chunk-Q2W43J2O.js";import{a as c}from"./chunk-QHKPBIAI.js";import{a as l}from"./chunk-RPOSMM7Q.js";import"./chunk-YAXTLTJC.js";var f=class extends c{constructor(e,t,i){super(e,t,i);this.options=e;this.adapter=t;this._init(this.options.data)}_getYouTubeVideoId(e){return e.indexOf("v=")&&(e=e.split("v=")[1]),e}async _init(e){if(window.youTubePlayers||(window.youTubePlayers=[]),this._id="YTPlayer-"+new Date().getTime(),window.youTubePlayers.push({id:this._id,data:e,ref:this}),this._playerDiv||(this._playerDiv=document.createElement("div"),this._playerDiv.id=this._id,this._el.append(this._playerDiv)),!document.getElementById("youtube-iframe-api")){let i=document.createElement("script");i.id="youtube-iframe-api",i.src="//www.youtube.com/iframe_api";let s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s)}window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady():window.onYouTubeIframeAPIReady=()=>{for(let i of window.youTubePlayers)i.ref.configure({controls:!0}).then(s=>{window[i.id]=new YT.Player(i.id,{height:"100%",width:"100%",videoId:this._getYouTubeVideoId(i.data.youTubeVideoId),playerVars:{playsinline:1,enablejsapi:1,controls:s.controls?1:0,showInfo:0,rel:0,modestbranding:1},events:{onReady:a=>{let u=a.target.getIframe().id,n=window.youTubePlayers.find(r=>r.id===u);n&&(n.ref.config=s,n.ref.set(i.data),n.ref.fire(l.CREATED))},onStateChange:a=>{let d=a.target,u=d.getIframe().id,n=d.getDuration(),r=window.youTubePlayers.find(p=>p.id===u);if(r)switch(a.data){case-1:r.ref.fire(o.UNSTARTED),r.ref.fire(l.LOAD,{player:d,duration:n});break;case 0:r.ref.fire(o.ENDED);break;case 1:r.ref.fire(o.PLAYING);break;case 2:r.ref.fire(o.PAUSED);break;case 3:r.ref.fire(o.BUFFERING);break;case 5:r.ref.fire(o.CUED);break}}}})})}}set(e){let t=window[this._id];if(e.muted?t.mute():t.unMute(),e.youTubeVideoId){let i=this._getYouTubeVideoId(e.youTubeVideoId);e.autoPlay?e.trim?t.loadVideoById({videoId:i,startSeconds:e.trim[0],endSeconds:e.trim[1]}):t.loadVideoById(i):e.trim?t.cueVideoById({videoId:i,startSeconds:e.trim[0],endSeconds:e.trim[1]}):t.cueVideoById(i)}e.currentTime&&t.seekTo(e.currentTime,!0)}exitFullScreen(){}resize(){let e=this._el.clientWidth+"px",t=this._el.clientHeight+"px";this._playerDiv.style.width=e,this._playerDiv.style.height=t}dispose(){super.dispose(),window.youTubePlayers=window.youTubePlayers.filter(e=>e.id!==this._id)}};export{f as default};
