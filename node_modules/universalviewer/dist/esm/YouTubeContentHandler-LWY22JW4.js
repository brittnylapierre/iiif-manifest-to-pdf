import{a}from"./chunk-PRPUBGS3.js";import{a as s}from"./chunk-RPOSMM7Q.js";import"./chunk-YAXTLTJC.js";var r=class extends a{constructor(e){super(e);this._init(this.options.data)}_getYouTubeVideoId(e){return e.indexOf("v=")&&(e=e.split("v=")[1]),e}_init(e){if(window.youTubePlayers||(window.youTubePlayers=[]),this._id="YTPlayer-"+window.youTubePlayers.length,window.youTubePlayers.push({id:this._id,data:e}),this._playerDiv||(this._playerDiv=document.createElement("div"),this._playerDiv.id=this._id,this._el.append(this._playerDiv)),!document.getElementById("youtube-iframe-api")){let i=document.createElement("script");i.id="youtube-iframe-api",i.src="//www.youtube.com/iframe_api";let o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o)}window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady():window.onYouTubeIframeAPIReady=()=>{for(let i of window.youTubePlayers)i.id===this._id&&(window[this._id]=new YT.Player(this._id,{height:"100%",width:"100%",videoId:this._getYouTubeVideoId(i.data.youTubeVideoId),playerVars:{playsinline:1,enablejsapi:1,controls:i.data.controls?1:0,showInfo:0,modestbranding:1},events:{onReady:o=>{let n=o.target.getDuration();this.set(i.data),this.hideSpinner(),this.fire(s.CREATED),this.fire(s.LOAD,{duration:n})},onStateChange:o=>{}}}))}}set(e){let t=window[this._id];if(e.youTubeVideoId){let i=this._getYouTubeVideoId(e.youTubeVideoId);e.autoPlay?t.loadVideoById(i):t.cueVideoById(i)}e.currentTime&&t.seekTo(e.currentTime,!0)}exitFullScreen(){}resize(){let e=this._el.clientWidth+"px",t=this._el.clientHeight+"px";this._playerDiv.style.width=e,this._playerDiv.style.height=t}dispose(){this._el.innerHTML="",window.youTubePlayers=window.youTubePlayers.filter(e=>e.id!==this._id),this._el.className="",this.adapter?.dispose()}};export{r as default};
