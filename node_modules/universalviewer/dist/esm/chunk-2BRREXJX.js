import{b as ft,c as yt}from"./chunk-YAXTLTJC.js";var Mt=ft(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});var ea;(function(i){i.BOOKMARKING="oa:bookmarking",i.CLASSIFYING="oa:classifying",i.COMMENTING="oa:commenting",i.DESCRIBING="oa:describing",i.EDITING="oa:editing",i.HIGHLIGHTING="oa:highlighting",i.IDENTIFYING="oa:identifying",i.LINKING="oa:linking",i.MODERATING="oa:moderating",i.PAINTING="sc:painting",i.QUESTIONING="oa:questioning",i.REPLYING="oa:replying",i.TAGGING="oa:tagging",i.TRANSCRIBING="oad:transcribing"})(ea=ct.AnnotationMotivation||(ct.AnnotationMotivation={}));var na;(function(i){i.AUTO_ADVANCE="auto-advance",i.CONTINUOUS="continuous",i.FACING_PAGES="facing-pages",i.HIDDEN="hidden",i.INDIVIDUALS="individuals",i.MULTI_PART="multi-part",i.NO_NAV="no-nav",i.NON_PAGED="non-paged",i.PAGED="paged",i.REPEAT="repeat",i.SEQUENCE="sequence",i.THUMBNAIL_NAV="thumbnail-nav",i.TOGETHER="together",i.UNORDERED="unordered"})(na=ct.Behavior||(ct.Behavior={}));var ra;(function(i){i.CANVAS="canvas",i.CHOICE="choice",i.OA_CHOICE="oa:choice",i.CONTENT_AS_TEXT="contentastext",i.DATASET="dataset",i.DOCUMENT="document",i.IMAGE="image",i.MODEL="model",i.MOVING_IMAGE="movingimage",i.PDF="pdf",i.PHYSICAL_OBJECT="physicalobject",i.SOUND="sound",i.TEXT="text",i.TEXTUALBODY="textualbody",i.VIDEO="video"})(ra=ct.ExternalResourceType||(ct.ExternalResourceType={}));var ia;(function(i){i.ANNOTATION="annotation",i.CANVAS="canvas",i.COLLECTION="collection",i.MANIFEST="manifest",i.RANGE="range",i.SEQUENCE="sequence"})(ia=ct.IIIFResourceType||(ct.IIIFResourceType={}));var oa;(function(i){i.AUDIO_MP4="audio/mp4",i.CORTO="application/corto",i.DICOM="application/dicom",i.DRACO="application/draco",i.EPUB="application/epub+zip",i.GIRDER="image/vnd.kitware.girder",i.GLB="model/gltf-binary",i.GLTF="model/gltf+json",i.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',i.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',i.JPG="image/jpeg",i.M3U8="application/vnd.apple.mpegurl",i.MP3="audio/mp3",i.MPEG_DASH="application/dash+xml",i.OBJ="text/plain",i.OPF="application/oebps-package+xml",i.PDF="application/pdf",i.PLY="application/ply",i.THREEJS="application/vnd.threejs+json",i.USDZ="model/vnd.usd+zip",i.VIDEO_MP4="video/mp4",i.WEBM="video/webm"})(oa=ct.MediaType||(ct.MediaType={}));var aa;(function(i){i.DOC="application/msword",i.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",i.PDF="application/pdf"})(aa=ct.RenderingFormat||(ct.RenderingFormat={}));var sa;(function(i){i.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",i.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",i.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",i.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",i.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",i.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",i.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",i.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",i.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",i.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",i.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",i.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",i.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",i.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",i.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",i.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",i.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",i.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",i.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",i.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",i.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",i.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",i.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",i.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",i.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",i.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",i.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",i.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",i.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",i.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",i.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",i.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",i.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",i.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",i.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",i.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",i.SEARCH_0="http://iiif.io/api/search/0/search",i.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",i.SEARCH_1="http://iiif.io/api/search/1/search",i.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",i.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",i.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",i.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",i.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",i.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",i.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"})(sa=ct.ServiceProfile||(ct.ServiceProfile={}));var ua;(function(i){i.BOTTOM_TO_TOP="bottom-to-top",i.LEFT_TO_RIGHT="left-to-right",i.RIGHT_TO_LEFT="right-to-left",i.TOP_TO_BOTTOM="top-to-bottom"})(ua=ct.ViewingDirection||(ct.ViewingDirection={}));var fa;(function(i){i.CONTINUOUS="continuous",i.INDIVIDUALS="individuals",i.NON_PAGED="non-paged",i.PAGED="paged",i.TOP="top"})(fa=ct.ViewingHint||(ct.ViewingHint={}))});var Wr=ft((js,Br)=>{function _a(i,e){for(var n=-1,a=e.length,u=i.length;++n<a;)i[u+n]=e[n];return i}Br.exports=_a});var Yr=ft((Hs,zr)=>{var ma=typeof global=="object"&&global&&global.Object===Object&&global;zr.exports=ma});var Xr=ft((Vs,$r)=>{var Ea=Yr(),Ta=typeof self=="object"&&self&&self.Object===Object&&self,Ca=Ea||Ta||Function("return this")();$r.exports=Ca});var rn=ft((Fs,Qr)=>{var Aa=Xr(),xa=Aa.Symbol;Qr.exports=xa});var ti=ft((qs,Zr)=>{var Kr=rn(),Jr=Object.prototype,Ia=Jr.hasOwnProperty,Oa=Jr.toString,He=Kr?Kr.toStringTag:void 0;function ba(i){var e=Ia.call(i,He),n=i[He];try{i[He]=void 0;var a=!0}catch{}var u=Oa.call(i);return a&&(e?i[He]=n:delete i[He]),u}Zr.exports=ba});var ni=ft((ks,ei)=>{var Sa=Object.prototype,La=Sa.toString;function Na(i){return La.call(i)}ei.exports=Na});var ai=ft((Gs,oi)=>{var ri=rn(),wa=ti(),Ra=ni(),Da="[object Null]",Ma="[object Undefined]",ii=ri?ri.toStringTag:void 0;function Pa(i){return i==null?i===void 0?Ma:Da:ii&&ii in Object(i)?wa(i):Ra(i)}oi.exports=Pa});var Mn=ft((Bs,si)=>{function Ua(i){return i!=null&&typeof i=="object"}si.exports=Ua});var fi=ft((Ws,ui)=>{var ja=ai(),Ha=Mn(),Va="[object Arguments]";function Fa(i){return Ha(i)&&ja(i)==Va}ui.exports=Fa});var hi=ft((zs,pi)=>{var li=fi(),qa=Mn(),ci=Object.prototype,ka=ci.hasOwnProperty,Ga=ci.propertyIsEnumerable,Ba=li(function(){return arguments}())?li:function(i){return qa(i)&&ka.call(i,"callee")&&!Ga.call(i,"callee")};pi.exports=Ba});var gi=ft((Ys,di)=>{var Wa=Array.isArray;di.exports=Wa});var mi=ft(($s,_i)=>{var vi=rn(),za=hi(),Ya=gi(),yi=vi?vi.isConcatSpreadable:void 0;function $a(i){return Ya(i)||za(i)||!!(yi&&i&&i[yi])}_i.exports=$a});var Pn=ft((Xs,Ti)=>{var Xa=Wr(),Qa=mi();function Ei(i,e,n,a,u){var p=-1,y=i.length;for(n||(n=Qa),u||(u=[]);++p<y;){var C=i[p];e>0&&n(C)?e>1?Ei(C,e-1,n,a,u):Xa(u,C):a||(u[u.length]=C)}return u}Ti.exports=Ei});var Ai=ft((Qs,Ci)=>{var Ka=Pn();function Ja(i){var e=i==null?0:i.length;return e?Ka(i,1):[]}Ci.exports=Ja});var Ii=ft((Ks,xi)=>{var Za=Pn(),ts=1/0;function es(i){var e=i==null?0:i.length;return e?Za(i,ts):[]}xi.exports=es});var Di=ft(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.CONTINUE=100;q.SWITCHING_PROTOCOLS=101;q.PROCESSING=102;q.OK=200;q.CREATED=201;q.ACCEPTED=202;q.NON_AUTHORITATIVE_INFORMATION=203;q.NO_CONTENT=204;q.RESET_CONTENT=205;q.PARTIAL_CONTENT=206;q.MULTI_STATUS=207;q.MULTIPLE_CHOICES=300;q.MOVED_PERMANENTLY=301;q.MOVED_TEMPORARILY=302;q.SEE_OTHER=303;q.NOT_MODIFIED=304;q.USE_PROXY=305;q.TEMPORARY_REDIRECT=307;q.BAD_REQUEST=400;q.UNAUTHORIZED=401;q.PAYMENT_REQUIRED=402;q.FORBIDDEN=403;q.NOT_FOUND=404;q.METHOD_NOT_ALLOWED=405;q.NOT_ACCEPTABLE=406;q.PROXY_AUTHENTICATION_REQUIRED=407;q.REQUEST_TIME_OUT=408;q.CONFLICT=409;q.GONE=410;q.LENGTH_REQUIRED=411;q.PRECONDITION_FAILED=412;q.REQUEST_ENTITY_TOO_LARGE=413;q.REQUEST_URI_TOO_LARGE=414;q.UNSUPPORTED_MEDIA_TYPE=415;q.REQUESTED_RANGE_NOT_SATISFIABLE=416;q.EXPECTATION_FAILED=417;q.IM_A_TEAPOT=418;q.UNPROCESSABLE_ENTITY=422;q.LOCKED=423;q.FAILED_DEPENDENCY=424;q.UNORDERED_COLLECTION=425;q.UPGRADE_REQUIRED=426;q.PRECONDITION_REQUIRED=428;q.TOO_MANY_REQUESTS=429;q.REQUEST_HEADER_FIELDS_TOO_LARGE=431;q.INTERNAL_SERVER_ERROR=500;q.NOT_IMPLEMENTED=501;q.BAD_GATEWAY=502;q.SERVICE_UNAVAILABLE=503;q.GATEWAY_TIME_OUT=504;q.HTTP_VERSION_NOT_SUPPORTED=505;q.VARIANT_ALSO_NEGOTIATES=506;q.INSUFFICIENT_STORAGE=507;q.BANDWIDTH_LIMIT_EXCEEDED=509;q.NOT_EXTENDED=510;q.NETWORK_AUTHENTICATION_REQUIRED=511});var Fn=ft((of,Mi)=>{Mi.exports=function(i,e){return e=e||{},new Promise(function(n,a){var u=new XMLHttpRequest,p=[],y=[],C={},L=function(){return{ok:(u.status/100|0)==2,statusText:u.statusText,status:u.status,url:u.responseURL,text:function(){return Promise.resolve(u.responseText)},json:function(){return Promise.resolve(u.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([u.response]))},clone:L,headers:{keys:function(){return p},entries:function(){return y},get:function(R){return C[R.toLowerCase()]},has:function(R){return R.toLowerCase()in C}}}};for(var I in u.open(e.method||"get",i,!0),u.onload=function(){u.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(R,M,H){p.push(M=M.toLowerCase()),y.push([M,H]),C[M]=C[M]?C[M]+","+H:H}),n(L())},u.onerror=a,u.withCredentials=e.credentials=="include",e.headers)u.setRequestHeader(I,e.headers[I]);u.send(e.body||null)})}});var Ui=ft((af,Pi)=>{Pi.exports=self.fetch||(self.fetch=Fn().default||Fn())});var Fi=ft((un,Gn)=>{(function(i,e){typeof un=="object"&&typeof Gn=="object"?Gn.exports=e():typeof define=="function"&&define.amd?define("httpstatuscodes",[],e):typeof un=="object"?un.httpstatuscodes=e():i.httpstatuscodes=e()})(window,function(){return function(i){var e={};function n(a){if(e[a])return e[a].exports;var u=e[a]={i:a,l:!1,exports:{}};return i[a].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=i,n.c=e,n.d=function(a,u,p){n.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:p})},n.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,u){if(1&u&&(a=n(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var p=Object.create(null);if(n.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var y in a)n.d(p,y,function(C){return a[C]}.bind(null,y));return p},n.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(u,"a",u),u},n.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},n.p="",n(n.s=0)}([function(i,e,n){i.exports=n(1)},function(i,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])})});var ps=ft((qi,fn)=>{(function(i,e){"use strict";typeof fn=="object"&&typeof fn.exports=="object"?fn.exports=i.document?e(i,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}:e(i)})(typeof window!="undefined"?window:qi,function(i,e){"use strict";var n=[],a=Object.getPrototypeOf,u=n.slice,p=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},y=n.push,C=n.indexOf,L={},I=L.toString,R=L.hasOwnProperty,M=R.toString,H=M.call(Object),U={},P=function(r){return typeof r=="function"&&typeof r.nodeType!="number"},tt=function(r){return r!=null&&r===r.window},B=i.document,le={type:!0,src:!0,nonce:!0,noModule:!0};function Tt(t,r,o){o=o||B;var s,l,c=o.createElement("script");if(c.text=t,r)for(s in le)l=r[s]||r.getAttribute&&r.getAttribute(s),l&&c.setAttribute(s,l);o.head.appendChild(c).parentNode.removeChild(c)}function Ut(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?L[I.call(t)]||"object":typeof t}var Bn="3.5.0",f=function(t,r){return new f.fn.init(t,r)};f.fn=f.prototype={jquery:Bn,constructor:f,length:0,toArray:function(){return u.call(this)},get:function(t){return t==null?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var r=f.merge(this.constructor(),t);return r.prevObject=this,r},each:function(t){return f.each(this,t)},map:function(t){return this.pushStack(f.map(this,function(r,o){return t.call(r,o,r)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(t,r){return(r+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(t,r){return r%2}))},eq:function(t){var r=this.length,o=+t+(t<0?r:0);return this.pushStack(o>=0&&o<r?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:y,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var t,r,o,s,l,c,h=arguments[0]||{},v=1,_=arguments.length,E=!1;for(typeof h=="boolean"&&(E=h,h=arguments[v]||{},v++),typeof h!="object"&&!P(h)&&(h={}),v===_&&(h=this,v--);v<_;v++)if((t=arguments[v])!=null)for(r in t)s=t[r],!(r==="__proto__"||h===s)&&(E&&s&&(f.isPlainObject(s)||(l=Array.isArray(s)))?(o=h[r],l&&!Array.isArray(o)?c=[]:!l&&!f.isPlainObject(o)?c={}:c=o,l=!1,h[r]=f.extend(E,c,s)):s!==void 0&&(h[r]=s));return h},f.extend({expando:"jQuery"+(Bn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var r,o;return!t||I.call(t)!=="[object Object]"?!1:(r=a(t),r?(o=R.call(r,"constructor")&&r.constructor,typeof o=="function"&&M.call(o)===H):!0)},isEmptyObject:function(t){var r;for(r in t)return!1;return!0},globalEval:function(t,r,o){Tt(t,{nonce:r&&r.nonce},o)},each:function(t,r){var o,s=0;if(ln(t))for(o=t.length;s<o&&r.call(t[s],s,t[s])!==!1;s++);else for(s in t)if(r.call(t[s],s,t[s])===!1)break;return t},makeArray:function(t,r){var o=r||[];return t!=null&&(ln(Object(t))?f.merge(o,typeof t=="string"?[t]:t):y.call(o,t)),o},inArray:function(t,r,o){return r==null?-1:C.call(r,t,o)},merge:function(t,r){for(var o=+r.length,s=0,l=t.length;s<o;s++)t[l++]=r[s];return t.length=l,t},grep:function(t,r,o){for(var s,l=[],c=0,h=t.length,v=!o;c<h;c++)s=!r(t[c],c),s!==v&&l.push(t[c]);return l},map:function(t,r,o){var s,l,c=0,h=[];if(ln(t))for(s=t.length;c<s;c++)l=r(t[c],c,o),l!=null&&h.push(l);else for(c in t)l=r(t[c],c,o),l!=null&&h.push(l);return p(h)},guid:1,support:U}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,r){L["[object "+r+"]"]=r.toLowerCase()});function ln(t){var r=!!t&&"length"in t&&t.length,o=Ut(t);return P(t)||tt(t)?!1:o==="array"||r===0||typeof r=="number"&&r>0&&r-1 in t}var Jt=function(t){var r,o,s,l,c,h,v,_,E,x,w,A,O,k,K,G,pt,lt,bt,nt="sizzle"+1*new Date,Q=t.document,It=0,Z=0,ut=Qe(),Re=Qe(),Ye=Qe(),St=Qe(),ne=function(d,g){return d===g&&(w=!0),0},re={}.hasOwnProperty,Ot=[],Yt=Ot.pop,Dt=Ot.push,$t=Ot.push,Lr=Ot.slice,ie=function(d,g){for(var m=0,b=d.length;m<b;m++)if(d[m]===g)return m;return-1},On="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Nr="\\["+et+"*("+oe+")(?:"+et+"*([*^$|!~]?=)"+et+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+oe+"))|)"+et+"*\\]",bn=":("+oe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Nr+")*)|.*)\\)|)",qo=new RegExp(et+"+","g"),$e=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),ko=new RegExp("^"+et+"*,"+et+"*"),wr=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),Go=new RegExp(et+"|>"),Bo=new RegExp(bn),Wo=new RegExp("^"+oe+"$"),Xe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe+"|[*])"),ATTR:new RegExp("^"+Nr),PSEUDO:new RegExp("^"+bn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+On+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},zo=/HTML$/i,Yo=/^(?:input|select|textarea|button)$/i,$o=/^h\d$/i,De=/^[^{]+\{\s*\[native \w/,Xo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sn=/[+~]/,Wt=new RegExp("\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\([^\\r\\n\\f])","g"),zt=function(d,g){var m="0x"+d.slice(1)-65536;return g||(m<0?String.fromCharCode(m+65536):String.fromCharCode(m>>10|55296,m&1023|56320))},Rr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Dr=function(d,g){return g?d==="\0"?"\uFFFD":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d},Mr=function(){A()},Qo=Je(function(d){return d.disabled===!0&&d.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{$t.apply(Ot=Lr.call(Q.childNodes),Q.childNodes),Ot[Q.childNodes.length].nodeType}catch{$t={apply:Ot.length?function(g,m){Dt.apply(g,Lr.call(m))}:function(g,m){for(var b=g.length,T=0;g[b++]=m[T++];);g.length=b-1}}}function it(d,g,m,b){var T,S,N,D,j,z,W,X=g&&g.ownerDocument,J=g?g.nodeType:9;if(m=m||[],typeof d!="string"||!d||J!==1&&J!==9&&J!==11)return m;if(!b&&(A(g),g=g||O,K)){if(J!==11&&(j=Xo.exec(d)))if(T=j[1]){if(J===9)if(N=g.getElementById(T)){if(N.id===T)return m.push(N),m}else return m;else if(X&&(N=X.getElementById(T))&&bt(g,N)&&N.id===T)return m.push(N),m}else{if(j[2])return $t.apply(m,g.getElementsByTagName(d)),m;if((T=j[3])&&o.getElementsByClassName&&g.getElementsByClassName)return $t.apply(m,g.getElementsByClassName(T)),m}if(o.qsa&&!St[d+" "]&&(!G||!G.test(d))&&(J!==1||g.nodeName.toLowerCase()!=="object")){if(W=d,X=g,J===1&&(Go.test(d)||wr.test(d))){for(X=Sn.test(d)&&Nn(g.parentNode)||g,(X!==g||!o.scope)&&((D=g.getAttribute("id"))?D=D.replace(Rr,Dr):g.setAttribute("id",D=nt)),z=h(d),S=z.length;S--;)z[S]=(D?"#"+D:":scope")+" "+Ke(z[S]);W=z.join(",")}try{return $t.apply(m,X.querySelectorAll(W)),m}catch{St(d,!0)}finally{D===nt&&g.removeAttribute("id")}}}return _(d.replace($e,"$1"),g,m,b)}function Qe(){var d=[];function g(m,b){return d.push(m+" ")>s.cacheLength&&delete g[d.shift()],g[m+" "]=b}return g}function Ht(d){return d[nt]=!0,d}function Vt(d){var g=O.createElement("fieldset");try{return!!d(g)}catch{return!1}finally{g.parentNode&&g.parentNode.removeChild(g),g=null}}function Ln(d,g){for(var m=d.split("|"),b=m.length;b--;)s.attrHandle[m[b]]=g}function Pr(d,g){var m=g&&d,b=m&&d.nodeType===1&&g.nodeType===1&&d.sourceIndex-g.sourceIndex;if(b)return b;if(m){for(;m=m.nextSibling;)if(m===g)return-1}return d?1:-1}function Ko(d){return function(g){var m=g.nodeName.toLowerCase();return m==="input"&&g.type===d}}function Jo(d){return function(g){var m=g.nodeName.toLowerCase();return(m==="input"||m==="button")&&g.type===d}}function Ur(d){return function(g){return"form"in g?g.parentNode&&g.disabled===!1?"label"in g?"label"in g.parentNode?g.parentNode.disabled===d:g.disabled===d:g.isDisabled===d||g.isDisabled!==!d&&Qo(g)===d:g.disabled===d:"label"in g?g.disabled===d:!1}}function ae(d){return Ht(function(g){return g=+g,Ht(function(m,b){for(var T,S=d([],m.length,g),N=S.length;N--;)m[T=S[N]]&&(m[T]=!(b[T]=m[T]))})})}function Nn(d){return d&&typeof d.getElementsByTagName!="undefined"&&d}o=it.support={},c=it.isXML=function(d){var g=d.namespaceURI,m=(d.ownerDocument||d).documentElement;return!zo.test(g||m&&m.nodeName||"HTML")},A=it.setDocument=function(d){var g,m,b=d?d.ownerDocument||d:Q;return b==O||b.nodeType!==9||!b.documentElement||(O=b,k=O.documentElement,K=!c(O),Q!=O&&(m=O.defaultView)&&m.top!==m&&(m.addEventListener?m.addEventListener("unload",Mr,!1):m.attachEvent&&m.attachEvent("onunload",Mr)),o.scope=Vt(function(T){return k.appendChild(T).appendChild(O.createElement("div")),typeof T.querySelectorAll!="undefined"&&!T.querySelectorAll(":scope fieldset div").length}),o.attributes=Vt(function(T){return T.className="i",!T.getAttribute("className")}),o.getElementsByTagName=Vt(function(T){return T.appendChild(O.createComment("")),!T.getElementsByTagName("*").length}),o.getElementsByClassName=De.test(O.getElementsByClassName),o.getById=Vt(function(T){return k.appendChild(T).id=nt,!O.getElementsByName||!O.getElementsByName(nt).length}),o.getById?(s.filter.ID=function(T){var S=T.replace(Wt,zt);return function(N){return N.getAttribute("id")===S}},s.find.ID=function(T,S){if(typeof S.getElementById!="undefined"&&K){var N=S.getElementById(T);return N?[N]:[]}}):(s.filter.ID=function(T){var S=T.replace(Wt,zt);return function(N){var D=typeof N.getAttributeNode!="undefined"&&N.getAttributeNode("id");return D&&D.value===S}},s.find.ID=function(T,S){if(typeof S.getElementById!="undefined"&&K){var N,D,j,z=S.getElementById(T);if(z){if(N=z.getAttributeNode("id"),N&&N.value===T)return[z];for(j=S.getElementsByName(T),D=0;z=j[D++];)if(N=z.getAttributeNode("id"),N&&N.value===T)return[z]}return[]}}),s.find.TAG=o.getElementsByTagName?function(T,S){if(typeof S.getElementsByTagName!="undefined")return S.getElementsByTagName(T);if(o.qsa)return S.querySelectorAll(T)}:function(T,S){var N,D=[],j=0,z=S.getElementsByTagName(T);if(T==="*"){for(;N=z[j++];)N.nodeType===1&&D.push(N);return D}return z},s.find.CLASS=o.getElementsByClassName&&function(T,S){if(typeof S.getElementsByClassName!="undefined"&&K)return S.getElementsByClassName(T)},pt=[],G=[],(o.qsa=De.test(O.querySelectorAll))&&(Vt(function(T){var S;k.appendChild(T).innerHTML="<a id='"+nt+"'></a><select id='"+nt+"-\r\\' msallowcapture=''><option selected=''></option></select>",T.querySelectorAll("[msallowcapture^='']").length&&G.push("[*^$]="+et+`*(?:''|"")`),T.querySelectorAll("[selected]").length||G.push("\\["+et+"*(?:value|"+On+")"),T.querySelectorAll("[id~="+nt+"-]").length||G.push("~="),S=O.createElement("input"),S.setAttribute("name",""),T.appendChild(S),T.querySelectorAll("[name='']").length||G.push("\\["+et+"*name"+et+"*="+et+`*(?:''|"")`),T.querySelectorAll(":checked").length||G.push(":checked"),T.querySelectorAll("a#"+nt+"+*").length||G.push(".#.+[+~]"),T.querySelectorAll("\\\f"),G.push("[\\r\\n\\f]")}),Vt(function(T){T.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var S=O.createElement("input");S.setAttribute("type","hidden"),T.appendChild(S).setAttribute("name","D"),T.querySelectorAll("[name=d]").length&&G.push("name"+et+"*[*^$|!~]?="),T.querySelectorAll(":enabled").length!==2&&G.push(":enabled",":disabled"),k.appendChild(T).disabled=!0,T.querySelectorAll(":disabled").length!==2&&G.push(":enabled",":disabled"),T.querySelectorAll("*,:x"),G.push(",.*:")})),(o.matchesSelector=De.test(lt=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&Vt(function(T){o.disconnectedMatch=lt.call(T,"*"),lt.call(T,"[s!='']:x"),pt.push("!=",bn)}),G=G.length&&new RegExp(G.join("|")),pt=pt.length&&new RegExp(pt.join("|")),g=De.test(k.compareDocumentPosition),bt=g||De.test(k.contains)?function(T,S){var N=T.nodeType===9?T.documentElement:T,D=S&&S.parentNode;return T===D||!!(D&&D.nodeType===1&&(N.contains?N.contains(D):T.compareDocumentPosition&&T.compareDocumentPosition(D)&16))}:function(T,S){if(S){for(;S=S.parentNode;)if(S===T)return!0}return!1},ne=g?function(T,S){if(T===S)return w=!0,0;var N=!T.compareDocumentPosition-!S.compareDocumentPosition;return N||(N=(T.ownerDocument||T)==(S.ownerDocument||S)?T.compareDocumentPosition(S):1,N&1||!o.sortDetached&&S.compareDocumentPosition(T)===N?T==O||T.ownerDocument==Q&&bt(Q,T)?-1:S==O||S.ownerDocument==Q&&bt(Q,S)?1:x?ie(x,T)-ie(x,S):0:N&4?-1:1)}:function(T,S){if(T===S)return w=!0,0;var N,D=0,j=T.parentNode,z=S.parentNode,W=[T],X=[S];if(!j||!z)return T==O?-1:S==O?1:j?-1:z?1:x?ie(x,T)-ie(x,S):0;if(j===z)return Pr(T,S);for(N=T;N=N.parentNode;)W.unshift(N);for(N=S;N=N.parentNode;)X.unshift(N);for(;W[D]===X[D];)D++;return D?Pr(W[D],X[D]):W[D]==Q?-1:X[D]==Q?1:0}),O},it.matches=function(d,g){return it(d,null,null,g)},it.matchesSelector=function(d,g){if(A(d),o.matchesSelector&&K&&!St[g+" "]&&(!pt||!pt.test(g))&&(!G||!G.test(g)))try{var m=lt.call(d,g);if(m||o.disconnectedMatch||d.document&&d.document.nodeType!==11)return m}catch{St(g,!0)}return it(g,O,null,[d]).length>0},it.contains=function(d,g){return(d.ownerDocument||d)!=O&&A(d),bt(d,g)},it.attr=function(d,g){(d.ownerDocument||d)!=O&&A(d);var m=s.attrHandle[g.toLowerCase()],b=m&&re.call(s.attrHandle,g.toLowerCase())?m(d,g,!K):void 0;return b!==void 0?b:o.attributes||!K?d.getAttribute(g):(b=d.getAttributeNode(g))&&b.specified?b.value:null},it.escape=function(d){return(d+"").replace(Rr,Dr)},it.error=function(d){throw new Error("Syntax error, unrecognized expression: "+d)},it.uniqueSort=function(d){var g,m=[],b=0,T=0;if(w=!o.detectDuplicates,x=!o.sortStable&&d.slice(0),d.sort(ne),w){for(;g=d[T++];)g===d[T]&&(b=m.push(T));for(;b--;)d.splice(m[b],1)}return x=null,d},l=it.getText=function(d){var g,m="",b=0,T=d.nodeType;if(T){if(T===1||T===9||T===11){if(typeof d.textContent=="string")return d.textContent;for(d=d.firstChild;d;d=d.nextSibling)m+=l(d)}else if(T===3||T===4)return d.nodeValue}else for(;g=d[b++];)m+=l(g);return m},s=it.selectors={cacheLength:50,createPseudo:Ht,match:Xe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(d){return d[1]=d[1].replace(Wt,zt),d[3]=(d[3]||d[4]||d[5]||"").replace(Wt,zt),d[2]==="~="&&(d[3]=" "+d[3]+" "),d.slice(0,4)},CHILD:function(d){return d[1]=d[1].toLowerCase(),d[1].slice(0,3)==="nth"?(d[3]||it.error(d[0]),d[4]=+(d[4]?d[5]+(d[6]||1):2*(d[3]==="even"||d[3]==="odd")),d[5]=+(d[7]+d[8]||d[3]==="odd")):d[3]&&it.error(d[0]),d},PSEUDO:function(d){var g,m=!d[6]&&d[2];return Xe.CHILD.test(d[0])?null:(d[3]?d[2]=d[4]||d[5]||"":m&&Bo.test(m)&&(g=h(m,!0))&&(g=m.indexOf(")",m.length-g)-m.length)&&(d[0]=d[0].slice(0,g),d[2]=m.slice(0,g)),d.slice(0,3))}},filter:{TAG:function(d){var g=d.replace(Wt,zt).toLowerCase();return d==="*"?function(){return!0}:function(m){return m.nodeName&&m.nodeName.toLowerCase()===g}},CLASS:function(d){var g=ut[d+" "];return g||(g=new RegExp("(^|"+et+")"+d+"("+et+"|$)"))&&ut(d,function(m){return g.test(typeof m.className=="string"&&m.className||typeof m.getAttribute!="undefined"&&m.getAttribute("class")||"")})},ATTR:function(d,g,m){return function(b){var T=it.attr(b,d);return T==null?g==="!=":g?(T+="",g==="="?T===m:g==="!="?T!==m:g==="^="?m&&T.indexOf(m)===0:g==="*="?m&&T.indexOf(m)>-1:g==="$="?m&&T.slice(-m.length)===m:g==="~="?(" "+T.replace(qo," ")+" ").indexOf(m)>-1:g==="|="?T===m||T.slice(0,m.length+1)===m+"-":!1):!0}},CHILD:function(d,g,m,b,T){var S=d.slice(0,3)!=="nth",N=d.slice(-4)!=="last",D=g==="of-type";return b===1&&T===0?function(j){return!!j.parentNode}:function(j,z,W){var X,J,ot,Y,ht,vt,Lt=S!==N?"nextSibling":"previousSibling",st=j.parentNode,Me=D&&j.nodeName.toLowerCase(),Pe=!W&&!D,Nt=!1;if(st){if(S){for(;Lt;){for(Y=j;Y=Y[Lt];)if(D?Y.nodeName.toLowerCase()===Me:Y.nodeType===1)return!1;vt=Lt=d==="only"&&!vt&&"nextSibling"}return!0}if(vt=[N?st.firstChild:st.lastChild],N&&Pe){for(Y=st,ot=Y[nt]||(Y[nt]={}),J=ot[Y.uniqueID]||(ot[Y.uniqueID]={}),X=J[d]||[],ht=X[0]===It&&X[1],Nt=ht&&X[2],Y=ht&&st.childNodes[ht];Y=++ht&&Y&&Y[Lt]||(Nt=ht=0)||vt.pop();)if(Y.nodeType===1&&++Nt&&Y===j){J[d]=[It,ht,Nt];break}}else if(Pe&&(Y=j,ot=Y[nt]||(Y[nt]={}),J=ot[Y.uniqueID]||(ot[Y.uniqueID]={}),X=J[d]||[],ht=X[0]===It&&X[1],Nt=ht),Nt===!1)for(;(Y=++ht&&Y&&Y[Lt]||(Nt=ht=0)||vt.pop())&&!((D?Y.nodeName.toLowerCase()===Me:Y.nodeType===1)&&++Nt&&(Pe&&(ot=Y[nt]||(Y[nt]={}),J=ot[Y.uniqueID]||(ot[Y.uniqueID]={}),J[d]=[It,Nt]),Y===j)););return Nt-=T,Nt===b||Nt%b==0&&Nt/b>=0}}},PSEUDO:function(d,g){var m,b=s.pseudos[d]||s.setFilters[d.toLowerCase()]||it.error("unsupported pseudo: "+d);return b[nt]?b(g):b.length>1?(m=[d,d,"",g],s.setFilters.hasOwnProperty(d.toLowerCase())?Ht(function(T,S){for(var N,D=b(T,g),j=D.length;j--;)N=ie(T,D[j]),T[N]=!(S[N]=D[j])}):function(T){return b(T,0,m)}):b}},pseudos:{not:Ht(function(d){var g=[],m=[],b=v(d.replace($e,"$1"));return b[nt]?Ht(function(T,S,N,D){for(var j,z=b(T,null,D,[]),W=T.length;W--;)(j=z[W])&&(T[W]=!(S[W]=j))}):function(T,S,N){return g[0]=T,b(g,null,N,m),g[0]=null,!m.pop()}}),has:Ht(function(d){return function(g){return it(d,g).length>0}}),contains:Ht(function(d){return d=d.replace(Wt,zt),function(g){return(g.textContent||l(g)).indexOf(d)>-1}}),lang:Ht(function(d){return Wo.test(d||"")||it.error("unsupported lang: "+d),d=d.replace(Wt,zt).toLowerCase(),function(g){var m;do if(m=K?g.lang:g.getAttribute("xml:lang")||g.getAttribute("lang"))return m=m.toLowerCase(),m===d||m.indexOf(d+"-")===0;while((g=g.parentNode)&&g.nodeType===1);return!1}}),target:function(d){var g=t.location&&t.location.hash;return g&&g.slice(1)===d.id},root:function(d){return d===k},focus:function(d){return d===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(d.type||d.href||~d.tabIndex)},enabled:Ur(!1),disabled:Ur(!0),checked:function(d){var g=d.nodeName.toLowerCase();return g==="input"&&!!d.checked||g==="option"&&!!d.selected},selected:function(d){return d.parentNode&&d.parentNode.selectedIndex,d.selected===!0},empty:function(d){for(d=d.firstChild;d;d=d.nextSibling)if(d.nodeType<6)return!1;return!0},parent:function(d){return!s.pseudos.empty(d)},header:function(d){return $o.test(d.nodeName)},input:function(d){return Yo.test(d.nodeName)},button:function(d){var g=d.nodeName.toLowerCase();return g==="input"&&d.type==="button"||g==="button"},text:function(d){var g;return d.nodeName.toLowerCase()==="input"&&d.type==="text"&&((g=d.getAttribute("type"))==null||g.toLowerCase()==="text")},first:ae(function(){return[0]}),last:ae(function(d,g){return[g-1]}),eq:ae(function(d,g,m){return[m<0?m+g:m]}),even:ae(function(d,g){for(var m=0;m<g;m+=2)d.push(m);return d}),odd:ae(function(d,g){for(var m=1;m<g;m+=2)d.push(m);return d}),lt:ae(function(d,g,m){for(var b=m<0?m+g:m>g?g:m;--b>=0;)d.push(b);return d}),gt:ae(function(d,g,m){for(var b=m<0?m+g:m;++b<g;)d.push(b);return d})}},s.pseudos.nth=s.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[r]=Ko(r);for(r in{submit:!0,reset:!0})s.pseudos[r]=Jo(r);function jr(){}jr.prototype=s.filters=s.pseudos,s.setFilters=new jr,h=it.tokenize=function(d,g){var m,b,T,S,N,D,j,z=Re[d+" "];if(z)return g?0:z.slice(0);for(N=d,D=[],j=s.preFilter;N;){(!m||(b=ko.exec(N)))&&(b&&(N=N.slice(b[0].length)||N),D.push(T=[])),m=!1,(b=wr.exec(N))&&(m=b.shift(),T.push({value:m,type:b[0].replace($e," ")}),N=N.slice(m.length));for(S in s.filter)(b=Xe[S].exec(N))&&(!j[S]||(b=j[S](b)))&&(m=b.shift(),T.push({value:m,type:S,matches:b}),N=N.slice(m.length));if(!m)break}return g?N.length:N?it.error(d):Re(d,D).slice(0)};function Ke(d){for(var g=0,m=d.length,b="";g<m;g++)b+=d[g].value;return b}function Je(d,g,m){var b=g.dir,T=g.next,S=T||b,N=m&&S==="parentNode",D=Z++;return g.first?function(j,z,W){for(;j=j[b];)if(j.nodeType===1||N)return d(j,z,W);return!1}:function(j,z,W){var X,J,ot,Y=[It,D];if(W){for(;j=j[b];)if((j.nodeType===1||N)&&d(j,z,W))return!0}else for(;j=j[b];)if(j.nodeType===1||N)if(ot=j[nt]||(j[nt]={}),J=ot[j.uniqueID]||(ot[j.uniqueID]={}),T&&T===j.nodeName.toLowerCase())j=j[b]||j;else{if((X=J[S])&&X[0]===It&&X[1]===D)return Y[2]=X[2];if(J[S]=Y,Y[2]=d(j,z,W))return!0}return!1}}function wn(d){return d.length>1?function(g,m,b){for(var T=d.length;T--;)if(!d[T](g,m,b))return!1;return!0}:d[0]}function Zo(d,g,m){for(var b=0,T=g.length;b<T;b++)it(d,g[b],m);return m}function Ze(d,g,m,b,T){for(var S,N=[],D=0,j=d.length,z=g!=null;D<j;D++)(S=d[D])&&(!m||m(S,b,T))&&(N.push(S),z&&g.push(D));return N}function Rn(d,g,m,b,T,S){return b&&!b[nt]&&(b=Rn(b)),T&&!T[nt]&&(T=Rn(T,S)),Ht(function(N,D,j,z){var W,X,J,ot=[],Y=[],ht=D.length,vt=N||Zo(g||"*",j.nodeType?[j]:j,[]),Lt=d&&(N||!g)?Ze(vt,ot,d,j,z):vt,st=m?T||(N?d:ht||b)?[]:D:Lt;if(m&&m(Lt,st,j,z),b)for(W=Ze(st,Y),b(W,[],j,z),X=W.length;X--;)(J=W[X])&&(st[Y[X]]=!(Lt[Y[X]]=J));if(N){if(T||d){if(T){for(W=[],X=st.length;X--;)(J=st[X])&&W.push(Lt[X]=J);T(null,st=[],W,z)}for(X=st.length;X--;)(J=st[X])&&(W=T?ie(N,J):ot[X])>-1&&(N[W]=!(D[W]=J))}}else st=Ze(st===D?st.splice(ht,st.length):st),T?T(null,D,st,z):$t.apply(D,st)})}function Dn(d){for(var g,m,b,T=d.length,S=s.relative[d[0].type],N=S||s.relative[" "],D=S?1:0,j=Je(function(X){return X===g},N,!0),z=Je(function(X){return ie(g,X)>-1},N,!0),W=[function(X,J,ot){var Y=!S&&(ot||J!==E)||((g=J).nodeType?j(X,J,ot):z(X,J,ot));return g=null,Y}];D<T;D++)if(m=s.relative[d[D].type])W=[Je(wn(W),m)];else{if(m=s.filter[d[D].type].apply(null,d[D].matches),m[nt]){for(b=++D;b<T&&!s.relative[d[b].type];b++);return Rn(D>1&&wn(W),D>1&&Ke(d.slice(0,D-1).concat({value:d[D-2].type===" "?"*":""})).replace($e,"$1"),m,D<b&&Dn(d.slice(D,b)),b<T&&Dn(d=d.slice(b)),b<T&&Ke(d))}W.push(m)}return wn(W)}function ta(d,g){var m=g.length>0,b=d.length>0,T=function(S,N,D,j,z){var W,X,J,ot=0,Y="0",ht=S&&[],vt=[],Lt=E,st=S||b&&s.find.TAG("*",z),Me=It+=Lt==null?1:Math.random()||.1,Pe=st.length;for(z&&(E=N==O||N||z);Y!==Pe&&(W=st[Y])!=null;Y++){if(b&&W){for(X=0,!N&&W.ownerDocument!=O&&(A(W),D=!K);J=d[X++];)if(J(W,N||O,D)){j.push(W);break}z&&(It=Me)}m&&((W=!J&&W)&&ot--,S&&ht.push(W))}if(ot+=Y,m&&Y!==ot){for(X=0;J=g[X++];)J(ht,vt,N,D);if(S){if(ot>0)for(;Y--;)ht[Y]||vt[Y]||(vt[Y]=Yt.call(j));vt=Ze(vt)}$t.apply(j,vt),z&&!S&&vt.length>0&&ot+g.length>1&&it.uniqueSort(j)}return z&&(It=Me,E=Lt),ht};return m?Ht(T):T}return v=it.compile=function(d,g){var m,b=[],T=[],S=Ye[d+" "];if(!S){for(g||(g=h(d)),m=g.length;m--;)S=Dn(g[m]),S[nt]?b.push(S):T.push(S);S=Ye(d,ta(T,b)),S.selector=d}return S},_=it.select=function(d,g,m,b){var T,S,N,D,j,z=typeof d=="function"&&d,W=!b&&h(d=z.selector||d);if(m=m||[],W.length===1){if(S=W[0]=W[0].slice(0),S.length>2&&(N=S[0]).type==="ID"&&g.nodeType===9&&K&&s.relative[S[1].type]){if(g=(s.find.ID(N.matches[0].replace(Wt,zt),g)||[])[0],g)z&&(g=g.parentNode);else return m;d=d.slice(S.shift().value.length)}for(T=Xe.needsContext.test(d)?0:S.length;T--&&(N=S[T],!s.relative[D=N.type]);)if((j=s.find[D])&&(b=j(N.matches[0].replace(Wt,zt),Sn.test(S[0].type)&&Nn(g.parentNode)||g))){if(S.splice(T,1),d=b.length&&Ke(S),!d)return $t.apply(m,b),m;break}}return(z||v(d,W))(b,g,!K,m,!g||Sn.test(d)&&Nn(g.parentNode)||g),m},o.sortStable=nt.split("").sort(ne).join("")===nt,o.detectDuplicates=!!w,A(),o.sortDetached=Vt(function(d){return d.compareDocumentPosition(O.createElement("fieldset"))&1}),Vt(function(d){return d.innerHTML="<a href='#'></a>",d.firstChild.getAttribute("href")==="#"})||Ln("type|href|height|width",function(d,g,m){if(!m)return d.getAttribute(g,g.toLowerCase()==="type"?1:2)}),(!o.attributes||!Vt(function(d){return d.innerHTML="<input/>",d.firstChild.setAttribute("value",""),d.firstChild.getAttribute("value")===""}))&&Ln("value",function(d,g,m){if(!m&&d.nodeName.toLowerCase()==="input")return d.defaultValue}),Vt(function(d){return d.getAttribute("disabled")==null})||Ln(On,function(d,g,m){var b;if(!m)return d[g]===!0?g.toLowerCase():(b=d.getAttributeNode(g))&&b.specified?b.value:null}),it}(i);f.find=Jt,f.expr=Jt.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=Jt.uniqueSort,f.text=Jt.getText,f.isXMLDoc=Jt.isXML,f.contains=Jt.contains,f.escapeSelector=Jt.escape;var ce=function(t,r,o){for(var s=[],l=o!==void 0;(t=t[r])&&t.nodeType!==9;)if(t.nodeType===1){if(l&&f(t).is(o))break;s.push(t)}return s},Wn=function(t,r){for(var o=[];t;t=t.nextSibling)t.nodeType===1&&t!==r&&o.push(t);return o},zn=f.expr.match.needsContext;function wt(t,r){return t.nodeName&&t.nodeName.toLowerCase()===r.toLowerCase()}var Yn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function cn(t,r,o){return P(r)?f.grep(t,function(s,l){return!!r.call(s,l,s)!==o}):r.nodeType?f.grep(t,function(s){return s===r!==o}):typeof r!="string"?f.grep(t,function(s){return C.call(r,s)>-1!==o}):f.filter(r,t,o)}f.filter=function(t,r,o){var s=r[0];return o&&(t=":not("+t+")"),r.length===1&&s.nodeType===1?f.find.matchesSelector(s,t)?[s]:[]:f.find.matches(t,f.grep(r,function(l){return l.nodeType===1}))},f.fn.extend({find:function(t){var r,o,s=this.length,l=this;if(typeof t!="string")return this.pushStack(f(t).filter(function(){for(r=0;r<s;r++)if(f.contains(l[r],this))return!0}));for(o=this.pushStack([]),r=0;r<s;r++)f.find(t,l[r],o);return s>1?f.uniqueSort(o):o},filter:function(t){return this.pushStack(cn(this,t||[],!1))},not:function(t){return this.pushStack(cn(this,t||[],!0))},is:function(t){return!!cn(this,typeof t=="string"&&zn.test(t)?f(t):t||[],!1).length}});var $n,ki=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Gi=f.fn.init=function(t,r,o){var s,l;if(!t)return this;if(o=o||$n,typeof t=="string")if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3?s=[null,t,null]:s=ki.exec(t),s&&(s[1]||!r))if(s[1]){if(r=r instanceof f?r[0]:r,f.merge(this,f.parseHTML(s[1],r&&r.nodeType?r.ownerDocument||r:B,!0)),Yn.test(s[1])&&f.isPlainObject(r))for(s in r)P(this[s])?this[s](r[s]):this.attr(s,r[s]);return this}else return l=B.getElementById(s[2]),l&&(this[0]=l,this.length=1),this;else return!r||r.jquery?(r||o).find(t):this.constructor(r).find(t);else{if(t.nodeType)return this[0]=t,this.length=1,this;if(P(t))return o.ready!==void 0?o.ready(t):t(f)}return f.makeArray(t,this)};Gi.prototype=f.fn,$n=f(B);var Bi=/^(?:parents|prev(?:Until|All))/,Wi={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(t){var r=f(t,this),o=r.length;return this.filter(function(){for(var s=0;s<o;s++)if(f.contains(this,r[s]))return!0})},closest:function(t,r){var o,s=0,l=this.length,c=[],h=typeof t!="string"&&f(t);if(!zn.test(t)){for(;s<l;s++)for(o=this[s];o&&o!==r;o=o.parentNode)if(o.nodeType<11&&(h?h.index(o)>-1:o.nodeType===1&&f.find.matchesSelector(o,t))){c.push(o);break}}return this.pushStack(c.length>1?f.uniqueSort(c):c)},index:function(t){return t?typeof t=="string"?C.call(f(t),this[0]):C.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,r){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(t,r))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function Xn(t,r){for(;(t=t[r])&&t.nodeType!==1;);return t}f.each({parent:function(t){var r=t.parentNode;return r&&r.nodeType!==11?r:null},parents:function(t){return ce(t,"parentNode")},parentsUntil:function(t,r,o){return ce(t,"parentNode",o)},next:function(t){return Xn(t,"nextSibling")},prev:function(t){return Xn(t,"previousSibling")},nextAll:function(t){return ce(t,"nextSibling")},prevAll:function(t){return ce(t,"previousSibling")},nextUntil:function(t,r,o){return ce(t,"nextSibling",o)},prevUntil:function(t,r,o){return ce(t,"previousSibling",o)},siblings:function(t){return Wn((t.parentNode||{}).firstChild,t)},children:function(t){return Wn(t.firstChild)},contents:function(t){return t.contentDocument!=null&&a(t.contentDocument)?t.contentDocument:(wt(t,"template")&&(t=t.content||t),f.merge([],t.childNodes))}},function(t,r){f.fn[t]=function(o,s){var l=f.map(this,r,o);return t.slice(-5)!=="Until"&&(s=o),s&&typeof s=="string"&&(l=f.filter(s,l)),this.length>1&&(Wi[t]||f.uniqueSort(l),Bi.test(t)&&l.reverse()),this.pushStack(l)}});var Ft=/[^\x20\t\r\n\f]+/g;function zi(t){var r={};return f.each(t.match(Ft)||[],function(o,s){r[s]=!0}),r}f.Callbacks=function(t){t=typeof t=="string"?zi(t):f.extend({},t);var r,o,s,l,c=[],h=[],v=-1,_=function(){for(l=l||t.once,s=r=!0;h.length;v=-1)for(o=h.shift();++v<c.length;)c[v].apply(o[0],o[1])===!1&&t.stopOnFalse&&(v=c.length,o=!1);t.memory||(o=!1),r=!1,l&&(o?c=[]:c="")},E={add:function(){return c&&(o&&!r&&(v=c.length-1,h.push(o)),function x(w){f.each(w,function(A,O){P(O)?(!t.unique||!E.has(O))&&c.push(O):O&&O.length&&Ut(O)!=="string"&&x(O)})}(arguments),o&&!r&&_()),this},remove:function(){return f.each(arguments,function(x,w){for(var A;(A=f.inArray(w,c,A))>-1;)c.splice(A,1),A<=v&&v--}),this},has:function(x){return x?f.inArray(x,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return l=h=[],c=o="",this},disabled:function(){return!c},lock:function(){return l=h=[],!o&&!r&&(c=o=""),this},locked:function(){return!!l},fireWith:function(x,w){return l||(w=w||[],w=[x,w.slice?w.slice():w],h.push(w),r||_()),this},fire:function(){return E.fireWith(this,arguments),this},fired:function(){return!!s}};return E};function pe(t){return t}function Fe(t){throw t}function Qn(t,r,o,s){var l;try{t&&P(l=t.promise)?l.call(t).done(r).fail(o):t&&P(l=t.then)?l.call(t,r,o):r.apply(void 0,[t].slice(s))}catch(c){o.apply(void 0,[c])}}f.extend({Deferred:function(t){var r=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},catch:function(c){return s.then(null,c)},pipe:function(){var c=arguments;return f.Deferred(function(h){f.each(r,function(v,_){var E=P(c[_[4]])&&c[_[4]];l[_[1]](function(){var x=E&&E.apply(this,arguments);x&&P(x.promise)?x.promise().progress(h.notify).done(h.resolve).fail(h.reject):h[_[0]+"With"](this,E?[x]:arguments)})}),c=null}).promise()},then:function(c,h,v){var _=0;function E(x,w,A,O){return function(){var k=this,K=arguments,G=function(){var lt,bt;if(!(x<_)){if(lt=A.apply(k,K),lt===w.promise())throw new TypeError("Thenable self-resolution");bt=lt&&(typeof lt=="object"||typeof lt=="function")&&lt.then,P(bt)?O?bt.call(lt,E(_,w,pe,O),E(_,w,Fe,O)):(_++,bt.call(lt,E(_,w,pe,O),E(_,w,Fe,O),E(_,w,pe,w.notifyWith))):(A!==pe&&(k=void 0,K=[lt]),(O||w.resolveWith)(k,K))}},pt=O?G:function(){try{G()}catch(lt){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(lt,pt.stackTrace),x+1>=_&&(A!==Fe&&(k=void 0,K=[lt]),w.rejectWith(k,K))}};x?pt():(f.Deferred.getStackHook&&(pt.stackTrace=f.Deferred.getStackHook()),i.setTimeout(pt))}}return f.Deferred(function(x){r[0][3].add(E(0,x,P(v)?v:pe,x.notifyWith)),r[1][3].add(E(0,x,P(c)?c:pe)),r[2][3].add(E(0,x,P(h)?h:Fe))}).promise()},promise:function(c){return c!=null?f.extend(c,s):s}},l={};return f.each(r,function(c,h){var v=h[2],_=h[5];s[h[1]]=v.add,_&&v.add(function(){o=_},r[3-c][2].disable,r[3-c][3].disable,r[0][2].lock,r[0][3].lock),v.add(h[3].fire),l[h[0]]=function(){return l[h[0]+"With"](this===l?void 0:this,arguments),this},l[h[0]+"With"]=v.fireWith}),s.promise(l),t&&t.call(l,l),l},when:function(t){var r=arguments.length,o=r,s=Array(o),l=u.call(arguments),c=f.Deferred(),h=function(v){return function(_){s[v]=this,l[v]=arguments.length>1?u.call(arguments):_,--r||c.resolveWith(s,l)}};if(r<=1&&(Qn(t,c.done(h(o)).resolve,c.reject,!r),c.state()==="pending"||P(l[o]&&l[o].then)))return c.then();for(;o--;)Qn(l[o],h(o),c.reject);return c.promise()}});var Yi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(t,r){i.console&&i.console.warn&&t&&Yi.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},f.readyException=function(t){i.setTimeout(function(){throw t})};var pn=f.Deferred();f.fn.ready=function(t){return pn.then(t).catch(function(r){f.readyException(r)}),this},f.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(t!==!0&&--f.readyWait>0)&&pn.resolveWith(B,[f]))}}),f.ready.then=pn.then;function qe(){B.removeEventListener("DOMContentLoaded",qe),i.removeEventListener("load",qe),f.ready()}B.readyState==="complete"||B.readyState!=="loading"&&!B.documentElement.doScroll?i.setTimeout(f.ready):(B.addEventListener("DOMContentLoaded",qe),i.addEventListener("load",qe));var Gt=function(t,r,o,s,l,c,h){var v=0,_=t.length,E=o==null;if(Ut(o)==="object"){l=!0;for(v in o)Gt(t,r,v,o[v],!0,c,h)}else if(s!==void 0&&(l=!0,P(s)||(h=!0),E&&(h?(r.call(t,s),r=null):(E=r,r=function(x,w,A){return E.call(f(x),A)})),r))for(;v<_;v++)r(t[v],o,h?s:s.call(t[v],v,r(t[v],o)));return l?t:E?r.call(t):_?r(t[0],o):c},$i=/^-ms-/,Xi=/-([a-z])/g;function Qi(t,r){return r.toUpperCase()}function qt(t){return t.replace($i,"ms-").replace(Xi,Qi)}var xe=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function Ie(){this.expando=f.expando+Ie.uid++}Ie.uid=1,Ie.prototype={cache:function(t){var r=t[this.expando];return r||(r=Object.create(null),xe(t)&&(t.nodeType?t[this.expando]=r:Object.defineProperty(t,this.expando,{value:r,configurable:!0}))),r},set:function(t,r,o){var s,l=this.cache(t);if(typeof r=="string")l[qt(r)]=o;else for(s in r)l[qt(s)]=r[s];return l},get:function(t,r){return r===void 0?this.cache(t):t[this.expando]&&t[this.expando][qt(r)]},access:function(t,r,o){return r===void 0||r&&typeof r=="string"&&o===void 0?this.get(t,r):(this.set(t,r,o),o!==void 0?o:r)},remove:function(t,r){var o,s=t[this.expando];if(s!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(qt):(r=qt(r),r=r in s?[r]:r.match(Ft)||[]),o=r.length;o--;)delete s[r[o]];(r===void 0||f.isEmptyObject(s))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var r=t[this.expando];return r!==void 0&&!f.isEmptyObject(r)}};var $=new Ie,Ct=new Ie,Ki=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ji=/[A-Z]/g;function Zi(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:Ki.test(t)?JSON.parse(t):t}function Kn(t,r,o){var s;if(o===void 0&&t.nodeType===1)if(s="data-"+r.replace(Ji,"-$&").toLowerCase(),o=t.getAttribute(s),typeof o=="string"){try{o=Zi(o)}catch{}Ct.set(t,r,o)}else o=void 0;return o}f.extend({hasData:function(t){return Ct.hasData(t)||$.hasData(t)},data:function(t,r,o){return Ct.access(t,r,o)},removeData:function(t,r){Ct.remove(t,r)},_data:function(t,r,o){return $.access(t,r,o)},_removeData:function(t,r){$.remove(t,r)}}),f.fn.extend({data:function(t,r){var o,s,l,c=this[0],h=c&&c.attributes;if(t===void 0){if(this.length&&(l=Ct.get(c),c.nodeType===1&&!$.get(c,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(s=h[o].name,s.indexOf("data-")===0&&(s=qt(s.slice(5)),Kn(c,s,l[s])));$.set(c,"hasDataAttrs",!0)}return l}return typeof t=="object"?this.each(function(){Ct.set(this,t)}):Gt(this,function(v){var _;if(c&&v===void 0)return _=Ct.get(c,t),_!==void 0||(_=Kn(c,t),_!==void 0)?_:void 0;this.each(function(){Ct.set(this,t,v)})},null,r,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ct.remove(this,t)})}}),f.extend({queue:function(t,r,o){var s;if(t)return r=(r||"fx")+"queue",s=$.get(t,r),o&&(!s||Array.isArray(o)?s=$.access(t,r,f.makeArray(o)):s.push(o)),s||[]},dequeue:function(t,r){r=r||"fx";var o=f.queue(t,r),s=o.length,l=o.shift(),c=f._queueHooks(t,r),h=function(){f.dequeue(t,r)};l==="inprogress"&&(l=o.shift(),s--),l&&(r==="fx"&&o.unshift("inprogress"),delete c.stop,l.call(t,h,c)),!s&&c&&c.empty.fire()},_queueHooks:function(t,r){var o=r+"queueHooks";return $.get(t,o)||$.access(t,o,{empty:f.Callbacks("once memory").add(function(){$.remove(t,[r+"queue",o])})})}}),f.fn.extend({queue:function(t,r){var o=2;return typeof t!="string"&&(r=t,t="fx",o--),arguments.length<o?f.queue(this[0],t):r===void 0?this:this.each(function(){var s=f.queue(this,t,r);f._queueHooks(this,t),t==="fx"&&s[0]!=="inprogress"&&f.dequeue(this,t)})},dequeue:function(t){return this.each(function(){f.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,r){var o,s=1,l=f.Deferred(),c=this,h=this.length,v=function(){--s||l.resolveWith(c,[c])};for(typeof t!="string"&&(r=t,t=void 0),t=t||"fx";h--;)o=$.get(c[h],t+"queueHooks"),o&&o.empty&&(s++,o.empty.add(v));return v(),l.promise(r)}});var Jn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+Jn+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Zt=B.documentElement,he=function(t){return f.contains(t.ownerDocument,t)},to={composed:!0};Zt.getRootNode&&(he=function(t){return f.contains(t.ownerDocument,t)||t.getRootNode(to)===t.ownerDocument});var ke=function(t,r){return t=r||t,t.style.display==="none"||t.style.display===""&&he(t)&&f.css(t,"display")==="none"};function Zn(t,r,o,s){var l,c,h=20,v=s?function(){return s.cur()}:function(){return f.css(t,r,"")},_=v(),E=o&&o[3]||(f.cssNumber[r]?"":"px"),x=t.nodeType&&(f.cssNumber[r]||E!=="px"&&+_)&&Oe.exec(f.css(t,r));if(x&&x[3]!==E){for(_=_/2,E=E||x[3],x=+_||1;h--;)f.style(t,r,x+E),(1-c)*(1-(c=v()/_||.5))<=0&&(h=0),x=x/c;x=x*2,f.style(t,r,x+E),o=o||[]}return o&&(x=+x||+_||0,l=o[1]?x+(o[1]+1)*o[2]:+o[2],s&&(s.unit=E,s.start=x,s.end=l)),l}var tr={};function eo(t){var r,o=t.ownerDocument,s=t.nodeName,l=tr[s];return l||(r=o.body.appendChild(o.createElement(s)),l=f.css(r,"display"),r.parentNode.removeChild(r),l==="none"&&(l="block"),tr[s]=l,l)}function de(t,r){for(var o,s,l=[],c=0,h=t.length;c<h;c++)s=t[c],!!s.style&&(o=s.style.display,r?(o==="none"&&(l[c]=$.get(s,"display")||null,l[c]||(s.style.display="")),s.style.display===""&&ke(s)&&(l[c]=eo(s))):o!=="none"&&(l[c]="none",$.set(s,"display",o)));for(c=0;c<h;c++)l[c]!=null&&(t[c].style.display=l[c]);return t}f.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){ke(this)?f(this).show():f(this).hide()})}});var be=/^(?:checkbox|radio)$/i,er=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,nr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=B.createDocumentFragment(),r=t.appendChild(B.createElement("div")),o=B.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),r.appendChild(o),U.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",U.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",U.option=!!r.lastChild})();var Rt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td,U.option||(Rt.optgroup=Rt.option=[1,"<select multiple='multiple'>","</select>"]);function At(t,r){var o;return typeof t.getElementsByTagName!="undefined"?o=t.getElementsByTagName(r||"*"):typeof t.querySelectorAll!="undefined"?o=t.querySelectorAll(r||"*"):o=[],r===void 0||r&&wt(t,r)?f.merge([t],o):o}function hn(t,r){for(var o=0,s=t.length;o<s;o++)$.set(t[o],"globalEval",!r||$.get(r[o],"globalEval"))}var no=/<|&#?\w+;/;function rr(t,r,o,s,l){for(var c,h,v,_,E,x,w=r.createDocumentFragment(),A=[],O=0,k=t.length;O<k;O++)if(c=t[O],c||c===0)if(Ut(c)==="object")f.merge(A,c.nodeType?[c]:c);else if(!no.test(c))A.push(r.createTextNode(c));else{for(h=h||w.appendChild(r.createElement("div")),v=(er.exec(c)||["",""])[1].toLowerCase(),_=Rt[v]||Rt._default,h.innerHTML=_[1]+f.htmlPrefilter(c)+_[2],x=_[0];x--;)h=h.lastChild;f.merge(A,h.childNodes),h=w.firstChild,h.textContent=""}for(w.textContent="",O=0;c=A[O++];){if(s&&f.inArray(c,s)>-1){l&&l.push(c);continue}if(E=he(c),h=At(w.appendChild(c),"script"),E&&hn(h),o)for(x=0;c=h[x++];)nr.test(c.type||"")&&o.push(c)}return w}var ro=/^key/,io=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ir=/^([^.]*)(?:\.(.+)|)/;function ge(){return!0}function ve(){return!1}function oo(t,r){return t===ao()==(r==="focus")}function ao(){try{return B.activeElement}catch{}}function dn(t,r,o,s,l,c){var h,v;if(typeof r=="object"){typeof o!="string"&&(s=s||o,o=void 0);for(v in r)dn(t,v,o,s,r[v],c);return t}if(s==null&&l==null?(l=o,s=o=void 0):l==null&&(typeof o=="string"?(l=s,s=void 0):(l=s,s=o,o=void 0)),l===!1)l=ve;else if(!l)return t;return c===1&&(h=l,l=function(_){return f().off(_),h.apply(this,arguments)},l.guid=h.guid||(h.guid=f.guid++)),t.each(function(){f.event.add(this,r,l,s,o)})}f.event={global:{},add:function(t,r,o,s,l){var c,h,v,_,E,x,w,A,O,k,K,G=$.get(t);if(!!xe(t))for(o.handler&&(c=o,o=c.handler,l=c.selector),l&&f.find.matchesSelector(Zt,l),o.guid||(o.guid=f.guid++),(_=G.events)||(_=G.events=Object.create(null)),(h=G.handle)||(h=G.handle=function(pt){return typeof f!="undefined"&&f.event.triggered!==pt.type?f.event.dispatch.apply(t,arguments):void 0}),r=(r||"").match(Ft)||[""],E=r.length;E--;)v=ir.exec(r[E])||[],O=K=v[1],k=(v[2]||"").split(".").sort(),!!O&&(w=f.event.special[O]||{},O=(l?w.delegateType:w.bindType)||O,w=f.event.special[O]||{},x=f.extend({type:O,origType:K,data:s,handler:o,guid:o.guid,selector:l,needsContext:l&&f.expr.match.needsContext.test(l),namespace:k.join(".")},c),(A=_[O])||(A=_[O]=[],A.delegateCount=0,(!w.setup||w.setup.call(t,s,k,h)===!1)&&t.addEventListener&&t.addEventListener(O,h)),w.add&&(w.add.call(t,x),x.handler.guid||(x.handler.guid=o.guid)),l?A.splice(A.delegateCount++,0,x):A.push(x),f.event.global[O]=!0)},remove:function(t,r,o,s,l){var c,h,v,_,E,x,w,A,O,k,K,G=$.hasData(t)&&$.get(t);if(!(!G||!(_=G.events))){for(r=(r||"").match(Ft)||[""],E=r.length;E--;){if(v=ir.exec(r[E])||[],O=K=v[1],k=(v[2]||"").split(".").sort(),!O){for(O in _)f.event.remove(t,O+r[E],o,s,!0);continue}for(w=f.event.special[O]||{},O=(s?w.delegateType:w.bindType)||O,A=_[O]||[],v=v[2]&&new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"),h=c=A.length;c--;)x=A[c],(l||K===x.origType)&&(!o||o.guid===x.guid)&&(!v||v.test(x.namespace))&&(!s||s===x.selector||s==="**"&&x.selector)&&(A.splice(c,1),x.selector&&A.delegateCount--,w.remove&&w.remove.call(t,x));h&&!A.length&&((!w.teardown||w.teardown.call(t,k,G.handle)===!1)&&f.removeEvent(t,O,G.handle),delete _[O])}f.isEmptyObject(_)&&$.remove(t,"handle events")}},dispatch:function(t){var r,o,s,l,c,h,v=new Array(arguments.length),_=f.event.fix(t),E=($.get(this,"events")||Object.create(null))[_.type]||[],x=f.event.special[_.type]||{};for(v[0]=_,r=1;r<arguments.length;r++)v[r]=arguments[r];if(_.delegateTarget=this,!(x.preDispatch&&x.preDispatch.call(this,_)===!1)){for(h=f.event.handlers.call(this,_,E),r=0;(l=h[r++])&&!_.isPropagationStopped();)for(_.currentTarget=l.elem,o=0;(c=l.handlers[o++])&&!_.isImmediatePropagationStopped();)(!_.rnamespace||c.namespace===!1||_.rnamespace.test(c.namespace))&&(_.handleObj=c,_.data=c.data,s=((f.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,v),s!==void 0&&(_.result=s)===!1&&(_.preventDefault(),_.stopPropagation()));return x.postDispatch&&x.postDispatch.call(this,_),_.result}},handlers:function(t,r){var o,s,l,c,h,v=[],_=r.delegateCount,E=t.target;if(_&&E.nodeType&&!(t.type==="click"&&t.button>=1)){for(;E!==this;E=E.parentNode||this)if(E.nodeType===1&&!(t.type==="click"&&E.disabled===!0)){for(c=[],h={},o=0;o<_;o++)s=r[o],l=s.selector+" ",h[l]===void 0&&(h[l]=s.needsContext?f(l,this).index(E)>-1:f.find(l,this,null,[E]).length),h[l]&&c.push(s);c.length&&v.push({elem:E,handlers:c})}}return E=this,_<r.length&&v.push({elem:E,handlers:r.slice(_)}),v},addProp:function(t,r){Object.defineProperty(f.Event.prototype,t,{enumerable:!0,configurable:!0,get:P(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(o){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(t){return t[f.expando]?t:new f.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var r=this||t;return be.test(r.type)&&r.click&&wt(r,"input")&&Ge(r,"click",ge),!1},trigger:function(t){var r=this||t;return be.test(r.type)&&r.click&&wt(r,"input")&&Ge(r,"click"),!0},_default:function(t){var r=t.target;return be.test(r.type)&&r.click&&wt(r,"input")&&$.get(r,"click")||wt(r,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}};function Ge(t,r,o){if(!o){$.get(t,r)===void 0&&f.event.add(t,r,ge);return}$.set(t,r,!1),f.event.add(t,r,{namespace:!1,handler:function(s){var l,c,h=$.get(this,r);if(s.isTrigger&1&&this[r]){if(h.length)(f.event.special[r]||{}).delegateType&&s.stopPropagation();else if(h=u.call(arguments),$.set(this,r,h),l=o(this,r),this[r](),c=$.get(this,r),h!==c||l?$.set(this,r,!1):c={},h!==c)return s.stopImmediatePropagation(),s.preventDefault(),c.value}else h.length&&($.set(this,r,{value:f.event.trigger(f.extend(h[0],f.Event.prototype),h.slice(1),this)}),s.stopImmediatePropagation())}})}f.removeEvent=function(t,r,o){t.removeEventListener&&t.removeEventListener(r,o)},f.Event=function(t,r){if(!(this instanceof f.Event))return new f.Event(t,r);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?ge:ve,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,r&&f.extend(this,r),this.timeStamp=t&&t.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:ve,isPropagationStopped:ve,isImmediatePropagationStopped:ve,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ge,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ge,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ge,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var r=t.button;return t.which==null&&ro.test(t.type)?t.charCode!=null?t.charCode:t.keyCode:!t.which&&r!==void 0&&io.test(t.type)?r&1?1:r&2?3:r&4?2:0:t.which}},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(t,r){f.event.special[t]={setup:function(){return Ge(this,t,oo),!1},trigger:function(){return Ge(this,t),!0},delegateType:r}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){f.event.special[t]={delegateType:r,bindType:r,handle:function(o){var s,l=this,c=o.relatedTarget,h=o.handleObj;return(!c||c!==l&&!f.contains(l,c))&&(o.type=h.origType,s=h.handler.apply(this,arguments),o.type=r),s}}}),f.fn.extend({on:function(t,r,o,s){return dn(this,t,r,o,s)},one:function(t,r,o,s){return dn(this,t,r,o,s,1)},off:function(t,r,o){var s,l;if(t&&t.preventDefault&&t.handleObj)return s=t.handleObj,f(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if(typeof t=="object"){for(l in t)this.off(l,r,t[l]);return this}return(r===!1||typeof r=="function")&&(o=r,r=void 0),o===!1&&(o=ve),this.each(function(){f.event.remove(this,t,o,r)})}});var so=/<script|<style|<link/i,uo=/checked\s*(?:[^=]|=\s*.checked.)/i,fo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function or(t,r){return wt(t,"table")&&wt(r.nodeType!==11?r:r.firstChild,"tr")&&f(t).children("tbody")[0]||t}function lo(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function co(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function ar(t,r){var o,s,l,c,h,v,_;if(r.nodeType===1){if($.hasData(t)&&(c=$.get(t),_=c.events,_)){$.remove(r,"handle events");for(l in _)for(o=0,s=_[l].length;o<s;o++)f.event.add(r,l,_[l][o])}Ct.hasData(t)&&(h=Ct.access(t),v=f.extend({},h),Ct.set(r,v))}}function po(t,r){var o=r.nodeName.toLowerCase();o==="input"&&be.test(t.type)?r.checked=t.checked:(o==="input"||o==="textarea")&&(r.defaultValue=t.defaultValue)}function ye(t,r,o,s){r=p(r);var l,c,h,v,_,E,x=0,w=t.length,A=w-1,O=r[0],k=P(O);if(k||w>1&&typeof O=="string"&&!U.checkClone&&uo.test(O))return t.each(function(K){var G=t.eq(K);k&&(r[0]=O.call(this,K,G.html())),ye(G,r,o,s)});if(w&&(l=rr(r,t[0].ownerDocument,!1,t,s),c=l.firstChild,l.childNodes.length===1&&(l=c),c||s)){for(h=f.map(At(l,"script"),lo),v=h.length;x<w;x++)_=l,x!==A&&(_=f.clone(_,!0,!0),v&&f.merge(h,At(_,"script"))),o.call(t[x],_,x);if(v)for(E=h[h.length-1].ownerDocument,f.map(h,co),x=0;x<v;x++)_=h[x],nr.test(_.type||"")&&!$.access(_,"globalEval")&&f.contains(E,_)&&(_.src&&(_.type||"").toLowerCase()!=="module"?f._evalUrl&&!_.noModule&&f._evalUrl(_.src,{nonce:_.nonce||_.getAttribute("nonce")},E):Tt(_.textContent.replace(fo,""),_,E))}return t}function sr(t,r,o){for(var s,l=r?f.filter(r,t):t,c=0;(s=l[c])!=null;c++)!o&&s.nodeType===1&&f.cleanData(At(s)),s.parentNode&&(o&&he(s)&&hn(At(s,"script")),s.parentNode.removeChild(s));return t}f.extend({htmlPrefilter:function(t){return t},clone:function(t,r,o){var s,l,c,h,v=t.cloneNode(!0),_=he(t);if(!U.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!f.isXMLDoc(t))for(h=At(v),c=At(t),s=0,l=c.length;s<l;s++)po(c[s],h[s]);if(r)if(o)for(c=c||At(t),h=h||At(v),s=0,l=c.length;s<l;s++)ar(c[s],h[s]);else ar(t,v);return h=At(v,"script"),h.length>0&&hn(h,!_&&At(t,"script")),v},cleanData:function(t){for(var r,o,s,l=f.event.special,c=0;(o=t[c])!==void 0;c++)if(xe(o)){if(r=o[$.expando]){if(r.events)for(s in r.events)l[s]?f.event.remove(o,s):f.removeEvent(o,s,r.handle);o[$.expando]=void 0}o[Ct.expando]&&(o[Ct.expando]=void 0)}}}),f.fn.extend({detach:function(t){return sr(this,t,!0)},remove:function(t){return sr(this,t)},text:function(t){return Gt(this,function(r){return r===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=r)})},null,t,arguments.length)},append:function(){return ye(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=or(this,t);r.appendChild(t)}})},prepend:function(){return ye(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=or(this,t);r.insertBefore(t,r.firstChild)}})},before:function(){return ye(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return ye(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,r=0;(t=this[r])!=null;r++)t.nodeType===1&&(f.cleanData(At(t,!1)),t.textContent="");return this},clone:function(t,r){return t=t??!1,r=r??t,this.map(function(){return f.clone(this,t,r)})},html:function(t){return Gt(this,function(r){var o=this[0]||{},s=0,l=this.length;if(r===void 0&&o.nodeType===1)return o.innerHTML;if(typeof r=="string"&&!so.test(r)&&!Rt[(er.exec(r)||["",""])[1].toLowerCase()]){r=f.htmlPrefilter(r);try{for(;s<l;s++)o=this[s]||{},o.nodeType===1&&(f.cleanData(At(o,!1)),o.innerHTML=r);o=0}catch{}}o&&this.empty().append(r)},null,t,arguments.length)},replaceWith:function(){var t=[];return ye(this,arguments,function(r){var o=this.parentNode;f.inArray(this,t)<0&&(f.cleanData(At(this)),o&&o.replaceChild(r,this))},t)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){f.fn[t]=function(o){for(var s,l=[],c=f(o),h=c.length-1,v=0;v<=h;v++)s=v===h?this:this.clone(!0),f(c[v])[r](s),y.apply(l,s.get());return this.pushStack(l)}});var gn=new RegExp("^("+Jn+")(?!px)[a-z%]+$","i"),Be=function(t){var r=t.ownerDocument.defaultView;return(!r||!r.opener)&&(r=i),r.getComputedStyle(t)},ur=function(t,r,o){var s,l,c={};for(l in r)c[l]=t.style[l],t.style[l]=r[l];s=o.call(t);for(l in r)t.style[l]=c[l];return s},ho=new RegExp(Bt.join("|"),"i");(function(){function t(){if(!!E){_.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",E.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Zt.appendChild(_).appendChild(E);var x=i.getComputedStyle(E);o=x.top!=="1%",v=r(x.marginLeft)===12,E.style.right="60%",c=r(x.right)===36,s=r(x.width)===36,E.style.position="absolute",l=r(E.offsetWidth/3)===12,Zt.removeChild(_),E=null}}function r(x){return Math.round(parseFloat(x))}var o,s,l,c,h,v,_=B.createElement("div"),E=B.createElement("div");!E.style||(E.style.backgroundClip="content-box",E.cloneNode(!0).style.backgroundClip="",U.clearCloneStyle=E.style.backgroundClip==="content-box",f.extend(U,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),c},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),v},scrollboxSize:function(){return t(),l},reliableTrDimensions:function(){var x,w,A,O;return h==null&&(x=B.createElement("table"),w=B.createElement("tr"),A=B.createElement("div"),x.style.cssText="position:absolute;left:-11111px",w.style.height="1px",A.style.height="9px",Zt.appendChild(x).appendChild(w).appendChild(A),O=i.getComputedStyle(w),h=parseInt(O.height)>3,Zt.removeChild(x)),h}}))})();function Se(t,r,o){var s,l,c,h,v=t.style;return o=o||Be(t),o&&(h=o.getPropertyValue(r)||o[r],h===""&&!he(t)&&(h=f.style(t,r)),!U.pixelBoxStyles()&&gn.test(h)&&ho.test(r)&&(s=v.width,l=v.minWidth,c=v.maxWidth,v.minWidth=v.maxWidth=v.width=h,h=o.width,v.width=s,v.minWidth=l,v.maxWidth=c)),h!==void 0?h+"":h}function fr(t,r){return{get:function(){if(t()){delete this.get;return}return(this.get=r).apply(this,arguments)}}}var lr=["Webkit","Moz","ms"],cr=B.createElement("div").style,pr={};function go(t){for(var r=t[0].toUpperCase()+t.slice(1),o=lr.length;o--;)if(t=lr[o]+r,t in cr)return t}function vn(t){var r=f.cssProps[t]||pr[t];return r||(t in cr?t:pr[t]=go(t)||t)}var vo=/^(none|table(?!-c[ea]).+)/,hr=/^--/,yo={position:"absolute",visibility:"hidden",display:"block"},dr={letterSpacing:"0",fontWeight:"400"};function gr(t,r,o){var s=Oe.exec(r);return s?Math.max(0,s[2]-(o||0))+(s[3]||"px"):r}function yn(t,r,o,s,l,c){var h=r==="width"?1:0,v=0,_=0;if(o===(s?"border":"content"))return 0;for(;h<4;h+=2)o==="margin"&&(_+=f.css(t,o+Bt[h],!0,l)),s?(o==="content"&&(_-=f.css(t,"padding"+Bt[h],!0,l)),o!=="margin"&&(_-=f.css(t,"border"+Bt[h]+"Width",!0,l))):(_+=f.css(t,"padding"+Bt[h],!0,l),o!=="padding"?_+=f.css(t,"border"+Bt[h]+"Width",!0,l):v+=f.css(t,"border"+Bt[h]+"Width",!0,l));return!s&&c>=0&&(_+=Math.max(0,Math.ceil(t["offset"+r[0].toUpperCase()+r.slice(1)]-c-_-v-.5))||0),_}function vr(t,r,o){var s=Be(t),l=!U.boxSizingReliable()||o,c=l&&f.css(t,"boxSizing",!1,s)==="border-box",h=c,v=Se(t,r,s),_="offset"+r[0].toUpperCase()+r.slice(1);if(gn.test(v)){if(!o)return v;v="auto"}return(!U.boxSizingReliable()&&c||!U.reliableTrDimensions()&&wt(t,"tr")||v==="auto"||!parseFloat(v)&&f.css(t,"display",!1,s)==="inline")&&t.getClientRects().length&&(c=f.css(t,"boxSizing",!1,s)==="border-box",h=_ in t,h&&(v=t[_])),v=parseFloat(v)||0,v+yn(t,r,o||(c?"border":"content"),h,s,v)+"px"}f.extend({cssHooks:{opacity:{get:function(t,r){if(r){var o=Se(t,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,r,o,s){if(!(!t||t.nodeType===3||t.nodeType===8||!t.style)){var l,c,h,v=qt(r),_=hr.test(r),E=t.style;if(_||(r=vn(v)),h=f.cssHooks[r]||f.cssHooks[v],o!==void 0){if(c=typeof o,c==="string"&&(l=Oe.exec(o))&&l[1]&&(o=Zn(t,r,l),c="number"),o==null||o!==o)return;c==="number"&&!_&&(o+=l&&l[3]||(f.cssNumber[v]?"":"px")),!U.clearCloneStyle&&o===""&&r.indexOf("background")===0&&(E[r]="inherit"),(!h||!("set"in h)||(o=h.set(t,o,s))!==void 0)&&(_?E.setProperty(r,o):E[r]=o)}else return h&&"get"in h&&(l=h.get(t,!1,s))!==void 0?l:E[r]}},css:function(t,r,o,s){var l,c,h,v=qt(r),_=hr.test(r);return _||(r=vn(v)),h=f.cssHooks[r]||f.cssHooks[v],h&&"get"in h&&(l=h.get(t,!0,o)),l===void 0&&(l=Se(t,r,s)),l==="normal"&&r in dr&&(l=dr[r]),o===""||o?(c=parseFloat(l),o===!0||isFinite(c)?c||0:l):l}}),f.each(["height","width"],function(t,r){f.cssHooks[r]={get:function(o,s,l){if(s)return vo.test(f.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?ur(o,yo,function(){return vr(o,r,l)}):vr(o,r,l)},set:function(o,s,l){var c,h=Be(o),v=!U.scrollboxSize()&&h.position==="absolute",_=v||l,E=_&&f.css(o,"boxSizing",!1,h)==="border-box",x=l?yn(o,r,l,E,h):0;return E&&v&&(x-=Math.ceil(o["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(h[r])-yn(o,r,"border",!1,h)-.5)),x&&(c=Oe.exec(s))&&(c[3]||"px")!=="px"&&(o.style[r]=s,s=f.css(o,r)),gr(o,s,x)}}}),f.cssHooks.marginLeft=fr(U.reliableMarginLeft,function(t,r){if(r)return(parseFloat(Se(t,"marginLeft"))||t.getBoundingClientRect().left-ur(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(t,r){f.cssHooks[t+r]={expand:function(o){for(var s=0,l={},c=typeof o=="string"?o.split(" "):[o];s<4;s++)l[t+Bt[s]+r]=c[s]||c[s-2]||c[0];return l}},t!=="margin"&&(f.cssHooks[t+r].set=gr)}),f.fn.extend({css:function(t,r){return Gt(this,function(o,s,l){var c,h,v={},_=0;if(Array.isArray(s)){for(c=Be(o),h=s.length;_<h;_++)v[s[_]]=f.css(o,s[_],!1,c);return v}return l!==void 0?f.style(o,s,l):f.css(o,s)},t,r,arguments.length>1)}});function xt(t,r,o,s,l){return new xt.prototype.init(t,r,o,s,l)}f.Tween=xt,xt.prototype={constructor:xt,init:function(t,r,o,s,l,c){this.elem=t,this.prop=o,this.easing=l||f.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=s,this.unit=c||(f.cssNumber[o]?"":"px")},cur:function(){var t=xt.propHooks[this.prop];return t&&t.get?t.get(this):xt.propHooks._default.get(this)},run:function(t){var r,o=xt.propHooks[this.prop];return this.options.duration?this.pos=r=f.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=r=t,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):xt.propHooks._default.set(this),this}},xt.prototype.init.prototype=xt.prototype,xt.propHooks={_default:{get:function(t){var r;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(r=f.css(t.elem,t.prop,""),!r||r==="auto"?0:r)},set:function(t){f.fx.step[t.prop]?f.fx.step[t.prop](t):t.elem.nodeType===1&&(f.cssHooks[t.prop]||t.elem.style[vn(t.prop)]!=null)?f.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},xt.propHooks.scrollTop=xt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},f.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},f.fx=xt.prototype.init,f.fx.step={};var _e,We,_o=/^(?:toggle|show|hide)$/,mo=/queueHooks$/;function _n(){We&&(B.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(_n):i.setTimeout(_n,f.fx.interval),f.fx.tick())}function yr(){return i.setTimeout(function(){_e=void 0}),_e=Date.now()}function ze(t,r){var o,s=0,l={height:t};for(r=r?1:0;s<4;s+=2-r)o=Bt[s],l["margin"+o]=l["padding"+o]=t;return r&&(l.opacity=l.width=t),l}function _r(t,r,o){for(var s,l=(jt.tweeners[r]||[]).concat(jt.tweeners["*"]),c=0,h=l.length;c<h;c++)if(s=l[c].call(o,r,t))return s}function Eo(t,r,o){var s,l,c,h,v,_,E,x,w="width"in r||"height"in r,A=this,O={},k=t.style,K=t.nodeType&&ke(t),G=$.get(t,"fxshow");o.queue||(h=f._queueHooks(t,"fx"),h.unqueued==null&&(h.unqueued=0,v=h.empty.fire,h.empty.fire=function(){h.unqueued||v()}),h.unqueued++,A.always(function(){A.always(function(){h.unqueued--,f.queue(t,"fx").length||h.empty.fire()})}));for(s in r)if(l=r[s],_o.test(l)){if(delete r[s],c=c||l==="toggle",l===(K?"hide":"show"))if(l==="show"&&G&&G[s]!==void 0)K=!0;else continue;O[s]=G&&G[s]||f.style(t,s)}if(_=!f.isEmptyObject(r),!(!_&&f.isEmptyObject(O))){w&&t.nodeType===1&&(o.overflow=[k.overflow,k.overflowX,k.overflowY],E=G&&G.display,E==null&&(E=$.get(t,"display")),x=f.css(t,"display"),x==="none"&&(E?x=E:(de([t],!0),E=t.style.display||E,x=f.css(t,"display"),de([t]))),(x==="inline"||x==="inline-block"&&E!=null)&&f.css(t,"float")==="none"&&(_||(A.done(function(){k.display=E}),E==null&&(x=k.display,E=x==="none"?"":x)),k.display="inline-block")),o.overflow&&(k.overflow="hidden",A.always(function(){k.overflow=o.overflow[0],k.overflowX=o.overflow[1],k.overflowY=o.overflow[2]})),_=!1;for(s in O)_||(G?"hidden"in G&&(K=G.hidden):G=$.access(t,"fxshow",{display:E}),c&&(G.hidden=!K),K&&de([t],!0),A.done(function(){K||de([t]),$.remove(t,"fxshow");for(s in O)f.style(t,s,O[s])})),_=_r(K?G[s]:0,s,A),s in G||(G[s]=_.start,K&&(_.end=_.start,_.start=0))}}function To(t,r){var o,s,l,c,h;for(o in t)if(s=qt(o),l=r[s],c=t[o],Array.isArray(c)&&(l=c[1],c=t[o]=c[0]),o!==s&&(t[s]=c,delete t[o]),h=f.cssHooks[s],h&&"expand"in h){c=h.expand(c),delete t[s];for(o in c)o in t||(t[o]=c[o],r[o]=l)}else r[s]=l}function jt(t,r,o){var s,l,c=0,h=jt.prefilters.length,v=f.Deferred().always(function(){delete _.elem}),_=function(){if(l)return!1;for(var w=_e||yr(),A=Math.max(0,E.startTime+E.duration-w),O=A/E.duration||0,k=1-O,K=0,G=E.tweens.length;K<G;K++)E.tweens[K].run(k);return v.notifyWith(t,[E,k,A]),k<1&&G?A:(G||v.notifyWith(t,[E,1,0]),v.resolveWith(t,[E]),!1)},E=v.promise({elem:t,props:f.extend({},r),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},o),originalProperties:r,originalOptions:o,startTime:_e||yr(),duration:o.duration,tweens:[],createTween:function(w,A){var O=f.Tween(t,E.opts,w,A,E.opts.specialEasing[w]||E.opts.easing);return E.tweens.push(O),O},stop:function(w){var A=0,O=w?E.tweens.length:0;if(l)return this;for(l=!0;A<O;A++)E.tweens[A].run(1);return w?(v.notifyWith(t,[E,1,0]),v.resolveWith(t,[E,w])):v.rejectWith(t,[E,w]),this}}),x=E.props;for(To(x,E.opts.specialEasing);c<h;c++)if(s=jt.prefilters[c].call(E,t,x,E.opts),s)return P(s.stop)&&(f._queueHooks(E.elem,E.opts.queue).stop=s.stop.bind(s)),s;return f.map(x,_r,E),P(E.opts.start)&&E.opts.start.call(t,E),E.progress(E.opts.progress).done(E.opts.done,E.opts.complete).fail(E.opts.fail).always(E.opts.always),f.fx.timer(f.extend(_,{elem:t,anim:E,queue:E.opts.queue})),E}f.Animation=f.extend(jt,{tweeners:{"*":[function(t,r){var o=this.createTween(t,r);return Zn(o.elem,t,Oe.exec(r),o),o}]},tweener:function(t,r){P(t)?(r=t,t=["*"]):t=t.match(Ft);for(var o,s=0,l=t.length;s<l;s++)o=t[s],jt.tweeners[o]=jt.tweeners[o]||[],jt.tweeners[o].unshift(r)},prefilters:[Eo],prefilter:function(t,r){r?jt.prefilters.unshift(t):jt.prefilters.push(t)}}),f.speed=function(t,r,o){var s=t&&typeof t=="object"?f.extend({},t):{complete:o||!o&&r||P(t)&&t,duration:t,easing:o&&r||r&&!P(r)&&r};return f.fx.off?s.duration=0:typeof s.duration!="number"&&(s.duration in f.fx.speeds?s.duration=f.fx.speeds[s.duration]:s.duration=f.fx.speeds._default),(s.queue==null||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){P(s.old)&&s.old.call(this),s.queue&&f.dequeue(this,s.queue)},s},f.fn.extend({fadeTo:function(t,r,o,s){return this.filter(ke).css("opacity",0).show().end().animate({opacity:r},t,o,s)},animate:function(t,r,o,s){var l=f.isEmptyObject(t),c=f.speed(r,o,s),h=function(){var v=jt(this,f.extend({},t),c);(l||$.get(this,"finish"))&&v.stop(!0)};return h.finish=h,l||c.queue===!1?this.each(h):this.queue(c.queue,h)},stop:function(t,r,o){var s=function(l){var c=l.stop;delete l.stop,c(o)};return typeof t!="string"&&(o=r,r=t,t=void 0),r&&this.queue(t||"fx",[]),this.each(function(){var l=!0,c=t!=null&&t+"queueHooks",h=f.timers,v=$.get(this);if(c)v[c]&&v[c].stop&&s(v[c]);else for(c in v)v[c]&&v[c].stop&&mo.test(c)&&s(v[c]);for(c=h.length;c--;)h[c].elem===this&&(t==null||h[c].queue===t)&&(h[c].anim.stop(o),l=!1,h.splice(c,1));(l||!o)&&f.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var r,o=$.get(this),s=o[t+"queue"],l=o[t+"queueHooks"],c=f.timers,h=s?s.length:0;for(o.finish=!0,f.queue(this,t,[]),l&&l.stop&&l.stop.call(this,!0),r=c.length;r--;)c[r].elem===this&&c[r].queue===t&&(c[r].anim.stop(!0),c.splice(r,1));for(r=0;r<h;r++)s[r]&&s[r].finish&&s[r].finish.call(this);delete o.finish})}}),f.each(["toggle","show","hide"],function(t,r){var o=f.fn[r];f.fn[r]=function(s,l,c){return s==null||typeof s=="boolean"?o.apply(this,arguments):this.animate(ze(r,!0),s,l,c)}}),f.each({slideDown:ze("show"),slideUp:ze("hide"),slideToggle:ze("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){f.fn[t]=function(o,s,l){return this.animate(r,o,s,l)}}),f.timers=[],f.fx.tick=function(){var t,r=0,o=f.timers;for(_e=Date.now();r<o.length;r++)t=o[r],!t()&&o[r]===t&&o.splice(r--,1);o.length||f.fx.stop(),_e=void 0},f.fx.timer=function(t){f.timers.push(t),f.fx.start()},f.fx.interval=13,f.fx.start=function(){We||(We=!0,_n())},f.fx.stop=function(){We=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(t,r){return t=f.fx&&f.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(o,s){var l=i.setTimeout(o,t);s.stop=function(){i.clearTimeout(l)}})},function(){var t=B.createElement("input"),r=B.createElement("select"),o=r.appendChild(B.createElement("option"));t.type="checkbox",U.checkOn=t.value!=="",U.optSelected=o.selected,t=B.createElement("input"),t.value="t",t.type="radio",U.radioValue=t.value==="t"}();var mr,Le=f.expr.attrHandle;f.fn.extend({attr:function(t,r){return Gt(this,f.attr,t,r,arguments.length>1)},removeAttr:function(t){return this.each(function(){f.removeAttr(this,t)})}}),f.extend({attr:function(t,r,o){var s,l,c=t.nodeType;if(!(c===3||c===8||c===2)){if(typeof t.getAttribute=="undefined")return f.prop(t,r,o);if((c!==1||!f.isXMLDoc(t))&&(l=f.attrHooks[r.toLowerCase()]||(f.expr.match.bool.test(r)?mr:void 0)),o!==void 0){if(o===null){f.removeAttr(t,r);return}return l&&"set"in l&&(s=l.set(t,o,r))!==void 0?s:(t.setAttribute(r,o+""),o)}return l&&"get"in l&&(s=l.get(t,r))!==null?s:(s=f.find.attr(t,r),s??void 0)}},attrHooks:{type:{set:function(t,r){if(!U.radioValue&&r==="radio"&&wt(t,"input")){var o=t.value;return t.setAttribute("type",r),o&&(t.value=o),r}}}},removeAttr:function(t,r){var o,s=0,l=r&&r.match(Ft);if(l&&t.nodeType===1)for(;o=l[s++];)t.removeAttribute(o)}}),mr={set:function(t,r,o){return r===!1?f.removeAttr(t,o):t.setAttribute(o,o),o}},f.each(f.expr.match.bool.source.match(/\w+/g),function(t,r){var o=Le[r]||f.find.attr;Le[r]=function(s,l,c){var h,v,_=l.toLowerCase();return c||(v=Le[_],Le[_]=h,h=o(s,l,c)!=null?_:null,Le[_]=v),h}});var Co=/^(?:input|select|textarea|button)$/i,Ao=/^(?:a|area)$/i;f.fn.extend({prop:function(t,r){return Gt(this,f.prop,t,r,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[f.propFix[t]||t]})}}),f.extend({prop:function(t,r,o){var s,l,c=t.nodeType;if(!(c===3||c===8||c===2))return(c!==1||!f.isXMLDoc(t))&&(r=f.propFix[r]||r,l=f.propHooks[r]),o!==void 0?l&&"set"in l&&(s=l.set(t,o,r))!==void 0?s:t[r]=o:l&&"get"in l&&(s=l.get(t,r))!==null?s:t[r]},propHooks:{tabIndex:{get:function(t){var r=f.find.attr(t,"tabindex");return r?parseInt(r,10):Co.test(t.nodeName)||Ao.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),U.optSelected||(f.propHooks.selected={get:function(t){var r=t.parentNode;return r&&r.parentNode&&r.parentNode.selectedIndex,null},set:function(t){var r=t.parentNode;r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function te(t){var r=t.match(Ft)||[];return r.join(" ")}function ee(t){return t.getAttribute&&t.getAttribute("class")||""}function mn(t){return Array.isArray(t)?t:typeof t=="string"?t.match(Ft)||[]:[]}f.fn.extend({addClass:function(t){var r,o,s,l,c,h,v,_=0;if(P(t))return this.each(function(E){f(this).addClass(t.call(this,E,ee(this)))});if(r=mn(t),r.length){for(;o=this[_++];)if(l=ee(o),s=o.nodeType===1&&" "+te(l)+" ",s){for(h=0;c=r[h++];)s.indexOf(" "+c+" ")<0&&(s+=c+" ");v=te(s),l!==v&&o.setAttribute("class",v)}}return this},removeClass:function(t){var r,o,s,l,c,h,v,_=0;if(P(t))return this.each(function(E){f(this).removeClass(t.call(this,E,ee(this)))});if(!arguments.length)return this.attr("class","");if(r=mn(t),r.length){for(;o=this[_++];)if(l=ee(o),s=o.nodeType===1&&" "+te(l)+" ",s){for(h=0;c=r[h++];)for(;s.indexOf(" "+c+" ")>-1;)s=s.replace(" "+c+" "," ");v=te(s),l!==v&&o.setAttribute("class",v)}}return this},toggleClass:function(t,r){var o=typeof t,s=o==="string"||Array.isArray(t);return typeof r=="boolean"&&s?r?this.addClass(t):this.removeClass(t):P(t)?this.each(function(l){f(this).toggleClass(t.call(this,l,ee(this),r),r)}):this.each(function(){var l,c,h,v;if(s)for(c=0,h=f(this),v=mn(t);l=v[c++];)h.hasClass(l)?h.removeClass(l):h.addClass(l);else(t===void 0||o==="boolean")&&(l=ee(this),l&&$.set(this,"__className__",l),this.setAttribute&&this.setAttribute("class",l||t===!1?"":$.get(this,"__className__")||""))})},hasClass:function(t){var r,o,s=0;for(r=" "+t+" ";o=this[s++];)if(o.nodeType===1&&(" "+te(ee(o))+" ").indexOf(r)>-1)return!0;return!1}});var xo=/\r/g;f.fn.extend({val:function(t){var r,o,s,l=this[0];return arguments.length?(s=P(t),this.each(function(c){var h;this.nodeType===1&&(s?h=t.call(this,c,f(this).val()):h=t,h==null?h="":typeof h=="number"?h+="":Array.isArray(h)&&(h=f.map(h,function(v){return v==null?"":v+""})),r=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!r||!("set"in r)||r.set(this,h,"value")===void 0)&&(this.value=h))})):l?(r=f.valHooks[l.type]||f.valHooks[l.nodeName.toLowerCase()],r&&"get"in r&&(o=r.get(l,"value"))!==void 0?o:(o=l.value,typeof o=="string"?o.replace(xo,""):o??"")):void 0}}),f.extend({valHooks:{option:{get:function(t){var r=f.find.attr(t,"value");return r??te(f.text(t))}},select:{get:function(t){var r,o,s,l=t.options,c=t.selectedIndex,h=t.type==="select-one",v=h?null:[],_=h?c+1:l.length;for(c<0?s=_:s=h?c:0;s<_;s++)if(o=l[s],(o.selected||s===c)&&!o.disabled&&(!o.parentNode.disabled||!wt(o.parentNode,"optgroup"))){if(r=f(o).val(),h)return r;v.push(r)}return v},set:function(t,r){for(var o,s,l=t.options,c=f.makeArray(r),h=l.length;h--;)s=l[h],(s.selected=f.inArray(f.valHooks.option.get(s),c)>-1)&&(o=!0);return o||(t.selectedIndex=-1),c}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(t,r){if(Array.isArray(r))return t.checked=f.inArray(f(t).val(),r)>-1}},U.checkOn||(f.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})}),U.focusin="onfocusin"in i;var Er=/^(?:focusinfocus|focusoutblur)$/,Tr=function(t){t.stopPropagation()};f.extend(f.event,{trigger:function(t,r,o,s){var l,c,h,v,_,E,x,w,A=[o||B],O=R.call(t,"type")?t.type:t,k=R.call(t,"namespace")?t.namespace.split("."):[];if(c=w=h=o=o||B,!(o.nodeType===3||o.nodeType===8)&&!Er.test(O+f.event.triggered)&&(O.indexOf(".")>-1&&(k=O.split("."),O=k.shift(),k.sort()),_=O.indexOf(":")<0&&"on"+O,t=t[f.expando]?t:new f.Event(O,typeof t=="object"&&t),t.isTrigger=s?2:3,t.namespace=k.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),r=r==null?[t]:f.makeArray(r,[t]),x=f.event.special[O]||{},!(!s&&x.trigger&&x.trigger.apply(o,r)===!1))){if(!s&&!x.noBubble&&!tt(o)){for(v=x.delegateType||O,Er.test(v+O)||(c=c.parentNode);c;c=c.parentNode)A.push(c),h=c;h===(o.ownerDocument||B)&&A.push(h.defaultView||h.parentWindow||i)}for(l=0;(c=A[l++])&&!t.isPropagationStopped();)w=c,t.type=l>1?v:x.bindType||O,E=($.get(c,"events")||Object.create(null))[t.type]&&$.get(c,"handle"),E&&E.apply(c,r),E=_&&c[_],E&&E.apply&&xe(c)&&(t.result=E.apply(c,r),t.result===!1&&t.preventDefault());return t.type=O,!s&&!t.isDefaultPrevented()&&(!x._default||x._default.apply(A.pop(),r)===!1)&&xe(o)&&_&&P(o[O])&&!tt(o)&&(h=o[_],h&&(o[_]=null),f.event.triggered=O,t.isPropagationStopped()&&w.addEventListener(O,Tr),o[O](),t.isPropagationStopped()&&w.removeEventListener(O,Tr),f.event.triggered=void 0,h&&(o[_]=h)),t.result}},simulate:function(t,r,o){var s=f.extend(new f.Event,o,{type:t,isSimulated:!0});f.event.trigger(s,null,r)}}),f.fn.extend({trigger:function(t,r){return this.each(function(){f.event.trigger(t,r,this)})},triggerHandler:function(t,r){var o=this[0];if(o)return f.event.trigger(t,r,o,!0)}}),U.focusin||f.each({focus:"focusin",blur:"focusout"},function(t,r){var o=function(s){f.event.simulate(r,s.target,f.event.fix(s))};f.event.special[r]={setup:function(){var s=this.ownerDocument||this.document||this,l=$.access(s,r);l||s.addEventListener(t,o,!0),$.access(s,r,(l||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,l=$.access(s,r)-1;l?$.access(s,r,l):(s.removeEventListener(t,o,!0),$.remove(s,r))}}});var Ne=i.location,Cr={guid:Date.now()},En=/\?/;f.parseXML=function(t){var r;if(!t||typeof t!="string")return null;try{r=new i.DOMParser().parseFromString(t,"text/xml")}catch{r=void 0}return(!r||r.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+t),r};var Io=/\[\]$/,Ar=/\r?\n/g,Oo=/^(?:submit|button|image|reset|file)$/i,bo=/^(?:input|select|textarea|keygen)/i;function Tn(t,r,o,s){var l;if(Array.isArray(r))f.each(r,function(c,h){o||Io.test(t)?s(t,h):Tn(t+"["+(typeof h=="object"&&h!=null?c:"")+"]",h,o,s)});else if(!o&&Ut(r)==="object")for(l in r)Tn(t+"["+l+"]",r[l],o,s);else s(t,r)}f.param=function(t,r){var o,s=[],l=function(c,h){var v=P(h)?h():h;s[s.length]=encodeURIComponent(c)+"="+encodeURIComponent(v??"")};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!f.isPlainObject(t))f.each(t,function(){l(this.name,this.value)});else for(o in t)Tn(o,t[o],r,l);return s.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=f.prop(this,"elements");return t?f.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!f(this).is(":disabled")&&bo.test(this.nodeName)&&!Oo.test(t)&&(this.checked||!be.test(t))}).map(function(t,r){var o=f(this).val();return o==null?null:Array.isArray(o)?f.map(o,function(s){return{name:r.name,value:s.replace(Ar,`\r
`)}}):{name:r.name,value:o.replace(Ar,`\r
`)}}).get()}});var So=/%20/g,Lo=/#.*$/,No=/([?&])_=[^&]*/,wo=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ro=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Do=/^(?:GET|HEAD)$/,Mo=/^\/\//,xr={},Cn={},Ir="*/".concat("*"),An=B.createElement("a");An.href=Ne.href;function Or(t){return function(r,o){typeof r!="string"&&(o=r,r="*");var s,l=0,c=r.toLowerCase().match(Ft)||[];if(P(o))for(;s=c[l++];)s[0]==="+"?(s=s.slice(1)||"*",(t[s]=t[s]||[]).unshift(o)):(t[s]=t[s]||[]).push(o)}}function br(t,r,o,s){var l={},c=t===Cn;function h(v){var _;return l[v]=!0,f.each(t[v]||[],function(E,x){var w=x(r,o,s);if(typeof w=="string"&&!c&&!l[w])return r.dataTypes.unshift(w),h(w),!1;if(c)return!(_=w)}),_}return h(r.dataTypes[0])||!l["*"]&&h("*")}function xn(t,r){var o,s,l=f.ajaxSettings.flatOptions||{};for(o in r)r[o]!==void 0&&((l[o]?t:s||(s={}))[o]=r[o]);return s&&f.extend(!0,t,s),t}function Po(t,r,o){for(var s,l,c,h,v=t.contents,_=t.dataTypes;_[0]==="*";)_.shift(),s===void 0&&(s=t.mimeType||r.getResponseHeader("Content-Type"));if(s){for(l in v)if(v[l]&&v[l].test(s)){_.unshift(l);break}}if(_[0]in o)c=_[0];else{for(l in o){if(!_[0]||t.converters[l+" "+_[0]]){c=l;break}h||(h=l)}c=c||h}if(c)return c!==_[0]&&_.unshift(c),o[c]}function Uo(t,r,o,s){var l,c,h,v,_,E={},x=t.dataTypes.slice();if(x[1])for(h in t.converters)E[h.toLowerCase()]=t.converters[h];for(c=x.shift();c;)if(t.responseFields[c]&&(o[t.responseFields[c]]=r),!_&&s&&t.dataFilter&&(r=t.dataFilter(r,t.dataType)),_=c,c=x.shift(),c){if(c==="*")c=_;else if(_!=="*"&&_!==c){if(h=E[_+" "+c]||E["* "+c],!h){for(l in E)if(v=l.split(" "),v[1]===c&&(h=E[_+" "+v[0]]||E["* "+v[0]],h)){h===!0?h=E[l]:E[l]!==!0&&(c=v[0],x.unshift(v[1]));break}}if(h!==!0)if(h&&t.throws)r=h(r);else try{r=h(r)}catch(w){return{state:"parsererror",error:h?w:"No conversion from "+_+" to "+c}}}}return{state:"success",data:r}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne.href,type:"GET",isLocal:Ro.test(Ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ir,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,r){return r?xn(xn(t,f.ajaxSettings),r):xn(f.ajaxSettings,t)},ajaxPrefilter:Or(xr),ajaxTransport:Or(Cn),ajax:function(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};var o,s,l,c,h,v,_,E,x,w,A=f.ajaxSetup({},r),O=A.context||A,k=A.context&&(O.nodeType||O.jquery)?f(O):f.event,K=f.Deferred(),G=f.Callbacks("once memory"),pt=A.statusCode||{},lt={},bt={},nt="canceled",Q={readyState:0,getResponseHeader:function(Z){var ut;if(_){if(!c)for(c={};ut=wo.exec(l);)c[ut[1].toLowerCase()+" "]=(c[ut[1].toLowerCase()+" "]||[]).concat(ut[2]);ut=c[Z.toLowerCase()+" "]}return ut==null?null:ut.join(", ")},getAllResponseHeaders:function(){return _?l:null},setRequestHeader:function(Z,ut){return _==null&&(Z=bt[Z.toLowerCase()]=bt[Z.toLowerCase()]||Z,lt[Z]=ut),this},overrideMimeType:function(Z){return _==null&&(A.mimeType=Z),this},statusCode:function(Z){var ut;if(Z)if(_)Q.always(Z[Q.status]);else for(ut in Z)pt[ut]=[pt[ut],Z[ut]];return this},abort:function(Z){var ut=Z||nt;return o&&o.abort(ut),It(0,ut),this}};if(K.promise(Q),A.url=((t||A.url||Ne.href)+"").replace(Mo,Ne.protocol+"//"),A.type=r.method||r.type||A.method||A.type,A.dataTypes=(A.dataType||"*").toLowerCase().match(Ft)||[""],A.crossDomain==null){v=B.createElement("a");try{v.href=A.url,v.href=v.href,A.crossDomain=An.protocol+"//"+An.host!=v.protocol+"//"+v.host}catch{A.crossDomain=!0}}if(A.data&&A.processData&&typeof A.data!="string"&&(A.data=f.param(A.data,A.traditional)),br(xr,A,r,Q),_)return Q;E=f.event&&A.global,E&&f.active++==0&&f.event.trigger("ajaxStart"),A.type=A.type.toUpperCase(),A.hasContent=!Do.test(A.type),s=A.url.replace(Lo,""),A.hasContent?A.data&&A.processData&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(A.data=A.data.replace(So,"+")):(w=A.url.slice(s.length),A.data&&(A.processData||typeof A.data=="string")&&(s+=(En.test(s)?"&":"?")+A.data,delete A.data),A.cache===!1&&(s=s.replace(No,"$1"),w=(En.test(s)?"&":"?")+"_="+Cr.guid+++w),A.url=s+w),A.ifModified&&(f.lastModified[s]&&Q.setRequestHeader("If-Modified-Since",f.lastModified[s]),f.etag[s]&&Q.setRequestHeader("If-None-Match",f.etag[s])),(A.data&&A.hasContent&&A.contentType!==!1||r.contentType)&&Q.setRequestHeader("Content-Type",A.contentType),Q.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+(A.dataTypes[0]!=="*"?", "+Ir+"; q=0.01":""):A.accepts["*"]);for(x in A.headers)Q.setRequestHeader(x,A.headers[x]);if(A.beforeSend&&(A.beforeSend.call(O,Q,A)===!1||_))return Q.abort();if(nt="abort",G.add(A.complete),Q.done(A.success),Q.fail(A.error),o=br(Cn,A,r,Q),!o)It(-1,"No Transport");else{if(Q.readyState=1,E&&k.trigger("ajaxSend",[Q,A]),_)return Q;A.async&&A.timeout>0&&(h=i.setTimeout(function(){Q.abort("timeout")},A.timeout));try{_=!1,o.send(lt,It)}catch(Z){if(_)throw Z;It(-1,Z)}}function It(Z,ut,Re,Ye){var St,ne,re,Ot,Yt,Dt=ut;_||(_=!0,h&&i.clearTimeout(h),o=void 0,l=Ye||"",Q.readyState=Z>0?4:0,St=Z>=200&&Z<300||Z===304,Re&&(Ot=Po(A,Q,Re)),!St&&f.inArray("script",A.dataTypes)>-1&&(A.converters["text script"]=function(){}),Ot=Uo(A,Ot,Q,St),St?(A.ifModified&&(Yt=Q.getResponseHeader("Last-Modified"),Yt&&(f.lastModified[s]=Yt),Yt=Q.getResponseHeader("etag"),Yt&&(f.etag[s]=Yt)),Z===204||A.type==="HEAD"?Dt="nocontent":Z===304?Dt="notmodified":(Dt=Ot.state,ne=Ot.data,re=Ot.error,St=!re)):(re=Dt,(Z||!Dt)&&(Dt="error",Z<0&&(Z=0))),Q.status=Z,Q.statusText=(ut||Dt)+"",St?K.resolveWith(O,[ne,Dt,Q]):K.rejectWith(O,[Q,Dt,re]),Q.statusCode(pt),pt=void 0,E&&k.trigger(St?"ajaxSuccess":"ajaxError",[Q,A,St?ne:re]),G.fireWith(O,[Q,Dt]),E&&(k.trigger("ajaxComplete",[Q,A]),--f.active||f.event.trigger("ajaxStop")))}return Q},getJSON:function(t,r,o){return f.get(t,r,o,"json")},getScript:function(t,r){return f.get(t,void 0,r,"script")}}),f.each(["get","post"],function(t,r){f[r]=function(o,s,l,c){return P(s)&&(c=c||l,l=s,s=void 0),f.ajax(f.extend({url:o,type:r,dataType:c,data:s,success:l},f.isPlainObject(o)&&o))}}),f.ajaxPrefilter(function(t){var r;for(r in t.headers)r.toLowerCase()==="content-type"&&(t.contentType=t.headers[r]||"")}),f._evalUrl=function(t,r,o){return f.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(s){f.globalEval(s,r,o)}})},f.fn.extend({wrapAll:function(t){var r;return this[0]&&(P(t)&&(t=t.call(this[0])),r=f(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(t){return P(t)?this.each(function(r){f(this).wrapInner(t.call(this,r))}):this.each(function(){var r=f(this),o=r.contents();o.length?o.wrapAll(t):r.append(t)})},wrap:function(t){var r=P(t);return this.each(function(o){f(this).wrapAll(r?t.call(this,o):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(t){return!f.expr.pseudos.visible(t)},f.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var jo={0:200,1223:204},we=f.ajaxSettings.xhr();U.cors=!!we&&"withCredentials"in we,U.ajax=we=!!we,f.ajaxTransport(function(t){var r,o;if(U.cors||we&&!t.crossDomain)return{send:function(s,l){var c,h=t.xhr();if(h.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(c in t.xhrFields)h[c]=t.xhrFields[c];t.mimeType&&h.overrideMimeType&&h.overrideMimeType(t.mimeType),!t.crossDomain&&!s["X-Requested-With"]&&(s["X-Requested-With"]="XMLHttpRequest");for(c in s)h.setRequestHeader(c,s[c]);r=function(v){return function(){r&&(r=o=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,v==="abort"?h.abort():v==="error"?typeof h.status!="number"?l(0,"error"):l(h.status,h.statusText):l(jo[h.status]||h.status,h.statusText,(h.responseType||"text")!=="text"||typeof h.responseText!="string"?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=r(),o=h.onerror=h.ontimeout=r("error"),h.onabort!==void 0?h.onabort=o:h.onreadystatechange=function(){h.readyState===4&&i.setTimeout(function(){r&&o()})},r=r("abort");try{h.send(t.hasContent&&t.data||null)}catch(v){if(r)throw v}},abort:function(){r&&r()}}}),f.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return f.globalEval(t),t}}}),f.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),f.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var r,o;return{send:function(s,l){r=f("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",o=function(c){r.remove(),o=null,c&&l(c.type==="error"?404:200,c.type)}),B.head.appendChild(r[0])},abort:function(){o&&o()}}}});var Sr=[],In=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Sr.pop()||f.expando+"_"+Cr.guid++;return this[t]=!0,t}}),f.ajaxPrefilter("json jsonp",function(t,r,o){var s,l,c,h=t.jsonp!==!1&&(In.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&In.test(t.data)&&"data");if(h||t.dataTypes[0]==="jsonp")return s=t.jsonpCallback=P(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(In,"$1"+s):t.jsonp!==!1&&(t.url+=(En.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return c||f.error(s+" was not called"),c[0]},t.dataTypes[0]="json",l=i[s],i[s]=function(){c=arguments},o.always(function(){l===void 0?f(i).removeProp(s):i[s]=l,t[s]&&(t.jsonpCallback=r.jsonpCallback,Sr.push(s)),c&&P(l)&&l(c[0]),c=l=void 0}),"script"}),U.createHTMLDocument=function(){var t=B.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}(),f.parseHTML=function(t,r,o){if(typeof t!="string")return[];typeof r=="boolean"&&(o=r,r=!1);var s,l,c;return r||(U.createHTMLDocument?(r=B.implementation.createHTMLDocument(""),s=r.createElement("base"),s.href=B.location.href,r.head.appendChild(s)):r=B),l=Yn.exec(t),c=!o&&[],l?[r.createElement(l[1])]:(l=rr([t],r,c),c&&c.length&&f(c).remove(),f.merge([],l.childNodes))},f.fn.load=function(t,r,o){var s,l,c,h=this,v=t.indexOf(" ");return v>-1&&(s=te(t.slice(v)),t=t.slice(0,v)),P(r)?(o=r,r=void 0):r&&typeof r=="object"&&(l="POST"),h.length>0&&f.ajax({url:t,type:l||"GET",dataType:"html",data:r}).done(function(_){c=arguments,h.html(s?f("<div>").append(f.parseHTML(_)).find(s):_)}).always(o&&function(_,E){h.each(function(){o.apply(this,c||[_.responseText,E,_])})}),this},f.expr.pseudos.animated=function(t){return f.grep(f.timers,function(r){return t===r.elem}).length},f.offset={setOffset:function(t,r,o){var s,l,c,h,v,_,E,x=f.css(t,"position"),w=f(t),A={};x==="static"&&(t.style.position="relative"),v=w.offset(),c=f.css(t,"top"),_=f.css(t,"left"),E=(x==="absolute"||x==="fixed")&&(c+_).indexOf("auto")>-1,E?(s=w.position(),h=s.top,l=s.left):(h=parseFloat(c)||0,l=parseFloat(_)||0),P(r)&&(r=r.call(t,o,f.extend({},v))),r.top!=null&&(A.top=r.top-v.top+h),r.left!=null&&(A.left=r.left-v.left+l),"using"in r?r.using.call(t,A):(typeof A.top=="number"&&(A.top+="px"),typeof A.left=="number"&&(A.left+="px"),w.css(A))}},f.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(l){f.offset.setOffset(this,t,l)});var r,o,s=this[0];if(!!s)return s.getClientRects().length?(r=s.getBoundingClientRect(),o=s.ownerDocument.defaultView,{top:r.top+o.pageYOffset,left:r.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var t,r,o,s=this[0],l={top:0,left:0};if(f.css(s,"position")==="fixed")r=s.getBoundingClientRect();else{for(r=this.offset(),o=s.ownerDocument,t=s.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&f.css(t,"position")==="static";)t=t.parentNode;t&&t!==s&&t.nodeType===1&&(l=f(t).offset(),l.top+=f.css(t,"borderTopWidth",!0),l.left+=f.css(t,"borderLeftWidth",!0))}return{top:r.top-l.top-f.css(s,"marginTop",!0),left:r.left-l.left-f.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&f.css(t,"position")==="static";)t=t.offsetParent;return t||Zt})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o=r==="pageYOffset";f.fn[t]=function(s){return Gt(this,function(l,c,h){var v;if(tt(l)?v=l:l.nodeType===9&&(v=l.defaultView),h===void 0)return v?v[r]:l[c];v?v.scrollTo(o?v.pageXOffset:h,o?h:v.pageYOffset):l[c]=h},t,s,arguments.length)}}),f.each(["top","left"],function(t,r){f.cssHooks[r]=fr(U.pixelPosition,function(o,s){if(s)return s=Se(o,r),gn.test(s)?f(o).position()[r]+"px":s})}),f.each({Height:"height",Width:"width"},function(t,r){f.each({padding:"inner"+t,content:r,"":"outer"+t},function(o,s){f.fn[s]=function(l,c){var h=arguments.length&&(o||typeof l!="boolean"),v=o||(l===!0||c===!0?"margin":"border");return Gt(this,function(_,E,x){var w;return tt(_)?s.indexOf("outer")===0?_["inner"+t]:_.document.documentElement["client"+t]:_.nodeType===9?(w=_.documentElement,Math.max(_.body["scroll"+t],w["scroll"+t],_.body["offset"+t],w["offset"+t],w["client"+t])):x===void 0?f.css(_,E,v):f.style(_,E,x,v)},r,h?l:void 0,h)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,r){f.fn[r]=function(o){return this.on(r,o)}}),f.fn.extend({bind:function(t,r,o){return this.on(t,null,r,o)},unbind:function(t,r){return this.off(t,null,r)},delegate:function(t,r,o,s){return this.on(r,t,o,s)},undelegate:function(t,r,o){return arguments.length===1?this.off(t,"**"):this.off(r,t||"**",o)},hover:function(t,r){return this.mouseenter(t).mouseleave(r||t)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,r){f.fn[r]=function(o,s){return arguments.length>0?this.on(r,null,o,s):this.trigger(r)}});var Ho=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;f.proxy=function(t,r){var o,s,l;if(typeof r=="string"&&(o=t[r],r=t,t=o),!!P(t))return s=u.call(arguments,2),l=function(){return t.apply(r||this,s.concat(u.call(arguments)))},l.guid=t.guid=t.guid||f.guid++,l},f.holdReady=function(t){t?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=wt,f.isFunction=P,f.isWindow=tt,f.camelCase=qt,f.type=Ut,f.now=Date.now,f.isNumeric=function(t){var r=f.type(t);return(r==="number"||r==="string")&&!isNaN(t-parseFloat(t))},f.trim=function(t){return t==null?"":(t+"").replace(Ho,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return f});var Vo=i.jQuery,Fo=i.$;return f.noConflict=function(t){return i.$===f&&(i.$=Fo),t&&i.jQuery===f&&(i.jQuery=Vo),f},typeof e=="undefined"&&(i.jQuery=i.$=f),f})});var Hr=function(){function i(e){this.isVisible=!0;var n=e.target.match(/.*[^n]xyz=(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)/),a=e.target.match(/.*nxyz=(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)/);this.bodyValue=e.bodyValue,this.x=Number(n[1]),this.y=Number(n[2]),this.z=Number(n[3]),this.nx=Number(a[1]),this.ny=Number(a[2]),this.nz=Number(a[3])}return i}();var Vr=function(){function i(e){this.isVisible=!0;var n;e.on?(n=e.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/),this.chars=e.resource.chars):(n=e.target.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/),this.chars=e.bodyValue),this.x=Number(n[1]),this.y=Number(n[2]),this.width=Number(n[3]),this.height=Number(n[4])}return i}();var _s=function(){function i(e){this.rects=[],this.points3D=[],this.canvasId=e}return i.prototype.addRect=function(e){var n=new Vr(e);n.canvasId=this.canvasId,n.canvasIndex=this.canvasIndex,n.index=this.rects.length,this.rects.push(n),this.rects.sort(function(a,u){return a.index-u.index})},i.prototype.addPoint3D=function(e){var n=new Hr(e);n.canvasId=this.canvasId,n.canvasIndex=this.canvasIndex,n.index=this.points3D.length,this.points3D.push(n),this.points3D.sort(function(a,u){return a.index-u.index})},i}();var la=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Es=function(i){la(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getValue=function(n,a){return n.getValue(a,"<br/>")},e.getValues=function(n,a){return n.getValues(a)},e}(Array);var tn=function(){function i(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return i.prototype.getProperty=function(e){var n=null;return this.__jsonld&&(n=this.__jsonld[e],n||(n=this.__jsonld["@"+e])),n},i}();var se=yt(Mt()),ca=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),dt=function(i){ca(e,i);function e(n,a){var u=i.call(this,n)||this;return u.options=a,u}return e.prototype.getIIIFResourceType=function(){return V.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){var n=this.getProperty("label");return n?_t.parse(n,this.options.locale):new _t([],this.options.locale)},e.prototype.getDefaultLabel=function(){return this.getLabel().getValue(this.options.locale)},e.prototype.getMetadata=function(){var n=this.getProperty("metadata"),a=[];if(!n)return a;for(var u=0;u<n.length;u++){var p=n[u],y=new kt(this.options.locale);y.parse(p),a.push(y)}return a},e.prototype.getRendering=function(n){for(var a=this.getRenderings(),u=0;u<a.length;u++){var p=a[u];if(p.getFormat()===n)return p}return null},e.prototype.getRenderings=function(){var n;this.__jsonld?n=this.__jsonld.rendering:n=this.rendering;var a=[];if(!n)return a;Array.isArray(n)||(n=[n]);for(var u=0;u<n.length;u++){var p=n[u];a.push(new Fr(p,this.options))}return a},e.prototype.getService=function(n){return V.getService(this,n)},e.prototype.getServices=function(){return V.getServices(this)},e.prototype.getThumbnail=function(){var n=this.getProperty("thumbnail");return Array.isArray(n)&&(n=n[0]),n?new qr(n,this.options):null},e.prototype.isAnnotation=function(){return this.getIIIFResourceType()===se.IIIFResourceType.ANNOTATION},e.prototype.isCanvas=function(){return this.getIIIFResourceType()===se.IIIFResourceType.CANVAS},e.prototype.isCollection=function(){return this.getIIIFResourceType()===se.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===se.IIIFResourceType.MANIFEST},e.prototype.isRange=function(){return this.getIIIFResourceType()===se.IIIFResourceType.RANGE},e.prototype.isSequence=function(){return this.getIIIFResourceType()===se.IIIFResourceType.SEQUENCE},e}(tn);var pa=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),me=function(i){pa(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getFormat=function(){var n=this.getProperty("format");return n?n.toLowerCase():null},e.prototype.getResources=function(){var n=[];if(!this.__jsonld.resources)return n;for(var a=0;a<this.__jsonld.resources.length;a++){var u=this.__jsonld.resources[a],p=new ue(u,this.options);n.push(p)}return n},e.prototype.getType=function(){var n=this.getProperty("type");return n?V.normaliseType(n):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},e.prototype.getMaxHeight=function(){var n=this.getProperty("maxHeight");return n?null:this.getMaxWidth()},e}(dt);var Ue=yt(Mt()),ha=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),en=function(i){ha(e,i);function e(n,a){var u=i.call(this,n,a)||this;u.index=-1,u.isLoaded=!1;var p={defaultLabel:"-",locale:"en-GB",resource:u,pessimisticAccessControl:!1};return u.options=Object.assign(p,a),u}return e.prototype.getAttribution=function(){var n=this.getProperty("attribution");return n?_t.parse(n,this.options.locale):new _t([],this.options.locale)},e.prototype.getDescription=function(){var n=this.getProperty("description");return n?_t.parse(n,this.options.locale):new _t([],this.options.locale)},e.prototype.getHomepage=function(){var n=this.getProperty("homepage");return n?typeof n=="string"?n:(Array.isArray(n)&&n.length&&(n=n[0]),n["@id"]||n.id):null},e.prototype.getIIIFResourceType=function(){return V.normaliseType(this.getProperty("type"))},e.prototype.getLogo=function(){var n=this.getProperty("logo");return n?typeof n=="string"?n:(Array.isArray(n)&&n.length&&(n=n[0]),n["@id"]||n.id):null},e.prototype.getLicense=function(){return V.getLocalisedValue(this.getProperty("license"),this.options.locale)},e.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},e.prototype.getRelated=function(){return this.getProperty("related")},e.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},e.prototype.getTrackingLabel=function(){var n=this.getService(Ue.ServiceProfile.TRACKING_EXTENSIONS);return n?n.getProperty("trackingLabel"):""},e.prototype.getDefaultTree=function(){return this.defaultTree=new Pt("root"),this.defaultTree.data=this,this.defaultTree},e.prototype.getRequiredStatement=function(){var n=null,a=this.getProperty("requiredStatement");if(a)n=new kt(this.options.locale),n.parse(a);else{var u=this.getAttribution();u&&(n=new kt(this.options.locale),n.value=u)}return n},e.prototype.isCollection=function(){return this.getIIIFResourceType()===Ue.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===Ue.IIIFResourceType.MANIFEST},e.prototype.load=function(){var n=this;return new Promise(function(a){if(n.isLoaded)a(n);else{var u=n.options;u.navDate=n.getNavDate();var p=n.__jsonld.id;p||(p=n.__jsonld["@id"]),V.loadManifest(p).then(function(y){n.parentLabel=n.getLabel().getValue(u.locale);var C=nn.parse(y,u);n=Object.assign(n,C),n.index=u.index,a(n)})}})},e}(dt);var da=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),ue=function(i){da(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getBody=function(){var n=[],a=this.getProperty("body");if(a)if(Array.isArray(a))for(var u=0;u<a.length;u++){var p=a[u];if(p.items)for(var y=0;y<p.items.length;y++){var C=p.items[y];n.push(new je(C,this.options))}else n.push(new je(p,this.options))}else if(a.items)for(var u=0;u<a.items.length;u++){var p=a.items[u];n.push(new je(p,this.options))}else n.push(new je(a,this.options));return n},e.prototype.getMotivation=function(){var n=this.getProperty("motivation");return n||null},e.prototype.getOn=function(){return this.getProperty("on")},e.prototype.getTarget=function(){return this.getProperty("target")},e.prototype.getResource=function(){return new me(this.getProperty("resource"),this.options)},e}(dt);var ga=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),je=function(i){ga(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getFormat=function(){var n=this.getProperty("format");return n?V.getMediaType(n):null},e.prototype.getType=function(){var n=this.getProperty("type");return n?V.normaliseType(this.getProperty("type")):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(dt);var va=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),kr=function(i){va(e,i);function e(n,a,u){var p=i.call(this,a)||this;return p.label=n,p.options=u,p}return e.prototype.getIIIFResourceType=function(){return V.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){return this.label},e.prototype.getResources=function(){var n=this,a=this.getProperty("resources");return a.map(function(u){return new ue(u,n.options)})},e.prototype.load=function(){var n=this;return new Promise(function(a,u){if(n.isLoaded)a(n);else{var p=n.__jsonld.id;p||(p=n.__jsonld["@id"]),V.loadManifest(p).then(function(y){n.__jsonld=y,n.context=n.getProperty("context"),n.id=n.getProperty("id"),n.isLoaded=!0,a(n)}).catch(u)}})},e}(tn);var ya=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gr=function(i){ya(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getItems=function(){return this.getProperty("items")},e}(dt);var Un=yt(Mt());var on=yt(Ai()),jn=yt(Ii()),ns=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ee=function(i){ns(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getCanonicalImageUri=function(n){var a=null,u="full",p=0,y="default",C=n,L;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])a=this.externalResource.data["@id"],C||(C=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(y="native");else{var I=this.getImages();if(I&&I.length){var R=I[0],M=R.getResource(),H=M.getServices();if(C||(C=M.getWidth()),H.length){var U=H[0];a=U.id,y=V.getImageQuality(U.getProfile())}else if(C===M.getWidth())return M.id}if(!a){var P=this.getProperty("thumbnail");if(P){if(typeof P=="string")return P;if(P["@id"])return P["@id"];if(P.length)return P[0].id}}}L=C+",",a&&a.endsWith("/")&&(a=a.substr(0,a.length-1));var tt=[a,u,L,p,y+".jpg"].join("/");return tt},e.prototype.getMaxDimensions=function(){var n=null,a;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(a=this.externalResource.data.profile,Array.isArray(a)&&(a=a.filter(function(u){return u["maxWidth"]})[0],a&&(n=new Oi(a.maxWidth,a.maxHeight?a.maxHeight:a.maxWidth)))),n},e.prototype.getContent=function(){var n=[],a=this.__jsonld.items||this.__jsonld.content;if(!a)return n;var u=null;if(a.length&&(u=new Gr(a[0],this.options)),!u)return n;for(var p=u.getItems(),y=0;y<p.length;y++){var C=p[y],L=new ue(C,this.options);n.push(L)}return n},e.prototype.getDuration=function(){return this.getProperty("duration")},e.prototype.getImages=function(){var n=[];if(!this.__jsonld.images)return n;for(var a=0;a<this.__jsonld.images.length;a++){var u=this.__jsonld.images[a],p=new ue(u,this.options);n.push(p)}return n},e.prototype.getIndex=function(){return this.getProperty("index")},e.prototype.getOtherContent=function(){var n=this,a=Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")],u=function(y,C){return typeof y!="string"||typeof C!="string"?!1:y.toLowerCase()===y.toLowerCase()},p=a.filter(function(y){return y&&u(y["@type"],"sc:AnnotationList")}).map(function(y,C){return new kr(y.label||"Annotation list "+C,y,n.options)}).map(function(y){return y.load()});return Promise.all(p)},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},Object.defineProperty(e.prototype,"imageResources",{get:function(){var n=this,a=(0,jn.default)([this.getImages().map(function(u){return u.getResource()}),this.getContent().map(function(u){return u.getBody()})]);return(0,on.default)(a.map(function(u){switch(u.getProperty("type").toLowerCase()){case Un.ExternalResourceType.CHOICE:case Un.ExternalResourceType.OA_CHOICE:return new e({images:(0,on.default)([u.getProperty("default"),u.getProperty("item")]).map(function(p){return{resource:p}})},n.options).getImages().map(function(p){return p.getResource()});default:return u}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resourceAnnotations",{get:function(){return(0,jn.default)([this.getImages(),this.getContent()])},enumerable:!0,configurable:!0}),e.prototype.resourceAnnotation=function(n){return this.resourceAnnotations.find(function(a){return a.getResource().id===n||(0,on.default)(new Array(a.getBody())).some(function(u){return u.id===n})})},e.prototype.onFragment=function(n){var a=this.resourceAnnotation(n);if(!!a){var u=a.getProperty("on"),p=a.getProperty("target"),y=(u||p).match(/xywh=(.*)$/);if(!!y)return y[1].split(",").map(function(C){return parseInt(C,10)})}},Object.defineProperty(e.prototype,"iiifImageResources",{get:function(){return this.imageResources.filter(function(n){return n&&n.getServices()[0]&&n.getServices()[0].id})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageServiceIds",{get:function(){return this.iiifImageResources.map(function(n){return n.getServices()[0].id})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aspectRatio",{get:function(){return this.getWidth()/this.getHeight()},enumerable:!0,configurable:!0}),e}(me);var bi=yt(Mt());var rs=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Si=function(i){rs(e,i);function e(n,a){var u=i.call(this,n,a)||this;return u.items=[],u._collections=null,u._manifests=null,n.__collection=u,u}return e.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(n){return n.isCollection()})},e.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(n){return n.isManifest()})},e.prototype.getCollectionByIndex=function(n){for(var a=this.getCollections(),u,p=0;p<a.length;p++){var y=a[p];y.index===n&&(u=y)}if(u)return u.options.index=n,u.load();throw new Error("Collection index not found")},e.prototype.getManifestByIndex=function(n){for(var a=this.getManifests(),u,p=0;p<a.length;p++){var y=a[p];y.index===n&&(u=y)}if(u)return u.options.index=n,u.load();throw new Error("Manifest index not found")},e.prototype.getTotalCollections=function(){return this.getCollections().length},e.prototype.getTotalManifests=function(){return this.getManifests().length},e.prototype.getTotalItems=function(){return this.items.length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):bi.ViewingDirection.LEFT_TO_RIGHT},e.prototype.getBehavior=function(){var n=this.getProperty("behavior");return Array.isArray(n)&&(n=n[0]),n||null},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.getDefaultTree=function(){return i.prototype.getDefaultTree.call(this),this.defaultTree.data.type=V.normaliseType(gt.COLLECTION),this._parseManifests(this),this._parseCollections(this),V.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._parseManifests=function(n){if(n.getManifests()&&n.getManifests().length)for(var a=0;a<n.getManifests().length;a++){var u=n.getManifests()[a],p=u.getDefaultTree();p.label=u.parentLabel||u.getLabel().getValue(this.options.locale)||"manifest "+(a+1),p.navDate=u.getNavDate(),p.data.id=u.id,p.data.type=V.normaliseType(gt.MANIFEST),n.defaultTree.addNode(p)}},e.prototype._parseCollections=function(n){if(n.getCollections()&&n.getCollections().length)for(var a=0;a<n.getCollections().length;a++){var u=n.getCollections()[a],p=u.getDefaultTree();p.label=u.parentLabel||u.getLabel().getValue(this.options.locale)||"collection "+(a+1),p.navDate=u.getNavDate(),p.data.id=u.id,p.data.type=V.normaliseType(gt.COLLECTION),n.defaultTree.addNode(p)}},e}(en);var an=function(){function i(e,n){this.start=e,this.end=n}return i.prototype.getLength=function(){return this.end-this.start},i}();var kt=function(){function i(e){this.defaultLocale=e}return i.prototype.parse=function(e){this.resource=e,this.label=_t.parse(this.resource.label,this.defaultLocale),this.value=_t.parse(this.resource.value,this.defaultLocale)},i.prototype.getLabel=function(e){return this.label===null?null:(Array.isArray(e)&&!e.length&&(e=void 0),this.label.getValue(e||this.defaultLocale))},i.prototype.setLabel=function(e){this.label===null&&(this.label=new _t([])),this.label.setValue(e,this.defaultLocale)},i.prototype.getValue=function(e,n){return n===void 0&&(n="<br/>"),this.value===null?null:(Array.isArray(e)&&!e.length&&(e=void 0),this.value.getValue(e||this.defaultLocale,n))},i.prototype.getValues=function(e){return this.value===null?[]:(Array.isArray(e)&&!e.length&&(e=void 0),this.value.getValues(e||this.defaultLocale))},i.prototype.setValue=function(e){this.value===null&&(this.value=new _t([])),this.value.setValue(e,this.defaultLocale)},i}();var is=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),os=function(){for(var i=0,e=0,n=arguments.length;e<n;e++)i+=arguments[e].length;for(var a=Array(i),u=0,e=0;e<n;e++)for(var p=arguments[e],y=0,C=p.length;y<C;y++,u++)a[u]=p[y];return a},Xt=function(){function i(e,n,a){a===void 0&&(a="none"),Array.isArray(e)&&e.length===1?this._value=e[0]:this._value=e,(n==="none"||n==="@none")&&(n=void 0),this._locale=n,this._defaultLocale=a}return i.parseV2Value=function(e,n){return typeof e=="string"?new i(e,void 0,n):e["@value"]?new i(e["@value"],e["@language"],n):null},Object.defineProperty(i.prototype,"value",{get:function(){return Array.isArray(this._value)?this._value.join("<br/>"):this._value},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"locale",{get:function(){return this._locale===void 0?this._defaultLocale:this._locale},enumerable:!0,configurable:!0}),i.prototype.addValue=function(e){Array.isArray(this._value)||(this._value=[this._value]),Array.isArray(e)?this._value=this._value.concat(e):this._value.push(e)},i}();var _t=function(i){is(e,i);function e(n,a){n===void 0&&(n=[]);var u=i.apply(this,n)||this;return u.__proto__=e.prototype,u._defaultLocale=a,u}return e.parse=function(n,a){if(!n)return new e([],a);if(Array.isArray(n)){var u=n.map(function(y){return Xt.parseV2Value(y,a)}).filter(function(y){return y!==null}),p=u.reduce(function(y,C){var L=C._locale;return L||(L="none"),y[L]?y[L].addValue(C._value):y[L]=C,y},{});return new e(Object.values(p),a)}else{if(typeof n=="string")return new e([new Xt(n,void 0,a)],a);if(n["@language"]){var u=Xt.parseV2Value(n);return new e(u!==null?[u]:[],a)}else return new e(Object.keys(n).map(function(y){var C=n[y];if(!Array.isArray(C))throw new Error("A IIIF v3 localized property value must have an array as the value for a given language.");return new Xt(C,y,a)}),a)}},e.prototype.getSuitableLocale=function(n){for(var a=os(this).map(function(U){return U._locale}).filter(function(U){return U!==void 0}),u=function(U){var P=a.find(function(tt){return tt===U});if(P)return{value:P}},p=0,y=n;p<y.length;p++){var C=y[p],L=u(C);if(typeof L=="object")return L.value}for(var I=function(U){var P=a.find(function(tt){return V.getInexactLocale(tt)===V.getInexactLocale(U)});if(P)return{value:P}},R=0,M=n;R<M.length;R++){var C=M[R],H=I(C);if(typeof H=="object")return H.value}},e.prototype.setValue=function(n,a){var u=void 0;if(!a)u=this.find(function(y){return y._locale===void 0});else{var p=this.getSuitableLocale([a]);p&&(u=this.find(function(y){return y._locale===p}))}u?u._value=n:this.push(new Xt(n,a,this._defaultLocale))},e.prototype.getValue=function(n,a){var u=this.getValues(n);return u.length===0?null:a?u.join(a):u[0]},e.prototype.getValues=function(n){if(!this.length)return[];var a;if(n?Array.isArray(n)?a=n:a=[n]:a=[],this.length===1&&this[0]._locale===void 0){var u=this[0]._value;return Array.isArray(u)?u:[u]}var p=this.getSuitableLocale(a);if(p){var u=this.find(function(I){return I._locale===p})._value;return Array.isArray(u)?u:[u]}var y=!this.find(function(L){return L._locale===void 0});if(y){var u=this[0]._value;return Array.isArray(u)?u:[u]}var C=this.find(function(L){return L._locale===void 0});return C?Array.isArray(C._value)?C._value:[C._value]:[]},e}(Array);var fe=yt(Mt());var as=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Li=function(i){as(e,i);function e(n,a){var u=i.call(this,n,a)||this;if(u.index=0,u._allRanges=null,u.items=[],u._topRanges=[],u.__jsonld.structures&&u.__jsonld.structures.length)for(var p=u._getTopRanges(),y=0;y<p.length;y++){var C=p[y];u._parseRanges(C,String(y))}return u}return e.prototype.getPosterCanvas=function(){var n=this.getProperty("posterCanvas");return n&&(n=new Ee(n,this.options)),n},e.prototype.getAccompanyingCanvas=function(){var n=this.getProperty("accompanyingCanvas");return n&&(n=new Ee(n,this.options)),n},e.prototype.getBehavior=function(){var n=this.getProperty("behavior");return Array.isArray(n)&&(n=n[0]),n||null},e.prototype.getDefaultTree=function(){if(i.prototype.getDefaultTree.call(this),this.defaultTree.data.type=V.normaliseType(gt.MANIFEST),!this.isLoaded)return this.defaultTree;var n=this.getTopRanges();return n.length&&n[0].getTree(this.defaultTree),V.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._getTopRanges=function(){var n=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var a=0;a<this.__jsonld.structures.length;a++){var u=this.__jsonld.structures[a];u.viewingHint===fe.ViewingHint.TOP&&n.push(u)}if(!n.length){var p={};p.ranges=this.__jsonld.structures,n.push(p)}}return n},e.prototype.getTopRanges=function(){return this._topRanges},e.prototype._getRangeById=function(n){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var a=0;a<this.__jsonld.structures.length;a++){var u=this.__jsonld.structures[a];if(u["@id"]===n||u.id===n)return u}return null},e.prototype._parseRanges=function(n,a,u){var p,y=null;if(typeof n=="string"&&(y=n,n=this._getRangeById(y)),!n){console.warn("Range:",y,"does not exist");return}p=new Ni(n,this.options),p.parentRange=u,p.path=a,u?u.items.push(p):this._topRanges.push(p);var C=n.items||n.members;if(C)for(var L=0;L<C.length;L++){var I=C[L];if(I["@type"]&&I["@type"].toLowerCase()==="sc:range"||I.type&&I.type.toLowerCase()==="range")this._parseRanges(I,a+"/"+L,p);else if(I["@type"]&&I["@type"].toLowerCase()==="sc:canvas"||I.type&&I.type.toLowerCase()==="canvas"){p.canvases||(p.canvases=[]);var R=I.id||I["@id"];p.canvases.push(R)}}else if(n.ranges)for(var L=0;L<n.ranges.length;L++)this._parseRanges(n.ranges[L],a+"/"+L,p)},e.prototype.getAllRanges=function(){if(this._allRanges!=null)return this._allRanges;this._allRanges=[];for(var n=this.getTopRanges(),a=function(y){var C=n[y];C.id&&u._allRanges.push(C);var L=function(R,M){R.add(M);var H=M.getRanges();return H.length?H.reduce(L,R):R},I=Array.from(C.getRanges().reduce(L,new Set));u._allRanges=u._allRanges.concat(I)},u=this,p=0;p<n.length;p++)a(p);return this._allRanges},e.prototype.getRangeById=function(n){for(var a=this.getAllRanges(),u=0;u<a.length;u++){var p=a[u];if(p.id===n)return p}return null},e.prototype.getRangeByPath=function(n){for(var a=this.getAllRanges(),u=0;u<a.length;u++){var p=a[u];if(p.path===n)return p}return null},e.prototype.getSequences=function(){if(this.items.length)return this.items;var n=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(n)for(var a=0;a<n.length;a++){var u=n[a],p=new Hn(u,this.options);this.items.push(p)}else if(this.__jsonld.items){var p=new Hn(this.__jsonld.items,this.options);this.items.push(p)}return this.items},e.prototype.getSequenceByIndex=function(n){return this.getSequences()[n]},e.prototype.getTotalSequences=function(){return this.getSequences().length},e.prototype.getManifestType=function(){var n=this.getService(fe.ServiceProfile.UI_EXTENSIONS);return n?n.getProperty("manifestType"):Qt.EMPTY},e.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},e.prototype.isPagingEnabled=function(){var n=this.getViewingHint();if(n)return n===fe.ViewingHint.PAGED;var a=this.getBehavior();return a?a===fe.Behavior.PAGED:!1},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e}(en);var Qt;(function(i){i.EMPTY="",i.MANUSCRIPT="manuscript",i.MONOGRAPH="monograph"})(Qt||(Qt={}));var wi=yt(Mt()),ss=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ni=function(i){ss(e,i);function e(n,a){var u=i.call(this,n,a)||this;return u._ranges=null,u.canvases=null,u.items=[],u}return e.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},e.prototype.getDuration=function(){if(this.canvases&&this.canvases.length){for(var n=[],a=[],u=0,p=this.canvases;u<p.length;u++){var y=p[u];if(!!y){var C=y.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,y],L=C[1],I=C[2],R=C[3];L&&(n.push(parseFloat(I)),a.push(parseFloat(R)))}}if(n.length&&a.length)return new an(Math.min.apply(Math,n),Math.max.apply(Math,a))}else{for(var M=this.getRanges(),n=[],a=[],H=0,U=M;H<U.length;H++){var P=U[H],tt=P.getDuration();tt&&(n.push(tt.start),a.push(tt.end))}if(n.length&&a.length)return new an(Math.min.apply(Math,n),Math.max.apply(Math,a))}var B,le;if(this.canvases&&this.canvases.length)for(var Tt=0;Tt<this.canvases.length;Tt++){var y=this.canvases[Tt],Ut=V.getTemporalComponent(y);Ut&&Ut.length>1&&(Tt===0&&(B=Number(Ut[0])),Tt===this.canvases.length-1&&(le=Number(Ut[1])))}else for(var M=this.getRanges(),Tt=0;Tt<M.length;Tt++){var P=M[Tt],tt=P.getDuration();tt&&(Tt===0&&(B=tt.start),Tt===M.length-1&&(le=tt.end))}if(B!==void 0&&le!==void 0)return new an(B,le)},e.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(n){return n.isRange()})},e.prototype.getBehavior=function(){var n=this.getProperty("behavior");return Array.isArray(n)&&(n=n[0]),n||null},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.getTree=function(n){n.data=this,this.treeNode=n;var a=this.getRanges();if(a&&a.length)for(var u=0;u<a.length;u++){var p=a[u],y=new Pt;n.addNode(y),this._parseTreeNode(y,p)}return V.generateTreeNodeIds(n),n},e.prototype.spansTime=function(n){var a=this.getDuration();return!!(a&&n>=a.start&&n<=a.end)},e.prototype._parseTreeNode=function(n,a){n.label=a.getLabel().getValue(this.options.locale),n.data=a,n.data.type=V.normaliseType(gt.RANGE),a.treeNode=n;var u=a.getRanges();if(u&&u.length)for(var p=0;p<u.length;p++){var y=u[p],C=y.getBehavior();if(C!==wi.Behavior.NO_NAV){var L=new Pt;n.addNode(L),this._parseTreeNode(L,y)}}},e}(dt);var us=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fr=function(i){us(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getFormat=function(){return this.getProperty("format")},e}(dt);var Te=yt(Mt());var fs=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hn=function(i){fs(e,i);function e(n,a){var u=i.call(this,n,a)||this;return u.items=[],u._thumbnails=null,u}return e.prototype.getCanvases=function(){if(this.items.length)return this.items;var n=this.__jsonld.canvases||this.__jsonld.elements;if(n)for(var a=0;a<n.length;a++){var u=n[a],p=new Ee(u,this.options);p.index=a,this.items.push(p)}else if(this.__jsonld)for(var a=0;a<this.__jsonld.length;a++){var u=this.__jsonld[a],p=new Ee(u,this.options);p.index=a,this.items.push(p)}return this.items},e.prototype.getCanvasById=function(n){for(var a=0;a<this.getTotalCanvases();a++){var u=this.getCanvasByIndex(a),p=V.normaliseUrl(u.id);if(V.normaliseUrl(n)===p)return u}return null},e.prototype.getCanvasByIndex=function(n){return this.getCanvases()[n]},e.prototype.getCanvasIndexById=function(n){for(var a=0;a<this.getTotalCanvases();a++){var u=this.getCanvasByIndex(a);if(u.id===n)return a}return null},e.prototype.getCanvasIndexByLabel=function(n,a){n=n.trim(),isNaN(n)||(n=parseInt(n,10).toString(),a&&(n+="r"));for(var u=/(\d*)\D+(\d*)/,p,y,C,L,I,R=0;R<this.getTotalCanvases();R++){var M=this.getCanvasByIndex(R);if(M.getLabel().getValue(this.options.locale)===n)return R;if(p=u.exec(n),!!p&&(L=p[1],I=p[2],!!I&&(C="^"+L+"\\D+"+I+"$",y=new RegExp(C),y.test(M.getLabel().toString()))))return R}return-1},e.prototype.getLastCanvasLabel=function(n){for(var a=this.getTotalCanvases()-1;a>=0;a--){var u=this.getCanvasByIndex(a),p=u.getLabel().getValue(this.options.locale);if(n){var y=/^[a-zA-Z0-9]*$/;if(y.test(p))return p}else if(p)return p}return this.options.defaultLabel},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getNextPageIndex=function(n,a){var u;if(a){var p=this.getPagedIndices(n),y=this.getViewingDirection();y&&y===Te.ViewingDirection.RIGHT_TO_LEFT?u=p[0]+1:u=p[p.length-1]+1}else u=n+1;return u>this.getLastPageIndex()?-1:u},e.prototype.getPagedIndices=function(n,a){var u=[];if(!a)u.push(n);else{this.isFirstCanvas(n)||this.isLastCanvas(n)?u=[n]:n%2?u=[n,n+1]:u=[n-1,n];var p=this.getViewingDirection();p&&p===Te.ViewingDirection.RIGHT_TO_LEFT&&(u=u.reverse())}return u},e.prototype.getPrevPageIndex=function(n,a){var u;if(a){var p=this.getPagedIndices(n),y=this.getViewingDirection();y&&y===Te.ViewingDirection.RIGHT_TO_LEFT?u=p[p.length-1]-1:u=p[0]-1}else u=n-1;return u},e.prototype.getStartCanvasIndex=function(){var n=this.getStartCanvas();if(n)for(var a=0;a<this.getTotalCanvases();a++){var u=this.getCanvasByIndex(a);if(u.id===n)return a}return 0},e.prototype.getThumbs=function(n,a){for(var u=[],p=this.getTotalCanvases(),y=0;y<p;y++){var C=this.getCanvasByIndex(y),L=new Ri(n,C);u.push(L)}return u},e.prototype.getThumbnails=function(){if(this._thumbnails!=null)return this._thumbnails;this._thumbnails=[];for(var n=this.getCanvases(),a=0;a<n.length;a++){var u=n[a].getThumbnail();u&&this._thumbnails.push(u)}return this._thumbnails},e.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},e.prototype.getTotalCanvases=function(){return this.getCanvases().length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.isCanvasIndexOutOfRange=function(n){return n>this.getTotalCanvases()-1},e.prototype.isFirstCanvas=function(n){return n===0},e.prototype.isLastCanvas=function(n){return n===this.getTotalCanvases()-1},e.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},e.prototype.isPagingEnabled=function(){var n=this.getViewingHint();return n?n===Te.ViewingHint.PAGED:!1},e.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},e}(dt);var nn=function(){function i(){}return i.parse=function(e,n){return typeof e=="string"&&(e=JSON.parse(e)),this.parseJson(e,n)},i.parseJson=function(e,n){var a;if(n&&n.navDate&&!isNaN(n.navDate.getTime())&&(e.navDate=n.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":a=this.parseCollection(e,n);break;case"sc:Manifest":a=this.parseManifest(e,n);break;default:return null}else switch(e.type){case"Collection":a=this.parseCollection(e,n);break;case"Manifest":a=this.parseManifest(e,n);break;default:return null}return a.isLoaded=!0,a},i.parseCollection=function(e,n){var a=new Si(e,n);return n?(a.index=n.index||0,n.resource&&(a.parentCollection=n.resource.parentCollection)):a.index=0,this.parseCollections(a,n),this.parseManifests(a,n),this.parseItems(a,n),a},i.parseCollections=function(e,n){var a;if(e.__jsonld.collections?a=e.__jsonld.collections:e.__jsonld.items&&(a=e.__jsonld.items.filter(function(y){return y.type.toLowerCase()==="collection"})),a)for(var u=0;u<a.length;u++){n&&(n.index=u);var p=this.parseCollection(a[u],n);p.index=u,p.parentCollection=e,e.items.push(p)}},i.parseManifest=function(e,n){var a=new Li(e,n);return a},i.parseManifests=function(e,n){var a;if(e.__jsonld.manifests?a=e.__jsonld.manifests:e.__jsonld.items&&(a=e.__jsonld.items.filter(function(y){return y.type.toLowerCase()==="manifest"})),a)for(var u=0;u<a.length;u++){var p=this.parseManifest(a[u],n);p.index=u,p.parentCollection=e,e.items.push(p)}},i.parseItem=function(e,n){if(e["@type"]){if(e["@type"].toLowerCase()==="sc:manifest")return this.parseManifest(e,n);if(e["@type"].toLowerCase()==="sc:collection")return this.parseCollection(e,n)}else if(e.type){if(e.type.toLowerCase()==="manifest")return this.parseManifest(e,n);if(e.type.toLowerCase()==="collection")return this.parseCollection(e,n)}return null},i.parseItems=function(e,n){var a=e.__jsonld.members||e.__jsonld.items;if(a)for(var u=function(L){n&&(n.index=L);var I=p.parseItem(a[L],n);if(!I)return{value:void 0};if(e.items.filter(function(R){return R.id===I.id})[0])return"continue";I.index=L,I.parentCollection=e,e.items.push(I)},p=this,y=0;y<a.length;y++){var C=u(y);if(typeof C=="object")return C.value}},i}();var ls=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vn=function(i){ls(e,i);function e(n,a){return i.call(this,n,a)||this}return e.prototype.getProfile=function(){var n=this.getProperty("profile");return n||(n=this.getProperty("dcterms:conformsTo")),Array.isArray(n)?n[0]:n},e.prototype.getConfirmLabel=function(){return V.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},e.prototype.getDescription=function(){return V.getLocalisedValue(this.getProperty("description"),this.options.locale)},e.prototype.getFailureDescription=function(){return V.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},e.prototype.getFailureHeader=function(){return V.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},e.prototype.getHeader=function(){return V.getLocalisedValue(this.getProperty("header"),this.options.locale)},e.prototype.getServiceLabel=function(){return V.getLocalisedValue(this.getProperty("label"),this.options.locale)},e.prototype.getInfoUri=function(){var n=this.id;return n.endsWith("/")||(n+="/"),n+="info.json",n},e}(dt);var Oi=function(){function i(e,n){this.width=e,this.height=n}return i}();var Ce;(function(i){i[i.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",i[i.FORBIDDEN=2]="FORBIDDEN",i[i.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",i[i.RESTRICTED=4]="RESTRICTED"})(Ce||(Ce={}));var Ri=function(){function i(e,n){this.data=n,this.index=n.index,this.width=e;var a=n.getHeight()/n.getWidth();a?this.height=Math.floor(this.width*a):this.height=e,this.uri=n.getCanonicalImageUri(e),this.label=n.getLabel().getValue()}return i}();var cs=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var p in u)u.hasOwnProperty(p)&&(a[p]=u[p])},i(e,n)};return function(e,n){i(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),qr=function(i){cs(e,i);function e(n,a){return i.call(this,n,a)||this}return e}(me);var Pt=function(){function i(e,n){this.label=e,this.data=n||{},this.nodes=[]}return i.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},i.prototype.isCollection=function(){return this.data.type===V.normaliseType(gt.COLLECTION)},i.prototype.isManifest=function(){return this.data.type===V.normaliseType(gt.MANIFEST)},i.prototype.isRange=function(){return this.data.type===V.normaliseType(gt.RANGE)},i}();var gt;(function(i){i.COLLECTION="collection",i.MANIFEST="manifest",i.RANGE="range"})(gt||(gt={}));var F=yt(Mt()),mt=yt(Di()),uf=yt(Ui()),qn=function(i,e,n,a){function u(p){return p instanceof n?p:new n(function(y){y(p)})}return new(n||(n=Promise))(function(p,y){function C(R){try{I(a.next(R))}catch(M){y(M)}}function L(R){try{I(a.throw(R))}catch(M){y(M)}}function I(R){R.done?p(R.value):u(R.value).then(C,L)}I((a=a.apply(i,e||[])).next())})},kn=function(i,e){var n={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},a,u,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(I){return function(R){return L([I,R])}}function L(I){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,u&&(p=I[0]&2?u.return:I[0]?u.throw||((p=u.return)&&p.call(u),0):u.next)&&!(p=p.call(u,I[1])).done)return p;switch(u=0,p&&(I=[I[0]&2,p.value]),I[0]){case 0:case 1:p=I;break;case 4:return n.label++,{value:I[1],done:!1};case 5:n.label++,u=I[1],I=[0];continue;case 7:I=n.ops.pop(),n.trys.pop();continue;default:if(p=n.trys,!(p=p.length>0&&p[p.length-1])&&(I[0]===6||I[0]===2)){n=0;continue}if(I[0]===3&&(!p||I[1]>p[0]&&I[1]<p[3])){n.label=I[1];break}if(I[0]===6&&n.label<p[1]){n.label=p[1],p=I;break}if(p&&n.label<p[2]){n.label=p[2],n.ops.push(I);break}p[2]&&n.ops.pop(),n.trys.pop();continue}I=e.call(i,n)}catch(R){I=[6,R],u=0}finally{a=p=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},V=function(){function i(){}return i.getMediaType=function(e){return e=e.toLowerCase(),e=e.split(";")[0],e.trim()},i.getImageQuality=function(e){return e===F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===F.ServiceProfile.IMAGE_1_LEVEL_1||e===F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===F.ServiceProfile.IMAGE_1_LEVEL_2||e===F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},i.getInexactLocale=function(e){return e.indexOf("-")!==-1?e.substr(0,e.indexOf("-")):e},i.getLocalisedValue=function(e,n){if(!Array.isArray(e))return e;for(var a=0;a<e.length;a++){var u=e[a],p=u["@language"];if(n===p)return u["@value"]}for(var y=n.substr(0,n.indexOf("-")),a=0;a<e.length;a++){var C=e[a],L=C["@language"];if(L===y)return C["@value"]}return null},i.generateTreeNodeIds=function(e,n){n===void 0&&(n=0);var a;e.parentNode?a=e.parentNode.id+"-"+n:a="0",e.id=a;for(var u=0;u<e.nodes.length;u++){var p=e.nodes[u];i.generateTreeNodeIds(p,u)}},i.normaliseType=function(e){if(e=(e||"").toLowerCase(),e.indexOf(":")!==-1){var n=e.split(":");return n[1]}return e},i.normaliseUrl=function(e){return e=e.substr(e.indexOf("://")),e.indexOf("#")!==-1&&(e=e.split("#")[0]),e},i.normalisedUrlsMatch=function(e,n){return i.normaliseUrl(e)===i.normaliseUrl(n)},i.isImageProfile=function(e){return!!(i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},i.isLevel0ImageProfile=function(e){return!!(i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_LEVEL_0)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},i.isLevel1ImageProfile=function(e){return!!(i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_LEVEL_1)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},i.isLevel2ImageProfile=function(e){return!!(i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_LEVEL_2)||i.normalisedUrlsMatch(e,F.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},i.parseManifest=function(e,n){return nn.parse(e,n)},i.checkStatus=function(e){if(e.ok)return e;var n=new Error(e.statusText);return n.response=e,Promise.reject(n)},i.loadManifest=function(e){return new Promise(function(n,a){fetch(e).then(i.checkStatus).then(function(u){return u.json()}).then(function(u){n(u)}).catch(function(u){a()})})},i.loadExternalResourcesAuth1=function(e,n,a,u,p,y,C,L){return new Promise(function(I,R){var M=e.map(function(H){return i.loadExternalResourceAuth1(H,n,a,u,p,y,C,L)});Promise.all(M).then(function(){I(e)}).catch(function(H){R(H)})})},i.loadExternalResourceAuth1=function(e,n,a,u,p,y,C,L){return qn(this,void 0,void 0,function(){var I;return kn(this,function(R){switch(R.label){case 0:return[4,u(e)];case 1:return I=R.sent(),I?[4,e.getData(I)]:[3,6];case 2:return R.sent(),e.status!==mt.OK?[3,3]:[2,e];case 3:return[4,i.doAuthChain(e,n,a,p,y,C,L)];case 4:R.sent(),R.label=5;case 5:if(e.status===mt.OK||e.status===mt.MOVED_TEMPORARILY)return[2,e];throw i.createAuthorizationFailedError();case 6:return[4,e.getData()];case 7:return R.sent(),e.status===mt.MOVED_TEMPORARILY||e.status===mt.UNAUTHORIZED?[4,i.doAuthChain(e,n,a,p,y,C,L)]:[3,9];case 8:R.sent(),R.label=9;case 9:if(e.status===mt.OK||e.status===mt.MOVED_TEMPORARILY)return[2,e];throw i.createAuthorizationFailedError()}})})},i.doAuthChain=function(e,n,a,u,p,y,C){return qn(this,void 0,void 0,function(){var L,I,R,M,H,U,P,tt,tt;return kn(this,function(B){switch(B.label){case 0:return e.isAccessControlled()?(L=e.externalService,L&&(L.options=e.options),I=e.kioskService,I&&(I.options=e.options),R=e.clickThroughService,R&&(R.options=e.options),M=e.loginService,M&&(M.options=e.options),!e.isResponseHandled&&e.status===mt.MOVED_TEMPORARILY?[4,y(e)]:[3,2]):[2,e];case 1:return B.sent(),[2,e];case 2:return H=null,U=null,H=L,H?(U=H,[4,i.attemptResourceWithToken(e,a,H)]):[3,4];case 3:return B.sent(),[2,e];case 4:return H=I,H?(U=H,P=n(H),P?[4,u(P)]:[3,7]):[3,7];case 5:return B.sent(),[4,i.attemptResourceWithToken(e,a,H)];case 6:return B.sent(),[2,e];case 7:return H=R,H?(U=H,[4,p(e,H)]):[3,11];case 8:return tt=B.sent(),tt?[4,u(tt)]:[3,11];case 9:return B.sent(),[4,i.attemptResourceWithToken(e,a,H)];case 10:return B.sent(),[2,e];case 11:return H=M,H?(U=H,[4,p(e,H)]):[3,15];case 12:return tt=B.sent(),tt?[4,u(tt)]:[3,15];case 13:return B.sent(),[4,i.attemptResourceWithToken(e,a,H)];case 14:return B.sent(),[2,e];case 15:return U&&C(e,U),[2]}})})},i.attemptResourceWithToken=function(e,n,a){return qn(this,void 0,void 0,function(){var u,p;return kn(this,function(y){switch(y.label){case 0:return u=a.getService(F.ServiceProfile.AUTH_1_TOKEN),u?[4,n(e,u)]:[3,3];case 1:return p=y.sent(),p&&p.accessToken?[4,e.getData(p)]:[3,3];case 2:return y.sent(),[2,e];case 3:return[2]}})})},i.loadExternalResourcesAuth09=function(e,n,a,u,p,y,C,L,I,R){return new Promise(function(M,H){var U=e.map(function(P){return i.loadExternalResourceAuth09(P,n,a,u,p,y,C,L,I,R)});Promise.all(U).then(function(){M(e)}).catch(function(P){H(P)})})},i.loadExternalResourceAuth09=function(e,n,a,u,p,y,C,L,I,R){return new Promise(function(M,H){R&&R.pessimisticAccessControl?e.getData().then(function(){e.isAccessControlled()?e.clickThroughService?(M(a(e)),M(u(e))):p(e).then(function(){y(e,!0).then(function(U){e.getData(U).then(function(){M(I(e))}).catch(function(P){H(i.createInternalServerError(P))})}).catch(function(U){H(i.createInternalServerError(U))})}).catch(function(U){H(i.createInternalServerError(U))}):M(e)}).catch(function(U){H(i.createInternalServerError(U))}):L(e,n).then(function(U){U?e.getData(U).then(function(){e.status===mt.OK?M(I(e)):i.authorize(e,n,a,u,p,y,C,L).then(function(){M(I(e))}).catch(function(P){H(i.createAuthorizationFailedError())})}).catch(function(P){H(i.createAuthorizationFailedError())}):i.authorize(e,n,a,u,p,y,C,L).then(function(){M(I(e))}).catch(function(P){H(i.createAuthorizationFailedError())})}).catch(function(U){H(i.createAuthorizationFailedError())})})},i.createError=function(e,n){var a=new Error;return a.message=n,a.name=String(e),a},i.createAuthorizationFailedError=function(){return i.createError(Ce.AUTHORIZATION_FAILED,"Authorization failed")},i.createRestrictedError=function(){return i.createError(Ce.RESTRICTED,"Restricted")},i.createInternalServerError=function(e){return i.createError(Ce.INTERNAL_SERVER_ERROR,e)},i.authorize=function(e,n,a,u,p,y,C,L){return new Promise(function(I,R){e.getData().then(function(){e.isAccessControlled()?L(e,n).then(function(M){M?e.getData(M).then(function(){e.status===mt.OK?I(e):i.showAuthInteraction(e,n,a,u,p,y,C,I,R)}).catch(function(H){R(i.createInternalServerError(H))}):y(e,!1).then(function(H){H?C(e,H,n).then(function(){e.getData(H).then(function(){e.status===mt.OK?I(e):i.showAuthInteraction(e,n,a,u,p,y,C,I,R)}).catch(function(U){R(i.createInternalServerError(U))})}).catch(function(U){R(i.createInternalServerError(U))}):i.showAuthInteraction(e,n,a,u,p,y,C,I,R)})}).catch(function(M){R(i.createInternalServerError(M))}):I(e)})})},i.showAuthInteraction=function(e,n,a,u,p,y,C,L,I){e.status===mt.MOVED_TEMPORARILY&&!e.isResponseHandled?L(e):e.clickThroughService&&!e.isResponseHandled?a(e).then(function(){y(e,!0).then(function(R){C(e,R,n).then(function(){e.getData(R).then(function(){L(e)}).catch(function(M){I(i.createInternalServerError(M))})}).catch(function(M){I(i.createInternalServerError(M))})}).catch(function(R){I(i.createInternalServerError(R))})}):p(e).then(function(){y(e,!0).then(function(R){C(e,R,n).then(function(){e.getData(R).then(function(){L(e)}).catch(function(M){I(i.createInternalServerError(M))})}).catch(function(M){I(i.createInternalServerError(M))})}).catch(function(R){I(i.createInternalServerError(R))})})},i.getService=function(e,n){for(var a=this.getServices(e),u=0;u<a.length;u++){var p=a[u];if(p.getProfile()===n)return p}return null},i.getResourceById=function(e,n){return i.traverseAndFind(e.__jsonld,"@id",n)},i.traverseAndFind=function(e,n,a){if(e.hasOwnProperty(n)&&e[n]===a)return e;for(var u=0;u<Object.keys(e).length;u++)if(typeof e[Object.keys(e)[u]]=="object"){var p=i.traverseAndFind(e[Object.keys(e)[u]],n,a);if(p!=null)return p}},i.getServices=function(e){var n;e.__jsonld?n=e.__jsonld.service:n=e.service;var a=[];if(!n)return a;Array.isArray(n)||(n=[n]);for(var u=0;u<n.length;u++){var p=n[u];if(typeof p=="string"){var y=this.getResourceById(e.options.resource,p);y&&a.push(new Vn(y.__jsonld||y,e.options))}else a.push(new Vn(p,e.options))}return a},i.getTemporalComponent=function(e){var n=/t=([^&]+)/g.exec(e),a=null;return n&&n[1]&&(a=n[1].split(",")),a},i}();var ji=function(){function i(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return i.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},i.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},i.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},i.prototype.getAll=function(){return this.canvases.concat(this.ranges)},i.prototype.getAllSelectedCanvases=function(){return this.canvases.filter(function(e){return e.multiSelected})},i.prototype.getAllSelectedRanges=function(){return this.ranges.filter(function(e){return e.multiSelected})},i.prototype.getCanvasById=function(e){return this.canvases.filter(function(n){return V.normaliseUrl(n.id)===V.normaliseUrl(e)})[0]},i.prototype.getCanvasesByIds=function(e){for(var n=[],a=0;a<e.length;a++){var u=e[a];n.push(this.getCanvasById(u))}return n},i.prototype.getRangeCanvases=function(e){var n=e.getCanvasIds();return this.getCanvasesByIds(n)},i.prototype.selectAll=function(e){this.selectRanges(this.ranges,e),this.selectCanvases(this.canvases,e)},i.prototype.selectCanvas=function(e,n){var a=this.canvases.filter(function(u){return u.id===e.id})[0];a.multiSelected=n},i.prototype.selectAllCanvases=function(e){this.selectCanvases(this.canvases,e)},i.prototype.selectCanvases=function(e,n){for(var a=0;a<e.length;a++){var u=e[a];u.multiSelected=n}},i.prototype.selectRange=function(e,n){var a=this.ranges.filter(function(p){return p.id===e.id})[0];a.multiSelected=n;var u=this.getRangeCanvases(a);this.selectCanvases(u,n)},i.prototype.selectAllRanges=function(e){this.selectRanges(this.ranges,e)},i.prototype.selectRanges=function(e,n){for(var a=0;a<e.length;a++){var u=e[a];u.multiSelected=n;var p=this.getCanvasesByIds(u.getCanvasIds());this.selectCanvases(p,n)}},i.prototype.setEnabled=function(e){this.isEnabled=e;for(var n=this.getAll(),a=0;a<n.length;a++){var u=n[a];u.multiSelectEnabled=this.isEnabled,e||(u.multiSelected=!1)}},i}();var Ae=function(){function i(e,n){this.items=[],this.resource=e,this.label=n}return i.prototype.addItem=function(e){this.items.push(e)},i.prototype.addMetadata=function(e,n){n===void 0&&(n=!1);for(var a=0;a<e.length;a++){var u=e[a];u.isRootLevel=n,this.addItem(u)}},i}();var Ve;(function(i){i.DATE="date",i.NONE="none"})(Ve||(Ve={}));var Et=yt(Mt());var rt=function(){function i(){}return i.manifestNotLoaded="Manifest has not loaded yet",i}();var sn=function(){function i(e){this.options=e,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return i.prototype.getAutoCompleteService=function(){var e=this.getSearchService(),n=null;return e&&(n=e.getService(Et.ServiceProfile.SEARCH_0_AUTO_COMPLETE),n||(n=e.getService(Et.ServiceProfile.SEARCH_1_AUTO_COMPLETE))),n},i.prototype.getAttribution=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.manifest.getAttribution();return e?e.getValue(this.options.locale):null},i.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},i.prototype.getCanvasById=function(e){return this.getCurrentSequence().getCanvasById(e)},i.prototype.getCanvasesById=function(e){for(var n=[],a=0;a<e.length;a++){var u=e[a],p=this.getCanvasById(u);p&&n.push(p)}return n},i.prototype.getCanvasByIndex=function(e){return this.getCurrentSequence().getCanvasByIndex(e)},i.prototype.getCanvasIndexById=function(e){return this.getCurrentSequence().getCanvasIndexById(e)},i.prototype.getCanvasIndexByLabel=function(e){var n=this.getManifestType()===Qt.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(e,n)},i.prototype.getCanvasRange=function(e,n){var a=this.getCanvasRanges(e);if(n){for(var u=0;u<a.length;u++){var p=a[u];if(p.path===n)return p}return null}else return a[0]},i.prototype.getCanvasRanges=function(e){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return e.ranges||(e.ranges=this.manifest.getAllRanges().filter(function(n){return n.getCanvasIds().some(function(a){return V.normaliseUrl(a)===V.normaliseUrl(e.id)})})),e.ranges},i.prototype.getCollectionIndex=function(e){if(!(e.parentCollection&&!e.parentCollection.parentCollection)&&e.parentCollection)return e.parentCollection.index},i.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},i.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},i.prototype.getDescription=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.manifest.getDescription();return e?e.getValue(this.options.locale):null},i.prototype.getLabel=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.manifest.getLabel();return e?e.getValue(this.options.locale):null},i.prototype.getLastCanvasLabel=function(e){return this.getCurrentSequence().getLastCanvasLabel(e)},i.prototype.getFirstPageIndex=function(){return 0},i.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},i.prototype.getLicense=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getLicense()},i.prototype.getLogo=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getLogo()},i.prototype.getManifestType=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.manifest.getManifestType();return e===Qt.EMPTY&&(e=Qt.MONOGRAPH),e},i.prototype.getMetadata=function(e){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var n=[],a=this.manifest.getMetadata(),u=new Ae(this.manifest),p=this.options.locale;if(a&&a.length&&u.addMetadata(a,!0),this.manifest.getDescription().length){var y=new kt(p);y.label=new _t([new Xt("description",p)]),y.value=this.manifest.getDescription(),y.isRootLevel=!0,u.addItem(y)}if(this.manifest.getAttribution().length){var y=new kt(p);y.label=new _t([new Xt("attribution",p)]),y.value=this.manifest.getAttribution(),y.isRootLevel=!0,u.addItem(y)}var C=this.manifest.getLicense();if(C){var L={label:"license",value:e&&e.licenseFormatter?e.licenseFormatter.format(C):C},y=new kt(p);y.parse(L),y.isRootLevel=!0,u.addItem(y)}if(this.manifest.getLogo()){var L={label:"logo",value:'<img alt="logo" src="'+this.manifest.getLogo()+'"/>'},y=new kt(p);y.parse(L),y.isRootLevel=!0,u.addItem(y)}return n.push(u),e?this._parseMetadataOptions(e,n):n},i.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.manifest.getRequiredStatement();return e?{label:e.label?e.getLabel():"",value:e.value&&e.value.length?e.getValue():""}:null},i.prototype._parseMetadataOptions=function(e,n){var a=this.getCurrentSequence(),u=a.getMetadata();if(u&&u.length){var p=new Ae(a);p.addMetadata(u),n.push(p)}if(e.range){var y=this._getRangeMetadata([],e.range);y=y.reverse(),n=n.concat(y)}if(e.canvases&&e.canvases.length)for(var C=0;C<e.canvases.length;C++){var L=e.canvases[C],I=L.getMetadata();if(I&&I.length){var R=new Ae(L);R.addMetadata(L.getMetadata()),n.push(R)}for(var M=L.getImages(),H=0;H<M.length;H++){var U=M[H],P=U.getMetadata();if(P&&P.length){var tt=new Ae(U);tt.addMetadata(P),n.push(tt)}}}return n},i.prototype._getRangeMetadata=function(e,n){var a=n.getMetadata();if(a&&a.length){var u=new Ae(n);u.addMetadata(a),e.push(u)}else if(n.parentRange)return this._getRangeMetadata(e,n.parentRange);return e},i.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new ji,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},i.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},i.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getPosterCanvas()},i.prototype.getAccompanyingCanvas=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getAccompanyingCanvas()},i.prototype.getPosterImage=function(){var e=this.getPosterCanvas();if(e){var n=e.getContent();if(n&&n.length){var a=n[0],u=a.getBody();return u[0].id}}return null},i.prototype.getAccompanyingCanvasImage=function(){var e=this.getAccompanyingCanvas();if(e){var n=e.getContent();if(n&&n.length){var a=n[0],u=a.getBody();return u[0].id}}return null},i.prototype.getPreviousRange=function(e){var n=null;if(e?n=e:n=this.getCurrentRange(),n){var a=this.getFlattenedTree();if(a)for(var u=0;u<a.length;u++){var p=a[u];if(p&&p.data.id===n.id){for(;u>0;){u--;var y=a[u];return y.data}break}}}return null},i.prototype.getNextRange=function(e){var n=null;if(e?n=e:n=this.getCurrentRange(),n){var a=this.getFlattenedTree();if(a)for(var u=0;u<a.length;u++){var p=a[u];if(p&&p.data.id===n.id){for(;u<a.length-1;){u++;var y=a[u];if(y.data.canvases&&y.data.canvases.length)return y.data}break}}}return null},i.prototype.getFlattenedTree=function(e){var n=null;return e?n=e:n=this.getTree(),n?this._flattenTree(n,"nodes"):null},i.prototype._flattenTree=function(e,n){var a=this,u=[e];return e[n]&&e[n].length>0?u.concat(e[n].map(function(p){return a._flattenTree(p,n)}).reduce(function(p,y){return p.concat(y)},[])):u},i.prototype.getRanges=function(){return this.manifest.getAllRanges()},i.prototype.getRangeByPath=function(e){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getRangeByPath(e)},i.prototype.getRangeById=function(e){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getRangeById(e)},i.prototype.getRangeCanvases=function(e){var n=e.getCanvasIds();return this.getCanvasesById(n)},i.prototype.getRelated=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getRelated()},i.prototype.getSearchService=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.manifest.getService(Et.ServiceProfile.SEARCH_0);return e||(e=this.manifest.getService(Et.ServiceProfile.SEARCH_1)),e},i.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getSeeAlso()},i.prototype.getSequenceByIndex=function(e){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getSequenceByIndex(e)},i.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=null,n=this.manifest.getService(Et.ServiceProfile.SHARE_EXTENSIONS);return n&&(n.length&&(n=n[0]),e=n.__jsonld.shareUrl),e},i.prototype._getSortedTreeNodesByDate=function(e,n){var a=this.getFlattenedTree(n);if(a){var u=a.filter(function(p){return p.data.type===gt.MANIFEST});this.createDecadeNodes(e,a),this.sortDecadeNodes(e),this.createYearNodes(e,a),this.sortYearNodes(e),this.createMonthNodes(e,u),this.sortMonthNodes(e),this.createDateNodes(e,u),this.pruneDecadeNodes(e)}},i.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},i.prototype.getThumbs=function(e,n){return this.getCurrentSequence().getThumbs(e,n)},i.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getTopRanges()},i.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},i.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.getTrackingLabel()},i.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},i.prototype.getTree=function(e,n){if(e===void 0&&(e=0),n===void 0&&(n=Ve.NONE),!this.iiifResource)return null;var a;if(this.iiifResource.isCollection())a=this.iiifResource.getDefaultTree();else{var u=this._getTopRanges(),p=new Pt;if(p.label="root",p.data=this.iiifResource,u.length){var y=u[e];a=y.getTree(p)}else return p}var C=new Pt;switch(n.toString()){case Ve.DATE.toString():if(this.treeHasNavDates(a))return this._getSortedTreeNodesByDate(C,a),C;break}return a},i.prototype.treeHasNavDates=function(e){var n=this.getFlattenedTree(e);return n?n.some(function(a){return!isNaN(a.navDate)}):!1},i.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.getCurrentSequence().getViewingDirection();return e||(e=this.manifest.getViewingDirection()),e},i.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.getCurrentSequence().getViewingHint();return e||(e=this.manifest.getViewingHint()),e},i.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return!!this.manifest.parentCollection},i.prototype.hasRelatedPage=function(){var e=this.getRelated();return e?(e.length&&(e=e[0]),e.format==="text/html"):!1},i.prototype.hasResources=function(){var e=this.getCurrentCanvas();return e.getResources().length>0},i.prototype.isBottomToTop=function(){var e=this.getViewingDirection();return e?e===Et.ViewingDirection.BOTTOM_TO_TOP:!1},i.prototype.isCanvasIndexOutOfRange=function(e){return this.getCurrentSequence().isCanvasIndexOutOfRange(e)},i.prototype.isContinuous=function(){var e=this.getViewingHint();return e?e===Et.ViewingHint.CONTINUOUS:!1},i.prototype.isFirstCanvas=function(e){return typeof e!="undefined"?this.getCurrentSequence().isFirstCanvas(e):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},i.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},i.prototype.isLastCanvas=function(e){return typeof e!="undefined"?this.getCurrentSequence().isLastCanvas(e):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},i.prototype.isLeftToRight=function(){var e=this.getViewingDirection();return e?e===Et.ViewingDirection.LEFT_TO_RIGHT:!1},i.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},i.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.isMultiSequence()},i.prototype.isPaged=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var e=this.getViewingHint();return e?e===Et.ViewingHint.PAGED:this.manifest.isPagingEnabled()},i.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},i.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(rt.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},i.prototype.isRightToLeft=function(){var e=this.getViewingDirection();return e?e===Et.ViewingDirection.RIGHT_TO_LEFT:!1},i.prototype.isTopToBottom=function(){var e=this.getViewingDirection();return e?e===Et.ViewingDirection.TOP_TO_BOTTOM:!1},i.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},i.prototype.isUIEnabled=function(e){if(!this.manifest)throw new Error(rt.manifestNotLoaded);var n=this.manifest.getService(Et.ServiceProfile.UI_EXTENSIONS);if(n){var a=n.getProperty("disableUI");if(a&&(a.indexOf(e)!==-1||a.indexOf(e.toLowerCase())!==-1))return!1}return!0},i.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},i.prototype.createDateNodes=function(e,n){for(var a=0;a<n.length;a++){var u=n[a],p=this.getNodeYear(u),y=this.getNodeMonth(u),C=new Pt;C.id=u.id,C.label=this.getNodeDisplayDate(u),C.data=u.data,C.data.type=gt.MANIFEST,C.data.year=p,C.data.month=y;var L=this.getDecadeNode(e,p);if(L){var I=this.getYearNode(L,p);if(I){var R=this.getMonthNode(I,y);R&&R.addNode(C)}}}},i.prototype.createDecadeNodes=function(e,n){for(var a=0;a<n.length;a++){var u=n[a];if(!!u.navDate){var p=this.getNodeYear(u),y=Number(p.toString().substr(0,3)+"9");if(!this.getDecadeNode(e,p)){var C=new Pt;C.label=p+" - "+y,C.navDate=u.navDate,C.data.startYear=p,C.data.endYear=y,e.addNode(C)}}}},i.prototype.createMonthNodes=function(e,n){for(var a=0;a<n.length;a++){var u=n[a];if(!!u.navDate){var p=this.getNodeYear(u),y=this.getNodeMonth(u),C=this.getDecadeNode(e,p),L=null;if(C&&(L=this.getYearNode(C,p)),C&&L&&!this.getMonthNode(L,y)){var I=new Pt;I.label=this.getNodeDisplayMonth(u),I.navDate=u.navDate,I.data.year=p,I.data.month=y,L.addNode(I)}}}},i.prototype.createYearNodes=function(e,n){for(var a=0;a<n.length;a++){var u=n[a];if(!!u.navDate){var p=this.getNodeYear(u),y=this.getDecadeNode(e,p);if(y&&!this.getYearNode(y,p)){var C=new Pt;C.label=p.toString(),C.navDate=u.navDate,C.data.year=p,y.addNode(C)}}}},i.prototype.getDecadeNode=function(e,n){for(var a=0;a<e.nodes.length;a++){var u=e.nodes[a];if(n>=u.data.startYear&&n<=u.data.endYear)return u}return null},i.prototype.getMonthNode=function(e,n){for(var a=0;a<e.nodes.length;a++){var u=e.nodes[a];if(n===this.getNodeMonth(u))return u}return null},i.prototype.getNodeDisplayDate=function(e){return e.navDate.toDateString()},i.prototype.getNodeDisplayMonth=function(e){var n=["January","February","March","April","May","June","July","August","September","October","November","December"];return n[e.navDate.getMonth()]},i.prototype.getNodeMonth=function(e){return e.navDate.getMonth()},i.prototype.getNodeYear=function(e){return e.navDate.getFullYear()},i.prototype.getYearNode=function(e,n){for(var a=0;a<e.nodes.length;a++){var u=e.nodes[a];if(n===this.getNodeYear(u))return u}return null},i.prototype.pruneDecadeNodes=function(e){for(var n=[],a=0;a<e.nodes.length;a++){var u=e.nodes[a];u.nodes.length||n.push(u)}for(var p=0;p<n.length;p++){var y=n[p],C=e.nodes.indexOf(y);C>-1&&e.nodes.splice(C,1)}},i.prototype.sortDecadeNodes=function(e){e.nodes=e.nodes.sort(function(n,a){return n.data.startYear-a.data.startYear})},i.prototype.sortMonthNodes=function(e){for(var n=this,a=0;a<e.nodes.length;a++)for(var u=e.nodes[a],p=0;p<u.nodes.length;p++){var y=u.nodes[p];y.nodes=y.nodes.sort(function(C,L){return n.getNodeMonth(C)-n.getNodeMonth(L)})}},i.prototype.sortYearNodes=function(e){for(var n=this,a=0;a<e.nodes.length;a++){var u=e.nodes[a];u.nodes=u.nodes.sort(function(p,y){return n.getNodeYear(p)-n.getNodeYear(y)})}},i}();var Hi=yt(Mt());var Vi=function(){function i(e){this._options=e,this._options.locale=this._options.locale||"en-GB"}return i.prototype.bootstrap=function(e,n){var a=this;return new Promise(function(u,p){e&&n&&(u=e,p=n),V.loadManifest(a._options.manifestUri).then(function(y){a._loaded(a,y,u,p)})})},i.prototype._loaded=function(e,n,a,u){var p=V.parseManifest(n,{locale:e._options.locale});if(p){e._options.iiifResource||(e._options.iiifResource=p);var y=e._options.collectionIndex,C=e._options.manifestIndex;if(p.getIIIFResourceType()===Hi.IIIFResourceType.COLLECTION){var L=p.getManifests(),I=p.getCollections();!L.length&&y===void 0&&(y=0),y!==void 0&&I&&I.length?p.getCollectionByIndex(y).then(function(M){M||u("Collection index not found"),M.getTotalManifests()===0&&C===0&&M.getTotalCollections()>0?(e._options.collectionIndex=0,e._options.manifestUri=M.id,e.bootstrap(a,u)):C!==void 0&&M.getManifestByIndex(C).then(function(H){e._options.manifest=H;var U=new sn(e._options);a(U)})}):p.getManifestByIndex(e._options.manifestIndex).then(function(M){e._options.manifest=M;var H=new sn(e._options);a(H)})}else{e._options.manifest=p;var R=new sn(e._options);a(R)}}else console.error("Unable to load IIIF resource")},i}();var at=yt(Mt()),Kt=yt(Fi());var Sf=function(){function i(e,n){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,e.externalResource=this,this.dataUri=this._getDataUri(e),this.index=e.index,this.authAPIVersion=n.authApiVersion,this._parseAuthServices(e),this._parseCanvasDimensions(e)}return i.prototype._getImageServiceDescriptor=function(e){for(var n=null,a=0;a<e.length;a++){var u=e[a],p=u.id;p.endsWith("/")||(p+="/"),V.isImageProfile(u.getProfile())&&(n=p+"info.json")}return n},i.prototype._getDataUri=function(e){var n=e.getContent(),a=e.getImages(),u=null;if(n&&n.length){var p=n[0],y=p.getBody();if(y.length){var C=y[0],L=C.getServices();return L.length&&(u=this._getImageServiceDescriptor(L),u)?u:y[0].id}return null}else if(a&&a.length){var I=a[0],R=I.getResource(),L=R.getServices();return L.length&&(u=this._getImageServiceDescriptor(L),u)?u:R.id}else{var M=e.getService(at.ServiceProfile.IXIF);return M?M.getInfoUri():e.id}},i.prototype._parseAuthServices=function(e){if(this.authAPIVersion===.9)this.clickThroughService=V.getService(e,at.ServiceProfile.AUTH_0_CLICK_THROUGH),this.loginService=V.getService(e,at.ServiceProfile.AUTH_0_LOGIN),this.restrictedService=V.getService(e,at.ServiceProfile.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(at.ServiceProfile.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(at.ServiceProfile.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(at.ServiceProfile.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(at.ServiceProfile.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(at.ServiceProfile.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(at.ServiceProfile.AUTH_0_TOKEN));else{if(e.isCanvas!==void 0&&e.isCanvas()){var n=e.getContent();if(n&&n.length){var a=n[0].getBody();if(a&&a.length){var u=a[0];e=u}}}this.clickThroughService=V.getService(e,at.ServiceProfile.AUTH_1_CLICK_THROUGH),this.loginService=V.getService(e,at.ServiceProfile.AUTH_1_LOGIN),this.externalService=V.getService(e,at.ServiceProfile.AUTH_1_EXTERNAL),this.kioskService=V.getService(e,at.ServiceProfile.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(at.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(at.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(at.ServiceProfile.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(at.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(at.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.loginService.getService(at.ServiceProfile.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(at.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(at.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.externalService.getService(at.ServiceProfile.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(at.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(at.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(at.ServiceProfile.AUTH_1_PROBE))}},i.prototype._parseCanvasDimensions=function(e){var n=e.getImages();if(n&&n.length){var a=n[0],u=a.getResource();this.width=u.getWidth(),this.height=u.getHeight()}else if(n=e.getContent(),n.length){var p=n[0],y=p.getBody();y.length&&(this.width=y[0].getWidth(),this.height=y[0].getHeight())}},i.prototype._parseDescriptorDimensions=function(e){e.width!==void 0&&(this.width=e.width),e.height!==void 0&&(this.height=e.height)},i.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},i.prototype.hasServiceDescriptor=function(){return this.dataUri?this.dataUri.endsWith("info.json"):!1},i.prototype.getData=function(e){var n=this;return n.data={},new Promise(function(a,u){if(!n.dataUri){u("There is no dataUri to fetch");return}if(n.probeService){n.isProbed=!0;var p=new XMLHttpRequest;p.open("GET",n.probeService.id,!0),p.withCredentials=!0,p.onload=function(){var L=JSON.parse(p.responseText),I=unescape(L.contentLocation);I!==n.dataUri?n.status=Kt.MOVED_TEMPORARILY:n.status=Kt.OK,a(n)},p.onerror=function(){n.status=p.status,a(n)},p.send()}else{var y="GET";if(!n.hasServiceDescriptor()){if(!n.isAccessControlled()){n.status=Kt.OK,a(n);return}y="HEAD"}var C=new XMLHttpRequest;C.open(y,n.dataUri,!0),e&&C.setRequestHeader("Authorization","Bearer "+e.accessToken),C.onload=function(){if(!C.responseText)n.status=Kt.OK,a(n);else{var L=JSON.parse(C.responseText),I=unescape(L["@id"]);n.data=L,n._parseAuthServices(n.data),n._parseDescriptorDimensions(n.data),I.endsWith("/info.json")&&(I=I.substr(0,I.lastIndexOf("/")));var R=n.dataUri;R&&R.endsWith("/info.json")&&(R=R.substr(0,R.lastIndexOf("/"))),I!==R&&n.loginService?n.status=Kt.MOVED_TEMPORARILY:n.status=Kt.OK,a(n)}},C.onerror=function(){n.status=C.status,C.responseText&&n._parseAuthServices(JSON.parse(C.responseText)),a(n)},C.send()}})},i}();var Nf=function(){function i(){}return i}();var Rf=function(){function i(){}return i}();var Mf=function(){function i(e,n){this.value=e,this.locale=n}return i}();var Uf=function(){function i(e){this.labels=e}return i.prototype.format=function(e){if(e.indexOf("<a")!=-1)return e;var n=this.labels[e]?this.labels[e]:e;return'<a href="'+e+'">'+n+"</a>"},i}();var Vf=function(i){return new Vi(i).bootstrap()};export{Mt as a,_s as b,Es as c,V as d,Qt as e,Oi as f,Ce as g,gt as h,Ve as i,Fi as j,Sf as k,Uf as l,Vf as m,ps as n};
/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */
