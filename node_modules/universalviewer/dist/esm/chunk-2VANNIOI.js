import{a as p}from"./chunk-JSOANTVC.js";import{a as m}from"./chunk-6USAGEM6.js";import{a as g,f as a,q as s,r as f,t as l}from"./chunk-WDDAVPLK.js";import{c as w}from"./chunk-YAXTLTJC.js";var h=class extends p{create(){this.setConfig("resourcesLeftPanel"),super.create()}};var r=w(f());var t=g(),v=class extends m{constructor(e){super(e)}create(){this.setConfig("resourcesLeftPanel"),super.create(),this.setTitle(this.content.title),this.$tabsContent=t('<div class="tabsContent"></div>'),this.$main.append(this.$tabsContent),this.$views=t('<div class="views"></div>'),this.$tabsContent.append(this.$views),this.$thumbsView=t('<div class="thumbsView"></div>'),this.$views.append(this.$thumbsView),this.$resourcesView=t('<div class="resourcesView"></div>'),this.$resources=t("<ul></ul>"),this.$resourcesView.append(this.$resources),this.$views.append(this.$resourcesView),this.thumbsView=new h(this.$thumbsView),this.dataBind()}dataBind(){this.dataBindThumbsView();let e=this.extension.helper.getCurrentCanvas().getResources();e.length===0&&this.$resourcesView.hide();for(let i=0;i<e.length;i++){let o=e[i].getResource();if(o){let u=l.getValue(o.getLabel());if(u){let c=a.simplifyMimeType(o.getFormat().toString()),b=t('<li><a href="'+o.id+'" target="_blank">'+u+" ("+c+")</li>");this.$resources.append(b)}}}}dataBindThumbsView(){if(!this.thumbsView)return;let e,i,n=this.extension.helper.getViewingDirection();n&&(n===r.ViewingDirection.LEFT_TO_RIGHT||n===r.ViewingDirection.RIGHT_TO_LEFT)?(e=this.config.options.twoColThumbWidth,i=this.config.options.twoColThumbHeight):(e=this.config.options.oneColThumbWidth,i=this.config.options.oneColThumbHeight),typeof e=="undefined"&&(e=100),typeof i=="undefined"&&(i=100),this.thumbsView.thumbs=this.extension.helper.getThumbs(e,i),this.thumbsView.thumbs.length<2&&this.$thumbsView.hide(),this.thumbsView.databind()}expandFullStart(){super.expandFullStart(),this.component.publish(s.LEFTPANEL_EXPAND_FULL_START)}expandFullFinish(){super.expandFullFinish(),this.component.publish(s.LEFTPANEL_EXPAND_FULL_FINISH)}collapseFullStart(){super.collapseFullStart(),this.component.publish(s.LEFTPANEL_COLLAPSE_FULL_START)}collapseFullFinish(){super.collapseFullFinish(),this.component.publish(s.LEFTPANEL_COLLAPSE_FULL_FINISH)}resize(){super.resize(),this.$views.height(this.$main.height()),this.$resources.height(this.$main.height())}};export{v as a};
