import{b as lt,c as mt}from"./chunk-YAXTLTJC.js";var Ht=lt(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});var oa;(function(i){i.BOOKMARKING="oa:bookmarking",i.CLASSIFYING="oa:classifying",i.COMMENTING="oa:commenting",i.DESCRIBING="oa:describing",i.EDITING="oa:editing",i.HIGHLIGHTING="oa:highlighting",i.IDENTIFYING="oa:identifying",i.LINKING="oa:linking",i.MODERATING="oa:moderating",i.PAINTING="sc:painting",i.QUESTIONING="oa:questioning",i.REPLYING="oa:replying",i.TAGGING="oa:tagging",i.TRANSCRIBING="oad:transcribing"})(oa=pt.AnnotationMotivation||(pt.AnnotationMotivation={}));var aa;(function(i){i.AUTO_ADVANCE="auto-advance",i.CONTINUOUS="continuous",i.FACING_PAGES="facing-pages",i.HIDDEN="hidden",i.INDIVIDUALS="individuals",i.MULTI_PART="multi-part",i.NO_NAV="no-nav",i.NON_PAGED="non-paged",i.PAGED="paged",i.REPEAT="repeat",i.SEQUENCE="sequence",i.THUMBNAIL_NAV="thumbnail-nav",i.TOGETHER="together",i.UNORDERED="unordered"})(aa=pt.Behavior||(pt.Behavior={}));var sa;(function(i){i.CANVAS="canvas",i.CHOICE="choice",i.OA_CHOICE="oa:choice",i.CONTENT_AS_TEXT="contentastext",i.DATASET="dataset",i.DOCUMENT="document",i.IMAGE="image",i.MODEL="model",i.MOVING_IMAGE="movingimage",i.PDF="pdf",i.PHYSICAL_OBJECT="physicalobject",i.SOUND="sound",i.TEXT="text",i.TEXTUALBODY="textualbody",i.VIDEO="video"})(sa=pt.ExternalResourceType||(pt.ExternalResourceType={}));var ua;(function(i){i.ANNOTATION="annotation",i.CANVAS="canvas",i.COLLECTION="collection",i.MANIFEST="manifest",i.RANGE="range",i.SEQUENCE="sequence"})(ua=pt.IIIFResourceType||(pt.IIIFResourceType={}));var fa;(function(i){i.AUDIO_MP4="audio/mp4",i.CORTO="application/corto",i.DICOM="application/dicom",i.DRACO="application/draco",i.EPUB="application/epub+zip",i.GIRDER="image/vnd.kitware.girder",i.GLB="model/gltf-binary",i.GLTF="model/gltf+json",i.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',i.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',i.JPG="image/jpeg",i.M3U8="application/vnd.apple.mpegurl",i.MP3="audio/mp3",i.MPEG_DASH="application/dash+xml",i.OBJ="text/plain",i.OPF="application/oebps-package+xml",i.PDF="application/pdf",i.PLY="application/ply",i.THREEJS="application/vnd.threejs+json",i.USDZ="model/vnd.usd+zip",i.VIDEO_MP4="video/mp4",i.WEBM="video/webm"})(fa=pt.MediaType||(pt.MediaType={}));var ca;(function(i){i.DOC="application/msword",i.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",i.PDF="application/pdf"})(ca=pt.RenderingFormat||(pt.RenderingFormat={}));var la;(function(i){i.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",i.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",i.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",i.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",i.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",i.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",i.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",i.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",i.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",i.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",i.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",i.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",i.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",i.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",i.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",i.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",i.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",i.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",i.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",i.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",i.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",i.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",i.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",i.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",i.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",i.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",i.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",i.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",i.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",i.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",i.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",i.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",i.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",i.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",i.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",i.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",i.SEARCH_0="http://iiif.io/api/search/0/search",i.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",i.SEARCH_1="http://iiif.io/api/search/1/search",i.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",i.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",i.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",i.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",i.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",i.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",i.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"})(la=pt.ServiceProfile||(pt.ServiceProfile={}));var ha;(function(i){i.BOTTOM_TO_TOP="bottom-to-top",i.LEFT_TO_RIGHT="left-to-right",i.RIGHT_TO_LEFT="right-to-left",i.TOP_TO_BOTTOM="top-to-bottom"})(ha=pt.ViewingDirection||(pt.ViewingDirection={}));var pa;(function(i){i.CONTINUOUS="continuous",i.INDIVIDUALS="individuals",i.NON_PAGED="non-paged",i.PAGED="paged",i.TOP="top"})(pa=pt.ViewingHint||(pt.ViewingHint={}))});var Xr=lt((au,zr)=>{function Aa(i,t){for(var n=-1,o=t.length,s=i.length;++n<o;)i[s+n]=t[n];return i}zr.exports=Aa});var Kr=lt((su,Br)=>{var Ca=typeof global=="object"&&global&&global.Object===Object&&global;Br.exports=Ca});var Qr=lt((uu,$r)=>{var Ia=Kr(),Oa=typeof self=="object"&&self&&self.Object===Object&&self,Sa=Ia||Oa||Function("return this")();$r.exports=Sa});var an=lt((fu,Jr)=>{var La=Qr(),xa=La.Symbol;Jr.exports=xa});var ni=lt((cu,ei)=>{var Zr=an(),ti=Object.prototype,Na=ti.hasOwnProperty,ba=ti.toString,Ge=Zr?Zr.toStringTag:void 0;function Ra(i){var t=Na.call(i,Ge),n=i[Ge];try{i[Ge]=void 0;var o=!0}catch{}var s=ba.call(i);return o&&(t?i[Ge]=n:delete i[Ge]),s}ei.exports=Ra});var ii=lt((lu,ri)=>{var wa=Object.prototype,Da=wa.toString;function Ma(i){return Da.call(i)}ri.exports=Ma});var ui=lt((hu,si)=>{var oi=an(),Pa=ni(),Ha=ii(),Ua="[object Null]",ja="[object Undefined]",ai=oi?oi.toStringTag:void 0;function Fa(i){return i==null?i===void 0?ja:Ua:ai&&ai in Object(i)?Pa(i):Ha(i)}si.exports=Fa});var Hn=lt((pu,fi)=>{function Ga(i){return i!=null&&typeof i=="object"}fi.exports=Ga});var li=lt((du,ci)=>{var Va=ui(),ka=Hn(),qa="[object Arguments]";function Wa(i){return ka(i)&&Va(i)==qa}ci.exports=Wa});var gi=lt((gu,di)=>{var hi=li(),Ya=Hn(),pi=Object.prototype,za=pi.hasOwnProperty,Xa=pi.propertyIsEnumerable,Ba=hi(function(){return arguments}())?hi:function(i){return Ya(i)&&za.call(i,"callee")&&!Xa.call(i,"callee")};di.exports=Ba});var yi=lt((vu,vi)=>{var Ka=Array.isArray;vi.exports=Ka});var Ti=lt((yu,Ei)=>{var _i=an(),$a=gi(),Qa=yi(),mi=_i?_i.isConcatSpreadable:void 0;function Ja(i){return Qa(i)||$a(i)||!!(mi&&i&&i[mi])}Ei.exports=Ja});var Un=lt((_u,Ci)=>{var Za=Xr(),ts=Ti();function Ai(i,t,n,o,s){var c=-1,g=i.length;for(n||(n=ts),s||(s=[]);++c<g;){var A=i[c];t>0&&n(A)?t>1?Ai(A,t-1,n,o,s):Za(s,A):o||(s[s.length]=A)}return s}Ci.exports=Ai});var Oi=lt((mu,Ii)=>{var es=Un();function ns(i){var t=i==null?0:i.length;return t?es(i,1):[]}Ii.exports=ns});var Li=lt((Eu,Si)=>{var rs=Un(),is=1/0;function os(i){var t=i==null?0:i.length;return t?rs(i,is):[]}Si.exports=os});var Pi=lt(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.CONTINUE=100;k.SWITCHING_PROTOCOLS=101;k.PROCESSING=102;k.OK=200;k.CREATED=201;k.ACCEPTED=202;k.NON_AUTHORITATIVE_INFORMATION=203;k.NO_CONTENT=204;k.RESET_CONTENT=205;k.PARTIAL_CONTENT=206;k.MULTI_STATUS=207;k.MULTIPLE_CHOICES=300;k.MOVED_PERMANENTLY=301;k.MOVED_TEMPORARILY=302;k.SEE_OTHER=303;k.NOT_MODIFIED=304;k.USE_PROXY=305;k.TEMPORARY_REDIRECT=307;k.BAD_REQUEST=400;k.UNAUTHORIZED=401;k.PAYMENT_REQUIRED=402;k.FORBIDDEN=403;k.NOT_FOUND=404;k.METHOD_NOT_ALLOWED=405;k.NOT_ACCEPTABLE=406;k.PROXY_AUTHENTICATION_REQUIRED=407;k.REQUEST_TIME_OUT=408;k.CONFLICT=409;k.GONE=410;k.LENGTH_REQUIRED=411;k.PRECONDITION_FAILED=412;k.REQUEST_ENTITY_TOO_LARGE=413;k.REQUEST_URI_TOO_LARGE=414;k.UNSUPPORTED_MEDIA_TYPE=415;k.REQUESTED_RANGE_NOT_SATISFIABLE=416;k.EXPECTATION_FAILED=417;k.IM_A_TEAPOT=418;k.UNPROCESSABLE_ENTITY=422;k.LOCKED=423;k.FAILED_DEPENDENCY=424;k.UNORDERED_COLLECTION=425;k.UPGRADE_REQUIRED=426;k.PRECONDITION_REQUIRED=428;k.TOO_MANY_REQUESTS=429;k.REQUEST_HEADER_FIELDS_TOO_LARGE=431;k.INTERNAL_SERVER_ERROR=500;k.NOT_IMPLEMENTED=501;k.BAD_GATEWAY=502;k.SERVICE_UNAVAILABLE=503;k.GATEWAY_TIME_OUT=504;k.HTTP_VERSION_NOT_SUPPORTED=505;k.VARIANT_ALSO_NEGOTIATES=506;k.INSUFFICIENT_STORAGE=507;k.BANDWIDTH_LIMIT_EXCEEDED=509;k.NOT_EXTENDED=510;k.NETWORK_AUTHENTICATION_REQUIRED=511});var kn=lt((xf,Hi)=>{Hi.exports=function(i,t){return t=t||{},new Promise(function(n,o){var s=new XMLHttpRequest,c=[],g=[],A={},N=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:N,headers:{keys:function(){return c},entries:function(){return g},get:function(D){return A[D.toLowerCase()]},has:function(D){return D.toLowerCase()in A}}}};for(var O in s.open(t.method||"get",i,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(D,P,F){c.push(P=P.toLowerCase()),g.push([P,F]),A[P]=A[P]?A[P]+","+F:F}),n(N())},s.onerror=o,s.withCredentials=t.credentials=="include",t.headers)s.setRequestHeader(O,t.headers[O]);s.send(t.body||null)})}});var ji=lt((Nf,Ui)=>{Ui.exports=self.fetch||(self.fetch=kn().default||kn())});var ki=lt((cn,Yn)=>{(function(i,t){typeof cn=="object"&&typeof Yn=="object"?Yn.exports=t():typeof define=="function"&&define.amd?define("httpstatuscodes",[],t):typeof cn=="object"?cn.httpstatuscodes=t():i.httpstatuscodes=t()})(window,function(){return function(i){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return i[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=i,n.c=t,n.d=function(o,s,c){n.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:c})},n.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,s){if(1&s&&(o=n(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var g in o)n.d(c,g,function(A){return o[A]}.bind(null,g));return c},n.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(s,"a",s),s},n.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},n.p="",n(n.s=0)}([function(i,t,n){i.exports=n(1)},function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])})});var vs=lt((qi,ln)=>{(function(i,t){"use strict";typeof ln=="object"&&typeof ln.exports=="object"?ln.exports=i.document?t(i,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(i)})(typeof window!="undefined"?window:qi,function(i,t){"use strict";var n=[],o=Object.getPrototypeOf,s=n.slice,c=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},g=n.push,A=n.indexOf,N={},O=N.toString,D=N.hasOwnProperty,P=D.toString,F=P.call(Object),U={},H=function(r){return typeof r=="function"&&typeof r.nodeType!="number"},et=function(r){return r!=null&&r===r.window},Y=i.document,he={type:!0,src:!0,nonce:!0,noModule:!0};function Ct(e,r,a){a=a||Y;var u,l,h=a.createElement("script");if(h.text=e,r)for(u in he)l=r[u]||r.getAttribute&&r.getAttribute(u),l&&h.setAttribute(u,l);a.head.appendChild(h).parentNode.removeChild(h)}function jt(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?N[O.call(e)]||"object":typeof e}var zn="3.5.0",f=function(e,r){return new f.fn.init(e,r)};f.fn=f.prototype={jquery:zn,constructor:f,length:0,toArray:function(){return s.call(this)},get:function(e){return e==null?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var r=f.merge(this.constructor(),e);return r.prevObject=this,r},each:function(e){return f.each(this,e)},map:function(e){return this.pushStack(f.map(this,function(r,a){return e.call(r,a,r)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(e,r){return(r+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(e,r){return r%2}))},eq:function(e){var r=this.length,a=+e+(e<0?r:0);return this.pushStack(a>=0&&a<r?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var e,r,a,u,l,h,p=arguments[0]||{},y=1,_=arguments.length,E=!1;for(typeof p=="boolean"&&(E=p,p=arguments[y]||{},y++),typeof p!="object"&&!H(p)&&(p={}),y===_&&(p=this,y--);y<_;y++)if((e=arguments[y])!=null)for(r in e)u=e[r],!(r==="__proto__"||p===u)&&(E&&u&&(f.isPlainObject(u)||(l=Array.isArray(u)))?(a=p[r],l&&!Array.isArray(a)?h=[]:!l&&!f.isPlainObject(a)?h={}:h=a,l=!1,p[r]=f.extend(E,h,u)):u!==void 0&&(p[r]=u));return p},f.extend({expando:"jQuery"+(zn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var r,a;return!e||O.call(e)!=="[object Object]"?!1:(r=o(e),r?(a=D.call(r,"constructor")&&r.constructor,typeof a=="function"&&P.call(a)===F):!0)},isEmptyObject:function(e){var r;for(r in e)return!1;return!0},globalEval:function(e,r,a){Ct(e,{nonce:r&&r.nonce},a)},each:function(e,r){var a,u=0;if(hn(e))for(a=e.length;u<a&&r.call(e[u],u,e[u])!==!1;u++);else for(u in e)if(r.call(e[u],u,e[u])===!1)break;return e},makeArray:function(e,r){var a=r||[];return e!=null&&(hn(Object(e))?f.merge(a,typeof e=="string"?[e]:e):g.call(a,e)),a},inArray:function(e,r,a){return r==null?-1:A.call(r,e,a)},merge:function(e,r){for(var a=+r.length,u=0,l=e.length;u<a;u++)e[l++]=r[u];return e.length=l,e},grep:function(e,r,a){for(var u,l=[],h=0,p=e.length,y=!a;h<p;h++)u=!r(e[h],h),u!==y&&l.push(e[h]);return l},map:function(e,r,a){var u,l,h=0,p=[];if(hn(e))for(u=e.length;h<u;h++)l=r(e[h],h,a),l!=null&&p.push(l);else for(h in e)l=r(e[h],h,a),l!=null&&p.push(l);return c(p)},guid:1,support:U}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,r){N["[object "+r+"]"]=r.toLowerCase()});function hn(e){var r=!!e&&"length"in e&&e.length,a=jt(e);return H(e)||et(e)?!1:a==="array"||r===0||typeof r=="number"&&r>0&&r-1 in e}var te=function(e){var r,a,u,l,h,p,y,_,E,I,w,C,L,q,J,W,dt,ht,Nt,rt="sizzle"+1*new Date,Q=e.document,Lt=0,tt=0,ct=Je(),Me=Je(),Ke=Je(),bt=Je(),ie=function(d,v){return d===v&&(w=!0),0},oe={}.hasOwnProperty,xt=[],Kt=xt.pop,Pt=xt.push,$t=xt.push,Rr=xt.slice,ae=function(d,v){for(var m=0,x=d.length;m<x;m++)if(d[m]===v)return m;return-1},xn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",se="(?:\\\\[\\da-fA-F]{1,6}"+nt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",wr="\\["+nt+"*("+se+")(?:"+nt+"*([*^$|!~]?=)"+nt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+se+"))|)"+nt+"*\\]",Nn=":("+se+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+wr+")*)|.*)\\)|)",qo=new RegExp(nt+"+","g"),$e=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),Wo=new RegExp("^"+nt+"*,"+nt+"*"),Dr=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),Yo=new RegExp(nt+"|>"),zo=new RegExp(Nn),Xo=new RegExp("^"+se+"$"),Qe={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se+"|[*])"),ATTR:new RegExp("^"+wr),PSEUDO:new RegExp("^"+Nn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+xn+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},Bo=/HTML$/i,Ko=/^(?:input|select|textarea|button)$/i,$o=/^h\d$/i,Pe=/^[^{]+\{\s*\[native \w/,Qo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bn=/[+~]/,Xt=new RegExp("\\\\[\\da-fA-F]{1,6}"+nt+"?|\\\\([^\\r\\n\\f])","g"),Bt=function(d,v){var m="0x"+d.slice(1)-65536;return v||(m<0?String.fromCharCode(m+65536):String.fromCharCode(m>>10|55296,m&1023|56320))},Mr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Pr=function(d,v){return v?d==="\0"?"\uFFFD":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d},Hr=function(){C()},Jo=tn(function(d){return d.disabled===!0&&d.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{$t.apply(xt=Rr.call(Q.childNodes),Q.childNodes),xt[Q.childNodes.length].nodeType}catch{$t={apply:xt.length?function(v,m){Pt.apply(v,Rr.call(m))}:function(v,m){for(var x=v.length,T=0;v[x++]=m[T++];);v.length=x-1}}}function ot(d,v,m,x){var T,b,R,M,j,X,z,$=v&&v.ownerDocument,Z=v?v.nodeType:9;if(m=m||[],typeof d!="string"||!d||Z!==1&&Z!==9&&Z!==11)return m;if(!x&&(C(v),v=v||L,J)){if(Z!==11&&(j=Qo.exec(d)))if(T=j[1]){if(Z===9)if(R=v.getElementById(T)){if(R.id===T)return m.push(R),m}else return m;else if($&&(R=$.getElementById(T))&&Nt(v,R)&&R.id===T)return m.push(R),m}else{if(j[2])return $t.apply(m,v.getElementsByTagName(d)),m;if((T=j[3])&&a.getElementsByClassName&&v.getElementsByClassName)return $t.apply(m,v.getElementsByClassName(T)),m}if(a.qsa&&!bt[d+" "]&&(!W||!W.test(d))&&(Z!==1||v.nodeName.toLowerCase()!=="object")){if(z=d,$=v,Z===1&&(Yo.test(d)||Dr.test(d))){for($=bn.test(d)&&wn(v.parentNode)||v,($!==v||!a.scope)&&((M=v.getAttribute("id"))?M=M.replace(Mr,Pr):v.setAttribute("id",M=rt)),X=p(d),b=X.length;b--;)X[b]=(M?"#"+M:":scope")+" "+Ze(X[b]);z=X.join(",")}try{return $t.apply(m,$.querySelectorAll(z)),m}catch{bt(d,!0)}finally{M===rt&&v.removeAttribute("id")}}}return _(d.replace($e,"$1"),v,m,x)}function Je(){var d=[];function v(m,x){return d.push(m+" ")>u.cacheLength&&delete v[d.shift()],v[m+" "]=x}return v}function Gt(d){return d[rt]=!0,d}function Vt(d){var v=L.createElement("fieldset");try{return!!d(v)}catch{return!1}finally{v.parentNode&&v.parentNode.removeChild(v),v=null}}function Rn(d,v){for(var m=d.split("|"),x=m.length;x--;)u.attrHandle[m[x]]=v}function Ur(d,v){var m=v&&d,x=m&&d.nodeType===1&&v.nodeType===1&&d.sourceIndex-v.sourceIndex;if(x)return x;if(m){for(;m=m.nextSibling;)if(m===v)return-1}return d?1:-1}function Zo(d){return function(v){var m=v.nodeName.toLowerCase();return m==="input"&&v.type===d}}function ta(d){return function(v){var m=v.nodeName.toLowerCase();return(m==="input"||m==="button")&&v.type===d}}function jr(d){return function(v){return"form"in v?v.parentNode&&v.disabled===!1?"label"in v?"label"in v.parentNode?v.parentNode.disabled===d:v.disabled===d:v.isDisabled===d||v.isDisabled!==!d&&Jo(v)===d:v.disabled===d:"label"in v?v.disabled===d:!1}}function ue(d){return Gt(function(v){return v=+v,Gt(function(m,x){for(var T,b=d([],m.length,v),R=b.length;R--;)m[T=b[R]]&&(m[T]=!(x[T]=m[T]))})})}function wn(d){return d&&typeof d.getElementsByTagName!="undefined"&&d}a=ot.support={},h=ot.isXML=function(d){var v=d.namespaceURI,m=(d.ownerDocument||d).documentElement;return!Bo.test(v||m&&m.nodeName||"HTML")},C=ot.setDocument=function(d){var v,m,x=d?d.ownerDocument||d:Q;return x==L||x.nodeType!==9||!x.documentElement||(L=x,q=L.documentElement,J=!h(L),Q!=L&&(m=L.defaultView)&&m.top!==m&&(m.addEventListener?m.addEventListener("unload",Hr,!1):m.attachEvent&&m.attachEvent("onunload",Hr)),a.scope=Vt(function(T){return q.appendChild(T).appendChild(L.createElement("div")),typeof T.querySelectorAll!="undefined"&&!T.querySelectorAll(":scope fieldset div").length}),a.attributes=Vt(function(T){return T.className="i",!T.getAttribute("className")}),a.getElementsByTagName=Vt(function(T){return T.appendChild(L.createComment("")),!T.getElementsByTagName("*").length}),a.getElementsByClassName=Pe.test(L.getElementsByClassName),a.getById=Vt(function(T){return q.appendChild(T).id=rt,!L.getElementsByName||!L.getElementsByName(rt).length}),a.getById?(u.filter.ID=function(T){var b=T.replace(Xt,Bt);return function(R){return R.getAttribute("id")===b}},u.find.ID=function(T,b){if(typeof b.getElementById!="undefined"&&J){var R=b.getElementById(T);return R?[R]:[]}}):(u.filter.ID=function(T){var b=T.replace(Xt,Bt);return function(R){var M=typeof R.getAttributeNode!="undefined"&&R.getAttributeNode("id");return M&&M.value===b}},u.find.ID=function(T,b){if(typeof b.getElementById!="undefined"&&J){var R,M,j,X=b.getElementById(T);if(X){if(R=X.getAttributeNode("id"),R&&R.value===T)return[X];for(j=b.getElementsByName(T),M=0;X=j[M++];)if(R=X.getAttributeNode("id"),R&&R.value===T)return[X]}return[]}}),u.find.TAG=a.getElementsByTagName?function(T,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(T);if(a.qsa)return b.querySelectorAll(T)}:function(T,b){var R,M=[],j=0,X=b.getElementsByTagName(T);if(T==="*"){for(;R=X[j++];)R.nodeType===1&&M.push(R);return M}return X},u.find.CLASS=a.getElementsByClassName&&function(T,b){if(typeof b.getElementsByClassName!="undefined"&&J)return b.getElementsByClassName(T)},dt=[],W=[],(a.qsa=Pe.test(L.querySelectorAll))&&(Vt(function(T){var b;q.appendChild(T).innerHTML="<a id='"+rt+"'></a><select id='"+rt+"-\r\\' msallowcapture=''><option selected=''></option></select>",T.querySelectorAll("[msallowcapture^='']").length&&W.push("[*^$]="+nt+`*(?:''|"")`),T.querySelectorAll("[selected]").length||W.push("\\["+nt+"*(?:value|"+xn+")"),T.querySelectorAll("[id~="+rt+"-]").length||W.push("~="),b=L.createElement("input"),b.setAttribute("name",""),T.appendChild(b),T.querySelectorAll("[name='']").length||W.push("\\["+nt+"*name"+nt+"*="+nt+`*(?:''|"")`),T.querySelectorAll(":checked").length||W.push(":checked"),T.querySelectorAll("a#"+rt+"+*").length||W.push(".#.+[+~]"),T.querySelectorAll("\\\f"),W.push("[\\r\\n\\f]")}),Vt(function(T){T.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=L.createElement("input");b.setAttribute("type","hidden"),T.appendChild(b).setAttribute("name","D"),T.querySelectorAll("[name=d]").length&&W.push("name"+nt+"*[*^$|!~]?="),T.querySelectorAll(":enabled").length!==2&&W.push(":enabled",":disabled"),q.appendChild(T).disabled=!0,T.querySelectorAll(":disabled").length!==2&&W.push(":enabled",":disabled"),T.querySelectorAll("*,:x"),W.push(",.*:")})),(a.matchesSelector=Pe.test(ht=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&Vt(function(T){a.disconnectedMatch=ht.call(T,"*"),ht.call(T,"[s!='']:x"),dt.push("!=",Nn)}),W=W.length&&new RegExp(W.join("|")),dt=dt.length&&new RegExp(dt.join("|")),v=Pe.test(q.compareDocumentPosition),Nt=v||Pe.test(q.contains)?function(T,b){var R=T.nodeType===9?T.documentElement:T,M=b&&b.parentNode;return T===M||!!(M&&M.nodeType===1&&(R.contains?R.contains(M):T.compareDocumentPosition&&T.compareDocumentPosition(M)&16))}:function(T,b){if(b){for(;b=b.parentNode;)if(b===T)return!0}return!1},ie=v?function(T,b){if(T===b)return w=!0,0;var R=!T.compareDocumentPosition-!b.compareDocumentPosition;return R||(R=(T.ownerDocument||T)==(b.ownerDocument||b)?T.compareDocumentPosition(b):1,R&1||!a.sortDetached&&b.compareDocumentPosition(T)===R?T==L||T.ownerDocument==Q&&Nt(Q,T)?-1:b==L||b.ownerDocument==Q&&Nt(Q,b)?1:I?ae(I,T)-ae(I,b):0:R&4?-1:1)}:function(T,b){if(T===b)return w=!0,0;var R,M=0,j=T.parentNode,X=b.parentNode,z=[T],$=[b];if(!j||!X)return T==L?-1:b==L?1:j?-1:X?1:I?ae(I,T)-ae(I,b):0;if(j===X)return Ur(T,b);for(R=T;R=R.parentNode;)z.unshift(R);for(R=b;R=R.parentNode;)$.unshift(R);for(;z[M]===$[M];)M++;return M?Ur(z[M],$[M]):z[M]==Q?-1:$[M]==Q?1:0}),L},ot.matches=function(d,v){return ot(d,null,null,v)},ot.matchesSelector=function(d,v){if(C(d),a.matchesSelector&&J&&!bt[v+" "]&&(!dt||!dt.test(v))&&(!W||!W.test(v)))try{var m=ht.call(d,v);if(m||a.disconnectedMatch||d.document&&d.document.nodeType!==11)return m}catch{bt(v,!0)}return ot(v,L,null,[d]).length>0},ot.contains=function(d,v){return(d.ownerDocument||d)!=L&&C(d),Nt(d,v)},ot.attr=function(d,v){(d.ownerDocument||d)!=L&&C(d);var m=u.attrHandle[v.toLowerCase()],x=m&&oe.call(u.attrHandle,v.toLowerCase())?m(d,v,!J):void 0;return x!==void 0?x:a.attributes||!J?d.getAttribute(v):(x=d.getAttributeNode(v))&&x.specified?x.value:null},ot.escape=function(d){return(d+"").replace(Mr,Pr)},ot.error=function(d){throw new Error("Syntax error, unrecognized expression: "+d)},ot.uniqueSort=function(d){var v,m=[],x=0,T=0;if(w=!a.detectDuplicates,I=!a.sortStable&&d.slice(0),d.sort(ie),w){for(;v=d[T++];)v===d[T]&&(x=m.push(T));for(;x--;)d.splice(m[x],1)}return I=null,d},l=ot.getText=function(d){var v,m="",x=0,T=d.nodeType;if(T){if(T===1||T===9||T===11){if(typeof d.textContent=="string")return d.textContent;for(d=d.firstChild;d;d=d.nextSibling)m+=l(d)}else if(T===3||T===4)return d.nodeValue}else for(;v=d[x++];)m+=l(v);return m},u=ot.selectors={cacheLength:50,createPseudo:Gt,match:Qe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(d){return d[1]=d[1].replace(Xt,Bt),d[3]=(d[3]||d[4]||d[5]||"").replace(Xt,Bt),d[2]==="~="&&(d[3]=" "+d[3]+" "),d.slice(0,4)},CHILD:function(d){return d[1]=d[1].toLowerCase(),d[1].slice(0,3)==="nth"?(d[3]||ot.error(d[0]),d[4]=+(d[4]?d[5]+(d[6]||1):2*(d[3]==="even"||d[3]==="odd")),d[5]=+(d[7]+d[8]||d[3]==="odd")):d[3]&&ot.error(d[0]),d},PSEUDO:function(d){var v,m=!d[6]&&d[2];return Qe.CHILD.test(d[0])?null:(d[3]?d[2]=d[4]||d[5]||"":m&&zo.test(m)&&(v=p(m,!0))&&(v=m.indexOf(")",m.length-v)-m.length)&&(d[0]=d[0].slice(0,v),d[2]=m.slice(0,v)),d.slice(0,3))}},filter:{TAG:function(d){var v=d.replace(Xt,Bt).toLowerCase();return d==="*"?function(){return!0}:function(m){return m.nodeName&&m.nodeName.toLowerCase()===v}},CLASS:function(d){var v=ct[d+" "];return v||(v=new RegExp("(^|"+nt+")"+d+"("+nt+"|$)"))&&ct(d,function(m){return v.test(typeof m.className=="string"&&m.className||typeof m.getAttribute!="undefined"&&m.getAttribute("class")||"")})},ATTR:function(d,v,m){return function(x){var T=ot.attr(x,d);return T==null?v==="!=":v?(T+="",v==="="?T===m:v==="!="?T!==m:v==="^="?m&&T.indexOf(m)===0:v==="*="?m&&T.indexOf(m)>-1:v==="$="?m&&T.slice(-m.length)===m:v==="~="?(" "+T.replace(qo," ")+" ").indexOf(m)>-1:v==="|="?T===m||T.slice(0,m.length+1)===m+"-":!1):!0}},CHILD:function(d,v,m,x,T){var b=d.slice(0,3)!=="nth",R=d.slice(-4)!=="last",M=v==="of-type";return x===1&&T===0?function(j){return!!j.parentNode}:function(j,X,z){var $,Z,at,B,gt,_t,Rt=b!==R?"nextSibling":"previousSibling",ft=j.parentNode,He=M&&j.nodeName.toLowerCase(),Ue=!z&&!M,wt=!1;if(ft){if(b){for(;Rt;){for(B=j;B=B[Rt];)if(M?B.nodeName.toLowerCase()===He:B.nodeType===1)return!1;_t=Rt=d==="only"&&!_t&&"nextSibling"}return!0}if(_t=[R?ft.firstChild:ft.lastChild],R&&Ue){for(B=ft,at=B[rt]||(B[rt]={}),Z=at[B.uniqueID]||(at[B.uniqueID]={}),$=Z[d]||[],gt=$[0]===Lt&&$[1],wt=gt&&$[2],B=gt&&ft.childNodes[gt];B=++gt&&B&&B[Rt]||(wt=gt=0)||_t.pop();)if(B.nodeType===1&&++wt&&B===j){Z[d]=[Lt,gt,wt];break}}else if(Ue&&(B=j,at=B[rt]||(B[rt]={}),Z=at[B.uniqueID]||(at[B.uniqueID]={}),$=Z[d]||[],gt=$[0]===Lt&&$[1],wt=gt),wt===!1)for(;(B=++gt&&B&&B[Rt]||(wt=gt=0)||_t.pop())&&!((M?B.nodeName.toLowerCase()===He:B.nodeType===1)&&++wt&&(Ue&&(at=B[rt]||(B[rt]={}),Z=at[B.uniqueID]||(at[B.uniqueID]={}),Z[d]=[Lt,wt]),B===j)););return wt-=T,wt===x||wt%x==0&&wt/x>=0}}},PSEUDO:function(d,v){var m,x=u.pseudos[d]||u.setFilters[d.toLowerCase()]||ot.error("unsupported pseudo: "+d);return x[rt]?x(v):x.length>1?(m=[d,d,"",v],u.setFilters.hasOwnProperty(d.toLowerCase())?Gt(function(T,b){for(var R,M=x(T,v),j=M.length;j--;)R=ae(T,M[j]),T[R]=!(b[R]=M[j])}):function(T){return x(T,0,m)}):x}},pseudos:{not:Gt(function(d){var v=[],m=[],x=y(d.replace($e,"$1"));return x[rt]?Gt(function(T,b,R,M){for(var j,X=x(T,null,M,[]),z=T.length;z--;)(j=X[z])&&(T[z]=!(b[z]=j))}):function(T,b,R){return v[0]=T,x(v,null,R,m),v[0]=null,!m.pop()}}),has:Gt(function(d){return function(v){return ot(d,v).length>0}}),contains:Gt(function(d){return d=d.replace(Xt,Bt),function(v){return(v.textContent||l(v)).indexOf(d)>-1}}),lang:Gt(function(d){return Xo.test(d||"")||ot.error("unsupported lang: "+d),d=d.replace(Xt,Bt).toLowerCase(),function(v){var m;do if(m=J?v.lang:v.getAttribute("xml:lang")||v.getAttribute("lang"))return m=m.toLowerCase(),m===d||m.indexOf(d+"-")===0;while((v=v.parentNode)&&v.nodeType===1);return!1}}),target:function(d){var v=e.location&&e.location.hash;return v&&v.slice(1)===d.id},root:function(d){return d===q},focus:function(d){return d===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(d.type||d.href||~d.tabIndex)},enabled:jr(!1),disabled:jr(!0),checked:function(d){var v=d.nodeName.toLowerCase();return v==="input"&&!!d.checked||v==="option"&&!!d.selected},selected:function(d){return d.parentNode&&d.parentNode.selectedIndex,d.selected===!0},empty:function(d){for(d=d.firstChild;d;d=d.nextSibling)if(d.nodeType<6)return!1;return!0},parent:function(d){return!u.pseudos.empty(d)},header:function(d){return $o.test(d.nodeName)},input:function(d){return Ko.test(d.nodeName)},button:function(d){var v=d.nodeName.toLowerCase();return v==="input"&&d.type==="button"||v==="button"},text:function(d){var v;return d.nodeName.toLowerCase()==="input"&&d.type==="text"&&((v=d.getAttribute("type"))==null||v.toLowerCase()==="text")},first:ue(function(){return[0]}),last:ue(function(d,v){return[v-1]}),eq:ue(function(d,v,m){return[m<0?m+v:m]}),even:ue(function(d,v){for(var m=0;m<v;m+=2)d.push(m);return d}),odd:ue(function(d,v){for(var m=1;m<v;m+=2)d.push(m);return d}),lt:ue(function(d,v,m){for(var x=m<0?m+v:m>v?v:m;--x>=0;)d.push(x);return d}),gt:ue(function(d,v,m){for(var x=m<0?m+v:m;++x<v;)d.push(x);return d})}},u.pseudos.nth=u.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[r]=Zo(r);for(r in{submit:!0,reset:!0})u.pseudos[r]=ta(r);function Fr(){}Fr.prototype=u.filters=u.pseudos,u.setFilters=new Fr,p=ot.tokenize=function(d,v){var m,x,T,b,R,M,j,X=Me[d+" "];if(X)return v?0:X.slice(0);for(R=d,M=[],j=u.preFilter;R;){(!m||(x=Wo.exec(R)))&&(x&&(R=R.slice(x[0].length)||R),M.push(T=[])),m=!1,(x=Dr.exec(R))&&(m=x.shift(),T.push({value:m,type:x[0].replace($e," ")}),R=R.slice(m.length));for(b in u.filter)(x=Qe[b].exec(R))&&(!j[b]||(x=j[b](x)))&&(m=x.shift(),T.push({value:m,type:b,matches:x}),R=R.slice(m.length));if(!m)break}return v?R.length:R?ot.error(d):Me(d,M).slice(0)};function Ze(d){for(var v=0,m=d.length,x="";v<m;v++)x+=d[v].value;return x}function tn(d,v,m){var x=v.dir,T=v.next,b=T||x,R=m&&b==="parentNode",M=tt++;return v.first?function(j,X,z){for(;j=j[x];)if(j.nodeType===1||R)return d(j,X,z);return!1}:function(j,X,z){var $,Z,at,B=[Lt,M];if(z){for(;j=j[x];)if((j.nodeType===1||R)&&d(j,X,z))return!0}else for(;j=j[x];)if(j.nodeType===1||R)if(at=j[rt]||(j[rt]={}),Z=at[j.uniqueID]||(at[j.uniqueID]={}),T&&T===j.nodeName.toLowerCase())j=j[x]||j;else{if(($=Z[b])&&$[0]===Lt&&$[1]===M)return B[2]=$[2];if(Z[b]=B,B[2]=d(j,X,z))return!0}return!1}}function Dn(d){return d.length>1?function(v,m,x){for(var T=d.length;T--;)if(!d[T](v,m,x))return!1;return!0}:d[0]}function ea(d,v,m){for(var x=0,T=v.length;x<T;x++)ot(d,v[x],m);return m}function en(d,v,m,x,T){for(var b,R=[],M=0,j=d.length,X=v!=null;M<j;M++)(b=d[M])&&(!m||m(b,x,T))&&(R.push(b),X&&v.push(M));return R}function Mn(d,v,m,x,T,b){return x&&!x[rt]&&(x=Mn(x)),T&&!T[rt]&&(T=Mn(T,b)),Gt(function(R,M,j,X){var z,$,Z,at=[],B=[],gt=M.length,_t=R||ea(v||"*",j.nodeType?[j]:j,[]),Rt=d&&(R||!v)?en(_t,at,d,j,X):_t,ft=m?T||(R?d:gt||x)?[]:M:Rt;if(m&&m(Rt,ft,j,X),x)for(z=en(ft,B),x(z,[],j,X),$=z.length;$--;)(Z=z[$])&&(ft[B[$]]=!(Rt[B[$]]=Z));if(R){if(T||d){if(T){for(z=[],$=ft.length;$--;)(Z=ft[$])&&z.push(Rt[$]=Z);T(null,ft=[],z,X)}for($=ft.length;$--;)(Z=ft[$])&&(z=T?ae(R,Z):at[$])>-1&&(R[z]=!(M[z]=Z))}}else ft=en(ft===M?ft.splice(gt,ft.length):ft),T?T(null,M,ft,X):$t.apply(M,ft)})}function Pn(d){for(var v,m,x,T=d.length,b=u.relative[d[0].type],R=b||u.relative[" "],M=b?1:0,j=tn(function($){return $===v},R,!0),X=tn(function($){return ae(v,$)>-1},R,!0),z=[function($,Z,at){var B=!b&&(at||Z!==E)||((v=Z).nodeType?j($,Z,at):X($,Z,at));return v=null,B}];M<T;M++)if(m=u.relative[d[M].type])z=[tn(Dn(z),m)];else{if(m=u.filter[d[M].type].apply(null,d[M].matches),m[rt]){for(x=++M;x<T&&!u.relative[d[x].type];x++);return Mn(M>1&&Dn(z),M>1&&Ze(d.slice(0,M-1).concat({value:d[M-2].type===" "?"*":""})).replace($e,"$1"),m,M<x&&Pn(d.slice(M,x)),x<T&&Pn(d=d.slice(x)),x<T&&Ze(d))}z.push(m)}return Dn(z)}function na(d,v){var m=v.length>0,x=d.length>0,T=function(b,R,M,j,X){var z,$,Z,at=0,B="0",gt=b&&[],_t=[],Rt=E,ft=b||x&&u.find.TAG("*",X),He=Lt+=Rt==null?1:Math.random()||.1,Ue=ft.length;for(X&&(E=R==L||R||X);B!==Ue&&(z=ft[B])!=null;B++){if(x&&z){for($=0,!R&&z.ownerDocument!=L&&(C(z),M=!J);Z=d[$++];)if(Z(z,R||L,M)){j.push(z);break}X&&(Lt=He)}m&&((z=!Z&&z)&&at--,b&&gt.push(z))}if(at+=B,m&&B!==at){for($=0;Z=v[$++];)Z(gt,_t,R,M);if(b){if(at>0)for(;B--;)gt[B]||_t[B]||(_t[B]=Kt.call(j));_t=en(_t)}$t.apply(j,_t),X&&!b&&_t.length>0&&at+v.length>1&&ot.uniqueSort(j)}return X&&(Lt=He,E=Rt),gt};return m?Gt(T):T}return y=ot.compile=function(d,v){var m,x=[],T=[],b=Ke[d+" "];if(!b){for(v||(v=p(d)),m=v.length;m--;)b=Pn(v[m]),b[rt]?x.push(b):T.push(b);b=Ke(d,na(T,x)),b.selector=d}return b},_=ot.select=function(d,v,m,x){var T,b,R,M,j,X=typeof d=="function"&&d,z=!x&&p(d=X.selector||d);if(m=m||[],z.length===1){if(b=z[0]=z[0].slice(0),b.length>2&&(R=b[0]).type==="ID"&&v.nodeType===9&&J&&u.relative[b[1].type]){if(v=(u.find.ID(R.matches[0].replace(Xt,Bt),v)||[])[0],v)X&&(v=v.parentNode);else return m;d=d.slice(b.shift().value.length)}for(T=Qe.needsContext.test(d)?0:b.length;T--&&(R=b[T],!u.relative[M=R.type]);)if((j=u.find[M])&&(x=j(R.matches[0].replace(Xt,Bt),bn.test(b[0].type)&&wn(v.parentNode)||v))){if(b.splice(T,1),d=x.length&&Ze(b),!d)return $t.apply(m,x),m;break}}return(X||y(d,z))(x,v,!J,m,!v||bn.test(d)&&wn(v.parentNode)||v),m},a.sortStable=rt.split("").sort(ie).join("")===rt,a.detectDuplicates=!!w,C(),a.sortDetached=Vt(function(d){return d.compareDocumentPosition(L.createElement("fieldset"))&1}),Vt(function(d){return d.innerHTML="<a href='#'></a>",d.firstChild.getAttribute("href")==="#"})||Rn("type|href|height|width",function(d,v,m){if(!m)return d.getAttribute(v,v.toLowerCase()==="type"?1:2)}),(!a.attributes||!Vt(function(d){return d.innerHTML="<input/>",d.firstChild.setAttribute("value",""),d.firstChild.getAttribute("value")===""}))&&Rn("value",function(d,v,m){if(!m&&d.nodeName.toLowerCase()==="input")return d.defaultValue}),Vt(function(d){return d.getAttribute("disabled")==null})||Rn(xn,function(d,v,m){var x;if(!m)return d[v]===!0?v.toLowerCase():(x=d.getAttributeNode(v))&&x.specified?x.value:null}),ot}(i);f.find=te,f.expr=te.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=te.uniqueSort,f.text=te.getText,f.isXMLDoc=te.isXML,f.contains=te.contains,f.escapeSelector=te.escape;var pe=function(e,r,a){for(var u=[],l=a!==void 0;(e=e[r])&&e.nodeType!==9;)if(e.nodeType===1){if(l&&f(e).is(a))break;u.push(e)}return u},Xn=function(e,r){for(var a=[];e;e=e.nextSibling)e.nodeType===1&&e!==r&&a.push(e);return a},Bn=f.expr.match.needsContext;function Dt(e,r){return e.nodeName&&e.nodeName.toLowerCase()===r.toLowerCase()}var Kn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function pn(e,r,a){return H(r)?f.grep(e,function(u,l){return!!r.call(u,l,u)!==a}):r.nodeType?f.grep(e,function(u){return u===r!==a}):typeof r!="string"?f.grep(e,function(u){return A.call(r,u)>-1!==a}):f.filter(r,e,a)}f.filter=function(e,r,a){var u=r[0];return a&&(e=":not("+e+")"),r.length===1&&u.nodeType===1?f.find.matchesSelector(u,e)?[u]:[]:f.find.matches(e,f.grep(r,function(l){return l.nodeType===1}))},f.fn.extend({find:function(e){var r,a,u=this.length,l=this;if(typeof e!="string")return this.pushStack(f(e).filter(function(){for(r=0;r<u;r++)if(f.contains(l[r],this))return!0}));for(a=this.pushStack([]),r=0;r<u;r++)f.find(e,l[r],a);return u>1?f.uniqueSort(a):a},filter:function(e){return this.pushStack(pn(this,e||[],!1))},not:function(e){return this.pushStack(pn(this,e||[],!0))},is:function(e){return!!pn(this,typeof e=="string"&&Bn.test(e)?f(e):e||[],!1).length}});var $n,Wi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Yi=f.fn.init=function(e,r,a){var u,l;if(!e)return this;if(a=a||$n,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?u=[null,e,null]:u=Wi.exec(e),u&&(u[1]||!r))if(u[1]){if(r=r instanceof f?r[0]:r,f.merge(this,f.parseHTML(u[1],r&&r.nodeType?r.ownerDocument||r:Y,!0)),Kn.test(u[1])&&f.isPlainObject(r))for(u in r)H(this[u])?this[u](r[u]):this.attr(u,r[u]);return this}else return l=Y.getElementById(u[2]),l&&(this[0]=l,this.length=1),this;else return!r||r.jquery?(r||a).find(e):this.constructor(r).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(H(e))return a.ready!==void 0?a.ready(e):e(f)}return f.makeArray(e,this)};Yi.prototype=f.fn,$n=f(Y);var zi=/^(?:parents|prev(?:Until|All))/,Xi={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(e){var r=f(e,this),a=r.length;return this.filter(function(){for(var u=0;u<a;u++)if(f.contains(this,r[u]))return!0})},closest:function(e,r){var a,u=0,l=this.length,h=[],p=typeof e!="string"&&f(e);if(!Bn.test(e)){for(;u<l;u++)for(a=this[u];a&&a!==r;a=a.parentNode)if(a.nodeType<11&&(p?p.index(a)>-1:a.nodeType===1&&f.find.matchesSelector(a,e))){h.push(a);break}}return this.pushStack(h.length>1?f.uniqueSort(h):h)},index:function(e){return e?typeof e=="string"?A.call(f(e),this[0]):A.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,r){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(e,r))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Qn(e,r){for(;(e=e[r])&&e.nodeType!==1;);return e}f.each({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return pe(e,"parentNode")},parentsUntil:function(e,r,a){return pe(e,"parentNode",a)},next:function(e){return Qn(e,"nextSibling")},prev:function(e){return Qn(e,"previousSibling")},nextAll:function(e){return pe(e,"nextSibling")},prevAll:function(e){return pe(e,"previousSibling")},nextUntil:function(e,r,a){return pe(e,"nextSibling",a)},prevUntil:function(e,r,a){return pe(e,"previousSibling",a)},siblings:function(e){return Xn((e.parentNode||{}).firstChild,e)},children:function(e){return Xn(e.firstChild)},contents:function(e){return e.contentDocument!=null&&o(e.contentDocument)?e.contentDocument:(Dt(e,"template")&&(e=e.content||e),f.merge([],e.childNodes))}},function(e,r){f.fn[e]=function(a,u){var l=f.map(this,r,a);return e.slice(-5)!=="Until"&&(u=a),u&&typeof u=="string"&&(l=f.filter(u,l)),this.length>1&&(Xi[e]||f.uniqueSort(l),zi.test(e)&&l.reverse()),this.pushStack(l)}});var kt=/[^\x20\t\r\n\f]+/g;function Bi(e){var r={};return f.each(e.match(kt)||[],function(a,u){r[u]=!0}),r}f.Callbacks=function(e){e=typeof e=="string"?Bi(e):f.extend({},e);var r,a,u,l,h=[],p=[],y=-1,_=function(){for(l=l||e.once,u=r=!0;p.length;y=-1)for(a=p.shift();++y<h.length;)h[y].apply(a[0],a[1])===!1&&e.stopOnFalse&&(y=h.length,a=!1);e.memory||(a=!1),r=!1,l&&(a?h=[]:h="")},E={add:function(){return h&&(a&&!r&&(y=h.length-1,p.push(a)),function I(w){f.each(w,function(C,L){H(L)?(!e.unique||!E.has(L))&&h.push(L):L&&L.length&&jt(L)!=="string"&&I(L)})}(arguments),a&&!r&&_()),this},remove:function(){return f.each(arguments,function(I,w){for(var C;(C=f.inArray(w,h,C))>-1;)h.splice(C,1),C<=y&&y--}),this},has:function(I){return I?f.inArray(I,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return l=p=[],h=a="",this},disabled:function(){return!h},lock:function(){return l=p=[],!a&&!r&&(h=a=""),this},locked:function(){return!!l},fireWith:function(I,w){return l||(w=w||[],w=[I,w.slice?w.slice():w],p.push(w),r||_()),this},fire:function(){return E.fireWith(this,arguments),this},fired:function(){return!!u}};return E};function de(e){return e}function ke(e){throw e}function Jn(e,r,a,u){var l;try{e&&H(l=e.promise)?l.call(e).done(r).fail(a):e&&H(l=e.then)?l.call(e,r,a):r.apply(void 0,[e].slice(u))}catch(h){a.apply(void 0,[h])}}f.extend({Deferred:function(e){var r=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],a="pending",u={state:function(){return a},always:function(){return l.done(arguments).fail(arguments),this},catch:function(h){return u.then(null,h)},pipe:function(){var h=arguments;return f.Deferred(function(p){f.each(r,function(y,_){var E=H(h[_[4]])&&h[_[4]];l[_[1]](function(){var I=E&&E.apply(this,arguments);I&&H(I.promise)?I.promise().progress(p.notify).done(p.resolve).fail(p.reject):p[_[0]+"With"](this,E?[I]:arguments)})}),h=null}).promise()},then:function(h,p,y){var _=0;function E(I,w,C,L){return function(){var q=this,J=arguments,W=function(){var ht,Nt;if(!(I<_)){if(ht=C.apply(q,J),ht===w.promise())throw new TypeError("Thenable self-resolution");Nt=ht&&(typeof ht=="object"||typeof ht=="function")&&ht.then,H(Nt)?L?Nt.call(ht,E(_,w,de,L),E(_,w,ke,L)):(_++,Nt.call(ht,E(_,w,de,L),E(_,w,ke,L),E(_,w,de,w.notifyWith))):(C!==de&&(q=void 0,J=[ht]),(L||w.resolveWith)(q,J))}},dt=L?W:function(){try{W()}catch(ht){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(ht,dt.stackTrace),I+1>=_&&(C!==ke&&(q=void 0,J=[ht]),w.rejectWith(q,J))}};I?dt():(f.Deferred.getStackHook&&(dt.stackTrace=f.Deferred.getStackHook()),i.setTimeout(dt))}}return f.Deferred(function(I){r[0][3].add(E(0,I,H(y)?y:de,I.notifyWith)),r[1][3].add(E(0,I,H(h)?h:de)),r[2][3].add(E(0,I,H(p)?p:ke))}).promise()},promise:function(h){return h!=null?f.extend(h,u):u}},l={};return f.each(r,function(h,p){var y=p[2],_=p[5];u[p[1]]=y.add,_&&y.add(function(){a=_},r[3-h][2].disable,r[3-h][3].disable,r[0][2].lock,r[0][3].lock),y.add(p[3].fire),l[p[0]]=function(){return l[p[0]+"With"](this===l?void 0:this,arguments),this},l[p[0]+"With"]=y.fireWith}),u.promise(l),e&&e.call(l,l),l},when:function(e){var r=arguments.length,a=r,u=Array(a),l=s.call(arguments),h=f.Deferred(),p=function(y){return function(_){u[y]=this,l[y]=arguments.length>1?s.call(arguments):_,--r||h.resolveWith(u,l)}};if(r<=1&&(Jn(e,h.done(p(a)).resolve,h.reject,!r),h.state()==="pending"||H(l[a]&&l[a].then)))return h.then();for(;a--;)Jn(l[a],p(a),h.reject);return h.promise()}});var Ki=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(e,r){i.console&&i.console.warn&&e&&Ki.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,r)},f.readyException=function(e){i.setTimeout(function(){throw e})};var dn=f.Deferred();f.fn.ready=function(e){return dn.then(e).catch(function(r){f.readyException(r)}),this},f.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(e!==!0&&--f.readyWait>0)&&dn.resolveWith(Y,[f]))}}),f.ready.then=dn.then;function qe(){Y.removeEventListener("DOMContentLoaded",qe),i.removeEventListener("load",qe),f.ready()}Y.readyState==="complete"||Y.readyState!=="loading"&&!Y.documentElement.doScroll?i.setTimeout(f.ready):(Y.addEventListener("DOMContentLoaded",qe),i.addEventListener("load",qe));var Yt=function(e,r,a,u,l,h,p){var y=0,_=e.length,E=a==null;if(jt(a)==="object"){l=!0;for(y in a)Yt(e,r,y,a[y],!0,h,p)}else if(u!==void 0&&(l=!0,H(u)||(p=!0),E&&(p?(r.call(e,u),r=null):(E=r,r=function(I,w,C){return E.call(f(I),C)})),r))for(;y<_;y++)r(e[y],a,p?u:u.call(e[y],y,r(e[y],a)));return l?e:E?r.call(e):_?r(e[0],a):h},$i=/^-ms-/,Qi=/-([a-z])/g;function Ji(e,r){return r.toUpperCase()}function qt(e){return e.replace($i,"ms-").replace(Qi,Ji)}var Se=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Le(){this.expando=f.expando+Le.uid++}Le.uid=1,Le.prototype={cache:function(e){var r=e[this.expando];return r||(r=Object.create(null),Se(e)&&(e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,configurable:!0}))),r},set:function(e,r,a){var u,l=this.cache(e);if(typeof r=="string")l[qt(r)]=a;else for(u in r)l[qt(u)]=r[u];return l},get:function(e,r){return r===void 0?this.cache(e):e[this.expando]&&e[this.expando][qt(r)]},access:function(e,r,a){return r===void 0||r&&typeof r=="string"&&a===void 0?this.get(e,r):(this.set(e,r,a),a!==void 0?a:r)},remove:function(e,r){var a,u=e[this.expando];if(u!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(qt):(r=qt(r),r=r in u?[r]:r.match(kt)||[]),a=r.length;a--;)delete u[r[a]];(r===void 0||f.isEmptyObject(u))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var r=e[this.expando];return r!==void 0&&!f.isEmptyObject(r)}};var K=new Le,It=new Le,Zi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,to=/[A-Z]/g;function eo(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:Zi.test(e)?JSON.parse(e):e}function Zn(e,r,a){var u;if(a===void 0&&e.nodeType===1)if(u="data-"+r.replace(to,"-$&").toLowerCase(),a=e.getAttribute(u),typeof a=="string"){try{a=eo(a)}catch{}It.set(e,r,a)}else a=void 0;return a}f.extend({hasData:function(e){return It.hasData(e)||K.hasData(e)},data:function(e,r,a){return It.access(e,r,a)},removeData:function(e,r){It.remove(e,r)},_data:function(e,r,a){return K.access(e,r,a)},_removeData:function(e,r){K.remove(e,r)}}),f.fn.extend({data:function(e,r){var a,u,l,h=this[0],p=h&&h.attributes;if(e===void 0){if(this.length&&(l=It.get(h),h.nodeType===1&&!K.get(h,"hasDataAttrs"))){for(a=p.length;a--;)p[a]&&(u=p[a].name,u.indexOf("data-")===0&&(u=qt(u.slice(5)),Zn(h,u,l[u])));K.set(h,"hasDataAttrs",!0)}return l}return typeof e=="object"?this.each(function(){It.set(this,e)}):Yt(this,function(y){var _;if(h&&y===void 0)return _=It.get(h,e),_!==void 0||(_=Zn(h,e),_!==void 0)?_:void 0;this.each(function(){It.set(this,e,y)})},null,r,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){It.remove(this,e)})}}),f.extend({queue:function(e,r,a){var u;if(e)return r=(r||"fx")+"queue",u=K.get(e,r),a&&(!u||Array.isArray(a)?u=K.access(e,r,f.makeArray(a)):u.push(a)),u||[]},dequeue:function(e,r){r=r||"fx";var a=f.queue(e,r),u=a.length,l=a.shift(),h=f._queueHooks(e,r),p=function(){f.dequeue(e,r)};l==="inprogress"&&(l=a.shift(),u--),l&&(r==="fx"&&a.unshift("inprogress"),delete h.stop,l.call(e,p,h)),!u&&h&&h.empty.fire()},_queueHooks:function(e,r){var a=r+"queueHooks";return K.get(e,a)||K.access(e,a,{empty:f.Callbacks("once memory").add(function(){K.remove(e,[r+"queue",a])})})}}),f.fn.extend({queue:function(e,r){var a=2;return typeof e!="string"&&(r=e,e="fx",a--),arguments.length<a?f.queue(this[0],e):r===void 0?this:this.each(function(){var u=f.queue(this,e,r);f._queueHooks(this,e),e==="fx"&&u[0]!=="inprogress"&&f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,r){var a,u=1,l=f.Deferred(),h=this,p=this.length,y=function(){--u||l.resolveWith(h,[h])};for(typeof e!="string"&&(r=e,e=void 0),e=e||"fx";p--;)a=K.get(h[p],e+"queueHooks"),a&&a.empty&&(u++,a.empty.add(y));return y(),l.promise(r)}});var tr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=new RegExp("^(?:([+-])=|)("+tr+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],ee=Y.documentElement,ge=function(e){return f.contains(e.ownerDocument,e)},no={composed:!0};ee.getRootNode&&(ge=function(e){return f.contains(e.ownerDocument,e)||e.getRootNode(no)===e.ownerDocument});var We=function(e,r){return e=r||e,e.style.display==="none"||e.style.display===""&&ge(e)&&f.css(e,"display")==="none"};function er(e,r,a,u){var l,h,p=20,y=u?function(){return u.cur()}:function(){return f.css(e,r,"")},_=y(),E=a&&a[3]||(f.cssNumber[r]?"":"px"),I=e.nodeType&&(f.cssNumber[r]||E!=="px"&&+_)&&xe.exec(f.css(e,r));if(I&&I[3]!==E){for(_=_/2,E=E||I[3],I=+_||1;p--;)f.style(e,r,I+E),(1-h)*(1-(h=y()/_||.5))<=0&&(p=0),I=I/h;I=I*2,f.style(e,r,I+E),a=a||[]}return a&&(I=+I||+_||0,l=a[1]?I+(a[1]+1)*a[2]:+a[2],u&&(u.unit=E,u.start=I,u.end=l)),l}var nr={};function ro(e){var r,a=e.ownerDocument,u=e.nodeName,l=nr[u];return l||(r=a.body.appendChild(a.createElement(u)),l=f.css(r,"display"),r.parentNode.removeChild(r),l==="none"&&(l="block"),nr[u]=l,l)}function ve(e,r){for(var a,u,l=[],h=0,p=e.length;h<p;h++)u=e[h],!!u.style&&(a=u.style.display,r?(a==="none"&&(l[h]=K.get(u,"display")||null,l[h]||(u.style.display="")),u.style.display===""&&We(u)&&(l[h]=ro(u))):a!=="none"&&(l[h]="none",K.set(u,"display",a)));for(h=0;h<p;h++)l[h]!=null&&(e[h].style.display=l[h]);return e}f.fn.extend({show:function(){return ve(this,!0)},hide:function(){return ve(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){We(this)?f(this).show():f(this).hide()})}});var Ne=/^(?:checkbox|radio)$/i,rr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ir=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=Y.createDocumentFragment(),r=e.appendChild(Y.createElement("div")),a=Y.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),r.appendChild(a),U.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",U.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",U.option=!!r.lastChild})();var Mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,U.option||(Mt.optgroup=Mt.option=[1,"<select multiple='multiple'>","</select>"]);function Ot(e,r){var a;return typeof e.getElementsByTagName!="undefined"?a=e.getElementsByTagName(r||"*"):typeof e.querySelectorAll!="undefined"?a=e.querySelectorAll(r||"*"):a=[],r===void 0||r&&Dt(e,r)?f.merge([e],a):a}function gn(e,r){for(var a=0,u=e.length;a<u;a++)K.set(e[a],"globalEval",!r||K.get(r[a],"globalEval"))}var io=/<|&#?\w+;/;function or(e,r,a,u,l){for(var h,p,y,_,E,I,w=r.createDocumentFragment(),C=[],L=0,q=e.length;L<q;L++)if(h=e[L],h||h===0)if(jt(h)==="object")f.merge(C,h.nodeType?[h]:h);else if(!io.test(h))C.push(r.createTextNode(h));else{for(p=p||w.appendChild(r.createElement("div")),y=(rr.exec(h)||["",""])[1].toLowerCase(),_=Mt[y]||Mt._default,p.innerHTML=_[1]+f.htmlPrefilter(h)+_[2],I=_[0];I--;)p=p.lastChild;f.merge(C,p.childNodes),p=w.firstChild,p.textContent=""}for(w.textContent="",L=0;h=C[L++];){if(u&&f.inArray(h,u)>-1){l&&l.push(h);continue}if(E=ge(h),p=Ot(w.appendChild(h),"script"),E&&gn(p),a)for(I=0;h=p[I++];)ir.test(h.type||"")&&a.push(h)}return w}var oo=/^key/,ao=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ar=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function _e(){return!1}function so(e,r){return e===uo()==(r==="focus")}function uo(){try{return Y.activeElement}catch{}}function vn(e,r,a,u,l,h){var p,y;if(typeof r=="object"){typeof a!="string"&&(u=u||a,a=void 0);for(y in r)vn(e,y,a,u,r[y],h);return e}if(u==null&&l==null?(l=a,u=a=void 0):l==null&&(typeof a=="string"?(l=u,u=void 0):(l=u,u=a,a=void 0)),l===!1)l=_e;else if(!l)return e;return h===1&&(p=l,l=function(_){return f().off(_),p.apply(this,arguments)},l.guid=p.guid||(p.guid=f.guid++)),e.each(function(){f.event.add(this,r,l,u,a)})}f.event={global:{},add:function(e,r,a,u,l){var h,p,y,_,E,I,w,C,L,q,J,W=K.get(e);if(!!Se(e))for(a.handler&&(h=a,a=h.handler,l=h.selector),l&&f.find.matchesSelector(ee,l),a.guid||(a.guid=f.guid++),(_=W.events)||(_=W.events=Object.create(null)),(p=W.handle)||(p=W.handle=function(dt){return typeof f!="undefined"&&f.event.triggered!==dt.type?f.event.dispatch.apply(e,arguments):void 0}),r=(r||"").match(kt)||[""],E=r.length;E--;)y=ar.exec(r[E])||[],L=J=y[1],q=(y[2]||"").split(".").sort(),!!L&&(w=f.event.special[L]||{},L=(l?w.delegateType:w.bindType)||L,w=f.event.special[L]||{},I=f.extend({type:L,origType:J,data:u,handler:a,guid:a.guid,selector:l,needsContext:l&&f.expr.match.needsContext.test(l),namespace:q.join(".")},h),(C=_[L])||(C=_[L]=[],C.delegateCount=0,(!w.setup||w.setup.call(e,u,q,p)===!1)&&e.addEventListener&&e.addEventListener(L,p)),w.add&&(w.add.call(e,I),I.handler.guid||(I.handler.guid=a.guid)),l?C.splice(C.delegateCount++,0,I):C.push(I),f.event.global[L]=!0)},remove:function(e,r,a,u,l){var h,p,y,_,E,I,w,C,L,q,J,W=K.hasData(e)&&K.get(e);if(!(!W||!(_=W.events))){for(r=(r||"").match(kt)||[""],E=r.length;E--;){if(y=ar.exec(r[E])||[],L=J=y[1],q=(y[2]||"").split(".").sort(),!L){for(L in _)f.event.remove(e,L+r[E],a,u,!0);continue}for(w=f.event.special[L]||{},L=(u?w.delegateType:w.bindType)||L,C=_[L]||[],y=y[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"),p=h=C.length;h--;)I=C[h],(l||J===I.origType)&&(!a||a.guid===I.guid)&&(!y||y.test(I.namespace))&&(!u||u===I.selector||u==="**"&&I.selector)&&(C.splice(h,1),I.selector&&C.delegateCount--,w.remove&&w.remove.call(e,I));p&&!C.length&&((!w.teardown||w.teardown.call(e,q,W.handle)===!1)&&f.removeEvent(e,L,W.handle),delete _[L])}f.isEmptyObject(_)&&K.remove(e,"handle events")}},dispatch:function(e){var r,a,u,l,h,p,y=new Array(arguments.length),_=f.event.fix(e),E=(K.get(this,"events")||Object.create(null))[_.type]||[],I=f.event.special[_.type]||{};for(y[0]=_,r=1;r<arguments.length;r++)y[r]=arguments[r];if(_.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,_)===!1)){for(p=f.event.handlers.call(this,_,E),r=0;(l=p[r++])&&!_.isPropagationStopped();)for(_.currentTarget=l.elem,a=0;(h=l.handlers[a++])&&!_.isImmediatePropagationStopped();)(!_.rnamespace||h.namespace===!1||_.rnamespace.test(h.namespace))&&(_.handleObj=h,_.data=h.data,u=((f.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,y),u!==void 0&&(_.result=u)===!1&&(_.preventDefault(),_.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,_),_.result}},handlers:function(e,r){var a,u,l,h,p,y=[],_=r.delegateCount,E=e.target;if(_&&E.nodeType&&!(e.type==="click"&&e.button>=1)){for(;E!==this;E=E.parentNode||this)if(E.nodeType===1&&!(e.type==="click"&&E.disabled===!0)){for(h=[],p={},a=0;a<_;a++)u=r[a],l=u.selector+" ",p[l]===void 0&&(p[l]=u.needsContext?f(l,this).index(E)>-1:f.find(l,this,null,[E]).length),p[l]&&h.push(u);h.length&&y.push({elem:E,handlers:h})}}return E=this,_<r.length&&y.push({elem:E,handlers:r.slice(_)}),y},addProp:function(e,r){Object.defineProperty(f.Event.prototype,e,{enumerable:!0,configurable:!0,get:H(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(a){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(e){return e[f.expando]?e:new f.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var r=this||e;return Ne.test(r.type)&&r.click&&Dt(r,"input")&&Ye(r,"click",ye),!1},trigger:function(e){var r=this||e;return Ne.test(r.type)&&r.click&&Dt(r,"input")&&Ye(r,"click"),!0},_default:function(e){var r=e.target;return Ne.test(r.type)&&r.click&&Dt(r,"input")&&K.get(r,"click")||Dt(r,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function Ye(e,r,a){if(!a){K.get(e,r)===void 0&&f.event.add(e,r,ye);return}K.set(e,r,!1),f.event.add(e,r,{namespace:!1,handler:function(u){var l,h,p=K.get(this,r);if(u.isTrigger&1&&this[r]){if(p.length)(f.event.special[r]||{}).delegateType&&u.stopPropagation();else if(p=s.call(arguments),K.set(this,r,p),l=a(this,r),this[r](),h=K.get(this,r),p!==h||l?K.set(this,r,!1):h={},p!==h)return u.stopImmediatePropagation(),u.preventDefault(),h.value}else p.length&&(K.set(this,r,{value:f.event.trigger(f.extend(p[0],f.Event.prototype),p.slice(1),this)}),u.stopImmediatePropagation())}})}f.removeEvent=function(e,r,a){e.removeEventListener&&e.removeEventListener(r,a)},f.Event=function(e,r){if(!(this instanceof f.Event))return new f.Event(e,r);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?ye:_e,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,r&&f.extend(this,r),this.timeStamp=e&&e.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var r=e.button;return e.which==null&&oo.test(e.type)?e.charCode!=null?e.charCode:e.keyCode:!e.which&&r!==void 0&&ao.test(e.type)?r&1?1:r&2?3:r&4?2:0:e.which}},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(e,r){f.event.special[e]={setup:function(){return Ye(this,e,so),!1},trigger:function(){return Ye(this,e),!0},delegateType:r}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){f.event.special[e]={delegateType:r,bindType:r,handle:function(a){var u,l=this,h=a.relatedTarget,p=a.handleObj;return(!h||h!==l&&!f.contains(l,h))&&(a.type=p.origType,u=p.handler.apply(this,arguments),a.type=r),u}}}),f.fn.extend({on:function(e,r,a,u){return vn(this,e,r,a,u)},one:function(e,r,a,u){return vn(this,e,r,a,u,1)},off:function(e,r,a){var u,l;if(e&&e.preventDefault&&e.handleObj)return u=e.handleObj,f(e.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof e=="object"){for(l in e)this.off(l,r,e[l]);return this}return(r===!1||typeof r=="function")&&(a=r,r=void 0),a===!1&&(a=_e),this.each(function(){f.event.remove(this,e,a,r)})}});var fo=/<script|<style|<link/i,co=/checked\s*(?:[^=]|=\s*.checked.)/i,lo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function sr(e,r){return Dt(e,"table")&&Dt(r.nodeType!==11?r:r.firstChild,"tr")&&f(e).children("tbody")[0]||e}function ho(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function po(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ur(e,r){var a,u,l,h,p,y,_;if(r.nodeType===1){if(K.hasData(e)&&(h=K.get(e),_=h.events,_)){K.remove(r,"handle events");for(l in _)for(a=0,u=_[l].length;a<u;a++)f.event.add(r,l,_[l][a])}It.hasData(e)&&(p=It.access(e),y=f.extend({},p),It.set(r,y))}}function go(e,r){var a=r.nodeName.toLowerCase();a==="input"&&Ne.test(e.type)?r.checked=e.checked:(a==="input"||a==="textarea")&&(r.defaultValue=e.defaultValue)}function me(e,r,a,u){r=c(r);var l,h,p,y,_,E,I=0,w=e.length,C=w-1,L=r[0],q=H(L);if(q||w>1&&typeof L=="string"&&!U.checkClone&&co.test(L))return e.each(function(J){var W=e.eq(J);q&&(r[0]=L.call(this,J,W.html())),me(W,r,a,u)});if(w&&(l=or(r,e[0].ownerDocument,!1,e,u),h=l.firstChild,l.childNodes.length===1&&(l=h),h||u)){for(p=f.map(Ot(l,"script"),ho),y=p.length;I<w;I++)_=l,I!==C&&(_=f.clone(_,!0,!0),y&&f.merge(p,Ot(_,"script"))),a.call(e[I],_,I);if(y)for(E=p[p.length-1].ownerDocument,f.map(p,po),I=0;I<y;I++)_=p[I],ir.test(_.type||"")&&!K.access(_,"globalEval")&&f.contains(E,_)&&(_.src&&(_.type||"").toLowerCase()!=="module"?f._evalUrl&&!_.noModule&&f._evalUrl(_.src,{nonce:_.nonce||_.getAttribute("nonce")},E):Ct(_.textContent.replace(lo,""),_,E))}return e}function fr(e,r,a){for(var u,l=r?f.filter(r,e):e,h=0;(u=l[h])!=null;h++)!a&&u.nodeType===1&&f.cleanData(Ot(u)),u.parentNode&&(a&&ge(u)&&gn(Ot(u,"script")),u.parentNode.removeChild(u));return e}f.extend({htmlPrefilter:function(e){return e},clone:function(e,r,a){var u,l,h,p,y=e.cloneNode(!0),_=ge(e);if(!U.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!f.isXMLDoc(e))for(p=Ot(y),h=Ot(e),u=0,l=h.length;u<l;u++)go(h[u],p[u]);if(r)if(a)for(h=h||Ot(e),p=p||Ot(y),u=0,l=h.length;u<l;u++)ur(h[u],p[u]);else ur(e,y);return p=Ot(y,"script"),p.length>0&&gn(p,!_&&Ot(e,"script")),y},cleanData:function(e){for(var r,a,u,l=f.event.special,h=0;(a=e[h])!==void 0;h++)if(Se(a)){if(r=a[K.expando]){if(r.events)for(u in r.events)l[u]?f.event.remove(a,u):f.removeEvent(a,u,r.handle);a[K.expando]=void 0}a[It.expando]&&(a[It.expando]=void 0)}}}),f.fn.extend({detach:function(e){return fr(this,e,!0)},remove:function(e){return fr(this,e)},text:function(e){return Yt(this,function(r){return r===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=r)})},null,e,arguments.length)},append:function(){return me(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=sr(this,e);r.appendChild(e)}})},prepend:function(){return me(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=sr(this,e);r.insertBefore(e,r.firstChild)}})},before:function(){return me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,r=0;(e=this[r])!=null;r++)e.nodeType===1&&(f.cleanData(Ot(e,!1)),e.textContent="");return this},clone:function(e,r){return e=e??!1,r=r??e,this.map(function(){return f.clone(this,e,r)})},html:function(e){return Yt(this,function(r){var a=this[0]||{},u=0,l=this.length;if(r===void 0&&a.nodeType===1)return a.innerHTML;if(typeof r=="string"&&!fo.test(r)&&!Mt[(rr.exec(r)||["",""])[1].toLowerCase()]){r=f.htmlPrefilter(r);try{for(;u<l;u++)a=this[u]||{},a.nodeType===1&&(f.cleanData(Ot(a,!1)),a.innerHTML=r);a=0}catch{}}a&&this.empty().append(r)},null,e,arguments.length)},replaceWith:function(){var e=[];return me(this,arguments,function(r){var a=this.parentNode;f.inArray(this,e)<0&&(f.cleanData(Ot(this)),a&&a.replaceChild(r,this))},e)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){f.fn[e]=function(a){for(var u,l=[],h=f(a),p=h.length-1,y=0;y<=p;y++)u=y===p?this:this.clone(!0),f(h[y])[r](u),g.apply(l,u.get());return this.pushStack(l)}});var yn=new RegExp("^("+tr+")(?!px)[a-z%]+$","i"),ze=function(e){var r=e.ownerDocument.defaultView;return(!r||!r.opener)&&(r=i),r.getComputedStyle(e)},cr=function(e,r,a){var u,l,h={};for(l in r)h[l]=e.style[l],e.style[l]=r[l];u=a.call(e);for(l in r)e.style[l]=h[l];return u},vo=new RegExp(zt.join("|"),"i");(function(){function e(){if(!!E){_.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",E.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ee.appendChild(_).appendChild(E);var I=i.getComputedStyle(E);a=I.top!=="1%",y=r(I.marginLeft)===12,E.style.right="60%",h=r(I.right)===36,u=r(I.width)===36,E.style.position="absolute",l=r(E.offsetWidth/3)===12,ee.removeChild(_),E=null}}function r(I){return Math.round(parseFloat(I))}var a,u,l,h,p,y,_=Y.createElement("div"),E=Y.createElement("div");!E.style||(E.style.backgroundClip="content-box",E.cloneNode(!0).style.backgroundClip="",U.clearCloneStyle=E.style.backgroundClip==="content-box",f.extend(U,{boxSizingReliable:function(){return e(),u},pixelBoxStyles:function(){return e(),h},pixelPosition:function(){return e(),a},reliableMarginLeft:function(){return e(),y},scrollboxSize:function(){return e(),l},reliableTrDimensions:function(){var I,w,C,L;return p==null&&(I=Y.createElement("table"),w=Y.createElement("tr"),C=Y.createElement("div"),I.style.cssText="position:absolute;left:-11111px",w.style.height="1px",C.style.height="9px",ee.appendChild(I).appendChild(w).appendChild(C),L=i.getComputedStyle(w),p=parseInt(L.height)>3,ee.removeChild(I)),p}}))})();function be(e,r,a){var u,l,h,p,y=e.style;return a=a||ze(e),a&&(p=a.getPropertyValue(r)||a[r],p===""&&!ge(e)&&(p=f.style(e,r)),!U.pixelBoxStyles()&&yn.test(p)&&vo.test(r)&&(u=y.width,l=y.minWidth,h=y.maxWidth,y.minWidth=y.maxWidth=y.width=p,p=a.width,y.width=u,y.minWidth=l,y.maxWidth=h)),p!==void 0?p+"":p}function lr(e,r){return{get:function(){if(e()){delete this.get;return}return(this.get=r).apply(this,arguments)}}}var hr=["Webkit","Moz","ms"],pr=Y.createElement("div").style,dr={};function yo(e){for(var r=e[0].toUpperCase()+e.slice(1),a=hr.length;a--;)if(e=hr[a]+r,e in pr)return e}function _n(e){var r=f.cssProps[e]||dr[e];return r||(e in pr?e:dr[e]=yo(e)||e)}var _o=/^(none|table(?!-c[ea]).+)/,gr=/^--/,mo={position:"absolute",visibility:"hidden",display:"block"},vr={letterSpacing:"0",fontWeight:"400"};function yr(e,r,a){var u=xe.exec(r);return u?Math.max(0,u[2]-(a||0))+(u[3]||"px"):r}function mn(e,r,a,u,l,h){var p=r==="width"?1:0,y=0,_=0;if(a===(u?"border":"content"))return 0;for(;p<4;p+=2)a==="margin"&&(_+=f.css(e,a+zt[p],!0,l)),u?(a==="content"&&(_-=f.css(e,"padding"+zt[p],!0,l)),a!=="margin"&&(_-=f.css(e,"border"+zt[p]+"Width",!0,l))):(_+=f.css(e,"padding"+zt[p],!0,l),a!=="padding"?_+=f.css(e,"border"+zt[p]+"Width",!0,l):y+=f.css(e,"border"+zt[p]+"Width",!0,l));return!u&&h>=0&&(_+=Math.max(0,Math.ceil(e["offset"+r[0].toUpperCase()+r.slice(1)]-h-_-y-.5))||0),_}function _r(e,r,a){var u=ze(e),l=!U.boxSizingReliable()||a,h=l&&f.css(e,"boxSizing",!1,u)==="border-box",p=h,y=be(e,r,u),_="offset"+r[0].toUpperCase()+r.slice(1);if(yn.test(y)){if(!a)return y;y="auto"}return(!U.boxSizingReliable()&&h||!U.reliableTrDimensions()&&Dt(e,"tr")||y==="auto"||!parseFloat(y)&&f.css(e,"display",!1,u)==="inline")&&e.getClientRects().length&&(h=f.css(e,"boxSizing",!1,u)==="border-box",p=_ in e,p&&(y=e[_])),y=parseFloat(y)||0,y+mn(e,r,a||(h?"border":"content"),p,u,y)+"px"}f.extend({cssHooks:{opacity:{get:function(e,r){if(r){var a=be(e,"opacity");return a===""?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,r,a,u){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var l,h,p,y=qt(r),_=gr.test(r),E=e.style;if(_||(r=_n(y)),p=f.cssHooks[r]||f.cssHooks[y],a!==void 0){if(h=typeof a,h==="string"&&(l=xe.exec(a))&&l[1]&&(a=er(e,r,l),h="number"),a==null||a!==a)return;h==="number"&&!_&&(a+=l&&l[3]||(f.cssNumber[y]?"":"px")),!U.clearCloneStyle&&a===""&&r.indexOf("background")===0&&(E[r]="inherit"),(!p||!("set"in p)||(a=p.set(e,a,u))!==void 0)&&(_?E.setProperty(r,a):E[r]=a)}else return p&&"get"in p&&(l=p.get(e,!1,u))!==void 0?l:E[r]}},css:function(e,r,a,u){var l,h,p,y=qt(r),_=gr.test(r);return _||(r=_n(y)),p=f.cssHooks[r]||f.cssHooks[y],p&&"get"in p&&(l=p.get(e,!0,a)),l===void 0&&(l=be(e,r,u)),l==="normal"&&r in vr&&(l=vr[r]),a===""||a?(h=parseFloat(l),a===!0||isFinite(h)?h||0:l):l}}),f.each(["height","width"],function(e,r){f.cssHooks[r]={get:function(a,u,l){if(u)return _o.test(f.css(a,"display"))&&(!a.getClientRects().length||!a.getBoundingClientRect().width)?cr(a,mo,function(){return _r(a,r,l)}):_r(a,r,l)},set:function(a,u,l){var h,p=ze(a),y=!U.scrollboxSize()&&p.position==="absolute",_=y||l,E=_&&f.css(a,"boxSizing",!1,p)==="border-box",I=l?mn(a,r,l,E,p):0;return E&&y&&(I-=Math.ceil(a["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(p[r])-mn(a,r,"border",!1,p)-.5)),I&&(h=xe.exec(u))&&(h[3]||"px")!=="px"&&(a.style[r]=u,u=f.css(a,r)),yr(a,u,I)}}}),f.cssHooks.marginLeft=lr(U.reliableMarginLeft,function(e,r){if(r)return(parseFloat(be(e,"marginLeft"))||e.getBoundingClientRect().left-cr(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(e,r){f.cssHooks[e+r]={expand:function(a){for(var u=0,l={},h=typeof a=="string"?a.split(" "):[a];u<4;u++)l[e+zt[u]+r]=h[u]||h[u-2]||h[0];return l}},e!=="margin"&&(f.cssHooks[e+r].set=yr)}),f.fn.extend({css:function(e,r){return Yt(this,function(a,u,l){var h,p,y={},_=0;if(Array.isArray(u)){for(h=ze(a),p=u.length;_<p;_++)y[u[_]]=f.css(a,u[_],!1,h);return y}return l!==void 0?f.style(a,u,l):f.css(a,u)},e,r,arguments.length>1)}});function St(e,r,a,u,l){return new St.prototype.init(e,r,a,u,l)}f.Tween=St,St.prototype={constructor:St,init:function(e,r,a,u,l,h){this.elem=e,this.prop=a,this.easing=l||f.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=u,this.unit=h||(f.cssNumber[a]?"":"px")},cur:function(){var e=St.propHooks[this.prop];return e&&e.get?e.get(this):St.propHooks._default.get(this)},run:function(e){var r,a=St.propHooks[this.prop];return this.options.duration?this.pos=r=f.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=r=e,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):St.propHooks._default.set(this),this}},St.prototype.init.prototype=St.prototype,St.propHooks={_default:{get:function(e){var r;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(r=f.css(e.elem,e.prop,""),!r||r==="auto"?0:r)},set:function(e){f.fx.step[e.prop]?f.fx.step[e.prop](e):e.elem.nodeType===1&&(f.cssHooks[e.prop]||e.elem.style[_n(e.prop)]!=null)?f.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},St.propHooks.scrollTop=St.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},f.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},f.fx=St.prototype.init,f.fx.step={};var Ee,Xe,Eo=/^(?:toggle|show|hide)$/,To=/queueHooks$/;function En(){Xe&&(Y.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(En):i.setTimeout(En,f.fx.interval),f.fx.tick())}function mr(){return i.setTimeout(function(){Ee=void 0}),Ee=Date.now()}function Be(e,r){var a,u=0,l={height:e};for(r=r?1:0;u<4;u+=2-r)a=zt[u],l["margin"+a]=l["padding"+a]=e;return r&&(l.opacity=l.width=e),l}function Er(e,r,a){for(var u,l=(Ft.tweeners[r]||[]).concat(Ft.tweeners["*"]),h=0,p=l.length;h<p;h++)if(u=l[h].call(a,r,e))return u}function Ao(e,r,a){var u,l,h,p,y,_,E,I,w="width"in r||"height"in r,C=this,L={},q=e.style,J=e.nodeType&&We(e),W=K.get(e,"fxshow");a.queue||(p=f._queueHooks(e,"fx"),p.unqueued==null&&(p.unqueued=0,y=p.empty.fire,p.empty.fire=function(){p.unqueued||y()}),p.unqueued++,C.always(function(){C.always(function(){p.unqueued--,f.queue(e,"fx").length||p.empty.fire()})}));for(u in r)if(l=r[u],Eo.test(l)){if(delete r[u],h=h||l==="toggle",l===(J?"hide":"show"))if(l==="show"&&W&&W[u]!==void 0)J=!0;else continue;L[u]=W&&W[u]||f.style(e,u)}if(_=!f.isEmptyObject(r),!(!_&&f.isEmptyObject(L))){w&&e.nodeType===1&&(a.overflow=[q.overflow,q.overflowX,q.overflowY],E=W&&W.display,E==null&&(E=K.get(e,"display")),I=f.css(e,"display"),I==="none"&&(E?I=E:(ve([e],!0),E=e.style.display||E,I=f.css(e,"display"),ve([e]))),(I==="inline"||I==="inline-block"&&E!=null)&&f.css(e,"float")==="none"&&(_||(C.done(function(){q.display=E}),E==null&&(I=q.display,E=I==="none"?"":I)),q.display="inline-block")),a.overflow&&(q.overflow="hidden",C.always(function(){q.overflow=a.overflow[0],q.overflowX=a.overflow[1],q.overflowY=a.overflow[2]})),_=!1;for(u in L)_||(W?"hidden"in W&&(J=W.hidden):W=K.access(e,"fxshow",{display:E}),h&&(W.hidden=!J),J&&ve([e],!0),C.done(function(){J||ve([e]),K.remove(e,"fxshow");for(u in L)f.style(e,u,L[u])})),_=Er(J?W[u]:0,u,C),u in W||(W[u]=_.start,J&&(_.end=_.start,_.start=0))}}function Co(e,r){var a,u,l,h,p;for(a in e)if(u=qt(a),l=r[u],h=e[a],Array.isArray(h)&&(l=h[1],h=e[a]=h[0]),a!==u&&(e[u]=h,delete e[a]),p=f.cssHooks[u],p&&"expand"in p){h=p.expand(h),delete e[u];for(a in h)a in e||(e[a]=h[a],r[a]=l)}else r[u]=l}function Ft(e,r,a){var u,l,h=0,p=Ft.prefilters.length,y=f.Deferred().always(function(){delete _.elem}),_=function(){if(l)return!1;for(var w=Ee||mr(),C=Math.max(0,E.startTime+E.duration-w),L=C/E.duration||0,q=1-L,J=0,W=E.tweens.length;J<W;J++)E.tweens[J].run(q);return y.notifyWith(e,[E,q,C]),q<1&&W?C:(W||y.notifyWith(e,[E,1,0]),y.resolveWith(e,[E]),!1)},E=y.promise({elem:e,props:f.extend({},r),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},a),originalProperties:r,originalOptions:a,startTime:Ee||mr(),duration:a.duration,tweens:[],createTween:function(w,C){var L=f.Tween(e,E.opts,w,C,E.opts.specialEasing[w]||E.opts.easing);return E.tweens.push(L),L},stop:function(w){var C=0,L=w?E.tweens.length:0;if(l)return this;for(l=!0;C<L;C++)E.tweens[C].run(1);return w?(y.notifyWith(e,[E,1,0]),y.resolveWith(e,[E,w])):y.rejectWith(e,[E,w]),this}}),I=E.props;for(Co(I,E.opts.specialEasing);h<p;h++)if(u=Ft.prefilters[h].call(E,e,I,E.opts),u)return H(u.stop)&&(f._queueHooks(E.elem,E.opts.queue).stop=u.stop.bind(u)),u;return f.map(I,Er,E),H(E.opts.start)&&E.opts.start.call(e,E),E.progress(E.opts.progress).done(E.opts.done,E.opts.complete).fail(E.opts.fail).always(E.opts.always),f.fx.timer(f.extend(_,{elem:e,anim:E,queue:E.opts.queue})),E}f.Animation=f.extend(Ft,{tweeners:{"*":[function(e,r){var a=this.createTween(e,r);return er(a.elem,e,xe.exec(r),a),a}]},tweener:function(e,r){H(e)?(r=e,e=["*"]):e=e.match(kt);for(var a,u=0,l=e.length;u<l;u++)a=e[u],Ft.tweeners[a]=Ft.tweeners[a]||[],Ft.tweeners[a].unshift(r)},prefilters:[Ao],prefilter:function(e,r){r?Ft.prefilters.unshift(e):Ft.prefilters.push(e)}}),f.speed=function(e,r,a){var u=e&&typeof e=="object"?f.extend({},e):{complete:a||!a&&r||H(e)&&e,duration:e,easing:a&&r||r&&!H(r)&&r};return f.fx.off?u.duration=0:typeof u.duration!="number"&&(u.duration in f.fx.speeds?u.duration=f.fx.speeds[u.duration]:u.duration=f.fx.speeds._default),(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){H(u.old)&&u.old.call(this),u.queue&&f.dequeue(this,u.queue)},u},f.fn.extend({fadeTo:function(e,r,a,u){return this.filter(We).css("opacity",0).show().end().animate({opacity:r},e,a,u)},animate:function(e,r,a,u){var l=f.isEmptyObject(e),h=f.speed(r,a,u),p=function(){var y=Ft(this,f.extend({},e),h);(l||K.get(this,"finish"))&&y.stop(!0)};return p.finish=p,l||h.queue===!1?this.each(p):this.queue(h.queue,p)},stop:function(e,r,a){var u=function(l){var h=l.stop;delete l.stop,h(a)};return typeof e!="string"&&(a=r,r=e,e=void 0),r&&this.queue(e||"fx",[]),this.each(function(){var l=!0,h=e!=null&&e+"queueHooks",p=f.timers,y=K.get(this);if(h)y[h]&&y[h].stop&&u(y[h]);else for(h in y)y[h]&&y[h].stop&&To.test(h)&&u(y[h]);for(h=p.length;h--;)p[h].elem===this&&(e==null||p[h].queue===e)&&(p[h].anim.stop(a),l=!1,p.splice(h,1));(l||!a)&&f.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var r,a=K.get(this),u=a[e+"queue"],l=a[e+"queueHooks"],h=f.timers,p=u?u.length:0;for(a.finish=!0,f.queue(this,e,[]),l&&l.stop&&l.stop.call(this,!0),r=h.length;r--;)h[r].elem===this&&h[r].queue===e&&(h[r].anim.stop(!0),h.splice(r,1));for(r=0;r<p;r++)u[r]&&u[r].finish&&u[r].finish.call(this);delete a.finish})}}),f.each(["toggle","show","hide"],function(e,r){var a=f.fn[r];f.fn[r]=function(u,l,h){return u==null||typeof u=="boolean"?a.apply(this,arguments):this.animate(Be(r,!0),u,l,h)}}),f.each({slideDown:Be("show"),slideUp:Be("hide"),slideToggle:Be("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){f.fn[e]=function(a,u,l){return this.animate(r,a,u,l)}}),f.timers=[],f.fx.tick=function(){var e,r=0,a=f.timers;for(Ee=Date.now();r<a.length;r++)e=a[r],!e()&&a[r]===e&&a.splice(r--,1);a.length||f.fx.stop(),Ee=void 0},f.fx.timer=function(e){f.timers.push(e),f.fx.start()},f.fx.interval=13,f.fx.start=function(){Xe||(Xe=!0,En())},f.fx.stop=function(){Xe=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(e,r){return e=f.fx&&f.fx.speeds[e]||e,r=r||"fx",this.queue(r,function(a,u){var l=i.setTimeout(a,e);u.stop=function(){i.clearTimeout(l)}})},function(){var e=Y.createElement("input"),r=Y.createElement("select"),a=r.appendChild(Y.createElement("option"));e.type="checkbox",U.checkOn=e.value!=="",U.optSelected=a.selected,e=Y.createElement("input"),e.value="t",e.type="radio",U.radioValue=e.value==="t"}();var Tr,Re=f.expr.attrHandle;f.fn.extend({attr:function(e,r){return Yt(this,f.attr,e,r,arguments.length>1)},removeAttr:function(e){return this.each(function(){f.removeAttr(this,e)})}}),f.extend({attr:function(e,r,a){var u,l,h=e.nodeType;if(!(h===3||h===8||h===2)){if(typeof e.getAttribute=="undefined")return f.prop(e,r,a);if((h!==1||!f.isXMLDoc(e))&&(l=f.attrHooks[r.toLowerCase()]||(f.expr.match.bool.test(r)?Tr:void 0)),a!==void 0){if(a===null){f.removeAttr(e,r);return}return l&&"set"in l&&(u=l.set(e,a,r))!==void 0?u:(e.setAttribute(r,a+""),a)}return l&&"get"in l&&(u=l.get(e,r))!==null?u:(u=f.find.attr(e,r),u??void 0)}},attrHooks:{type:{set:function(e,r){if(!U.radioValue&&r==="radio"&&Dt(e,"input")){var a=e.value;return e.setAttribute("type",r),a&&(e.value=a),r}}}},removeAttr:function(e,r){var a,u=0,l=r&&r.match(kt);if(l&&e.nodeType===1)for(;a=l[u++];)e.removeAttribute(a)}}),Tr={set:function(e,r,a){return r===!1?f.removeAttr(e,a):e.setAttribute(a,a),a}},f.each(f.expr.match.bool.source.match(/\w+/g),function(e,r){var a=Re[r]||f.find.attr;Re[r]=function(u,l,h){var p,y,_=l.toLowerCase();return h||(y=Re[_],Re[_]=p,p=a(u,l,h)!=null?_:null,Re[_]=y),p}});var Io=/^(?:input|select|textarea|button)$/i,Oo=/^(?:a|area)$/i;f.fn.extend({prop:function(e,r){return Yt(this,f.prop,e,r,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[f.propFix[e]||e]})}}),f.extend({prop:function(e,r,a){var u,l,h=e.nodeType;if(!(h===3||h===8||h===2))return(h!==1||!f.isXMLDoc(e))&&(r=f.propFix[r]||r,l=f.propHooks[r]),a!==void 0?l&&"set"in l&&(u=l.set(e,a,r))!==void 0?u:e[r]=a:l&&"get"in l&&(u=l.get(e,r))!==null?u:e[r]},propHooks:{tabIndex:{get:function(e){var r=f.find.attr(e,"tabindex");return r?parseInt(r,10):Io.test(e.nodeName)||Oo.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),U.optSelected||(f.propHooks.selected={get:function(e){var r=e.parentNode;return r&&r.parentNode&&r.parentNode.selectedIndex,null},set:function(e){var r=e.parentNode;r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function ne(e){var r=e.match(kt)||[];return r.join(" ")}function re(e){return e.getAttribute&&e.getAttribute("class")||""}function Tn(e){return Array.isArray(e)?e:typeof e=="string"?e.match(kt)||[]:[]}f.fn.extend({addClass:function(e){var r,a,u,l,h,p,y,_=0;if(H(e))return this.each(function(E){f(this).addClass(e.call(this,E,re(this)))});if(r=Tn(e),r.length){for(;a=this[_++];)if(l=re(a),u=a.nodeType===1&&" "+ne(l)+" ",u){for(p=0;h=r[p++];)u.indexOf(" "+h+" ")<0&&(u+=h+" ");y=ne(u),l!==y&&a.setAttribute("class",y)}}return this},removeClass:function(e){var r,a,u,l,h,p,y,_=0;if(H(e))return this.each(function(E){f(this).removeClass(e.call(this,E,re(this)))});if(!arguments.length)return this.attr("class","");if(r=Tn(e),r.length){for(;a=this[_++];)if(l=re(a),u=a.nodeType===1&&" "+ne(l)+" ",u){for(p=0;h=r[p++];)for(;u.indexOf(" "+h+" ")>-1;)u=u.replace(" "+h+" "," ");y=ne(u),l!==y&&a.setAttribute("class",y)}}return this},toggleClass:function(e,r){var a=typeof e,u=a==="string"||Array.isArray(e);return typeof r=="boolean"&&u?r?this.addClass(e):this.removeClass(e):H(e)?this.each(function(l){f(this).toggleClass(e.call(this,l,re(this),r),r)}):this.each(function(){var l,h,p,y;if(u)for(h=0,p=f(this),y=Tn(e);l=y[h++];)p.hasClass(l)?p.removeClass(l):p.addClass(l);else(e===void 0||a==="boolean")&&(l=re(this),l&&K.set(this,"__className__",l),this.setAttribute&&this.setAttribute("class",l||e===!1?"":K.get(this,"__className__")||""))})},hasClass:function(e){var r,a,u=0;for(r=" "+e+" ";a=this[u++];)if(a.nodeType===1&&(" "+ne(re(a))+" ").indexOf(r)>-1)return!0;return!1}});var So=/\r/g;f.fn.extend({val:function(e){var r,a,u,l=this[0];return arguments.length?(u=H(e),this.each(function(h){var p;this.nodeType===1&&(u?p=e.call(this,h,f(this).val()):p=e,p==null?p="":typeof p=="number"?p+="":Array.isArray(p)&&(p=f.map(p,function(y){return y==null?"":y+""})),r=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!r||!("set"in r)||r.set(this,p,"value")===void 0)&&(this.value=p))})):l?(r=f.valHooks[l.type]||f.valHooks[l.nodeName.toLowerCase()],r&&"get"in r&&(a=r.get(l,"value"))!==void 0?a:(a=l.value,typeof a=="string"?a.replace(So,""):a??"")):void 0}}),f.extend({valHooks:{option:{get:function(e){var r=f.find.attr(e,"value");return r??ne(f.text(e))}},select:{get:function(e){var r,a,u,l=e.options,h=e.selectedIndex,p=e.type==="select-one",y=p?null:[],_=p?h+1:l.length;for(h<0?u=_:u=p?h:0;u<_;u++)if(a=l[u],(a.selected||u===h)&&!a.disabled&&(!a.parentNode.disabled||!Dt(a.parentNode,"optgroup"))){if(r=f(a).val(),p)return r;y.push(r)}return y},set:function(e,r){for(var a,u,l=e.options,h=f.makeArray(r),p=l.length;p--;)u=l[p],(u.selected=f.inArray(f.valHooks.option.get(u),h)>-1)&&(a=!0);return a||(e.selectedIndex=-1),h}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(e,r){if(Array.isArray(r))return e.checked=f.inArray(f(e).val(),r)>-1}},U.checkOn||(f.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),U.focusin="onfocusin"in i;var Ar=/^(?:focusinfocus|focusoutblur)$/,Cr=function(e){e.stopPropagation()};f.extend(f.event,{trigger:function(e,r,a,u){var l,h,p,y,_,E,I,w,C=[a||Y],L=D.call(e,"type")?e.type:e,q=D.call(e,"namespace")?e.namespace.split("."):[];if(h=w=p=a=a||Y,!(a.nodeType===3||a.nodeType===8)&&!Ar.test(L+f.event.triggered)&&(L.indexOf(".")>-1&&(q=L.split("."),L=q.shift(),q.sort()),_=L.indexOf(":")<0&&"on"+L,e=e[f.expando]?e:new f.Event(L,typeof e=="object"&&e),e.isTrigger=u?2:3,e.namespace=q.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=a),r=r==null?[e]:f.makeArray(r,[e]),I=f.event.special[L]||{},!(!u&&I.trigger&&I.trigger.apply(a,r)===!1))){if(!u&&!I.noBubble&&!et(a)){for(y=I.delegateType||L,Ar.test(y+L)||(h=h.parentNode);h;h=h.parentNode)C.push(h),p=h;p===(a.ownerDocument||Y)&&C.push(p.defaultView||p.parentWindow||i)}for(l=0;(h=C[l++])&&!e.isPropagationStopped();)w=h,e.type=l>1?y:I.bindType||L,E=(K.get(h,"events")||Object.create(null))[e.type]&&K.get(h,"handle"),E&&E.apply(h,r),E=_&&h[_],E&&E.apply&&Se(h)&&(e.result=E.apply(h,r),e.result===!1&&e.preventDefault());return e.type=L,!u&&!e.isDefaultPrevented()&&(!I._default||I._default.apply(C.pop(),r)===!1)&&Se(a)&&_&&H(a[L])&&!et(a)&&(p=a[_],p&&(a[_]=null),f.event.triggered=L,e.isPropagationStopped()&&w.addEventListener(L,Cr),a[L](),e.isPropagationStopped()&&w.removeEventListener(L,Cr),f.event.triggered=void 0,p&&(a[_]=p)),e.result}},simulate:function(e,r,a){var u=f.extend(new f.Event,a,{type:e,isSimulated:!0});f.event.trigger(u,null,r)}}),f.fn.extend({trigger:function(e,r){return this.each(function(){f.event.trigger(e,r,this)})},triggerHandler:function(e,r){var a=this[0];if(a)return f.event.trigger(e,r,a,!0)}}),U.focusin||f.each({focus:"focusin",blur:"focusout"},function(e,r){var a=function(u){f.event.simulate(r,u.target,f.event.fix(u))};f.event.special[r]={setup:function(){var u=this.ownerDocument||this.document||this,l=K.access(u,r);l||u.addEventListener(e,a,!0),K.access(u,r,(l||0)+1)},teardown:function(){var u=this.ownerDocument||this.document||this,l=K.access(u,r)-1;l?K.access(u,r,l):(u.removeEventListener(e,a,!0),K.remove(u,r))}}});var we=i.location,Ir={guid:Date.now()},An=/\?/;f.parseXML=function(e){var r;if(!e||typeof e!="string")return null;try{r=new i.DOMParser().parseFromString(e,"text/xml")}catch{r=void 0}return(!r||r.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+e),r};var Lo=/\[\]$/,Or=/\r?\n/g,xo=/^(?:submit|button|image|reset|file)$/i,No=/^(?:input|select|textarea|keygen)/i;function Cn(e,r,a,u){var l;if(Array.isArray(r))f.each(r,function(h,p){a||Lo.test(e)?u(e,p):Cn(e+"["+(typeof p=="object"&&p!=null?h:"")+"]",p,a,u)});else if(!a&&jt(r)==="object")for(l in r)Cn(e+"["+l+"]",r[l],a,u);else u(e,r)}f.param=function(e,r){var a,u=[],l=function(h,p){var y=H(p)?p():p;u[u.length]=encodeURIComponent(h)+"="+encodeURIComponent(y??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!f.isPlainObject(e))f.each(e,function(){l(this.name,this.value)});else for(a in e)Cn(a,e[a],r,l);return u.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=f.prop(this,"elements");return e?f.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!f(this).is(":disabled")&&No.test(this.nodeName)&&!xo.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,r){var a=f(this).val();return a==null?null:Array.isArray(a)?f.map(a,function(u){return{name:r.name,value:u.replace(Or,`\r
`)}}):{name:r.name,value:a.replace(Or,`\r
`)}}).get()}});var bo=/%20/g,Ro=/#.*$/,wo=/([?&])_=[^&]*/,Do=/^(.*?):[ \t]*([^\r\n]*)$/mg,Mo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Po=/^(?:GET|HEAD)$/,Ho=/^\/\//,Sr={},In={},Lr="*/".concat("*"),On=Y.createElement("a");On.href=we.href;function xr(e){return function(r,a){typeof r!="string"&&(a=r,r="*");var u,l=0,h=r.toLowerCase().match(kt)||[];if(H(a))for(;u=h[l++];)u[0]==="+"?(u=u.slice(1)||"*",(e[u]=e[u]||[]).unshift(a)):(e[u]=e[u]||[]).push(a)}}function Nr(e,r,a,u){var l={},h=e===In;function p(y){var _;return l[y]=!0,f.each(e[y]||[],function(E,I){var w=I(r,a,u);if(typeof w=="string"&&!h&&!l[w])return r.dataTypes.unshift(w),p(w),!1;if(h)return!(_=w)}),_}return p(r.dataTypes[0])||!l["*"]&&p("*")}function Sn(e,r){var a,u,l=f.ajaxSettings.flatOptions||{};for(a in r)r[a]!==void 0&&((l[a]?e:u||(u={}))[a]=r[a]);return u&&f.extend(!0,e,u),e}function Uo(e,r,a){for(var u,l,h,p,y=e.contents,_=e.dataTypes;_[0]==="*";)_.shift(),u===void 0&&(u=e.mimeType||r.getResponseHeader("Content-Type"));if(u){for(l in y)if(y[l]&&y[l].test(u)){_.unshift(l);break}}if(_[0]in a)h=_[0];else{for(l in a){if(!_[0]||e.converters[l+" "+_[0]]){h=l;break}p||(p=l)}h=h||p}if(h)return h!==_[0]&&_.unshift(h),a[h]}function jo(e,r,a,u){var l,h,p,y,_,E={},I=e.dataTypes.slice();if(I[1])for(p in e.converters)E[p.toLowerCase()]=e.converters[p];for(h=I.shift();h;)if(e.responseFields[h]&&(a[e.responseFields[h]]=r),!_&&u&&e.dataFilter&&(r=e.dataFilter(r,e.dataType)),_=h,h=I.shift(),h){if(h==="*")h=_;else if(_!=="*"&&_!==h){if(p=E[_+" "+h]||E["* "+h],!p){for(l in E)if(y=l.split(" "),y[1]===h&&(p=E[_+" "+y[0]]||E["* "+y[0]],p)){p===!0?p=E[l]:E[l]!==!0&&(h=y[0],I.unshift(y[1]));break}}if(p!==!0)if(p&&e.throws)r=p(r);else try{r=p(r)}catch(w){return{state:"parsererror",error:p?w:"No conversion from "+_+" to "+h}}}}return{state:"success",data:r}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:Mo.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,r){return r?Sn(Sn(e,f.ajaxSettings),r):Sn(f.ajaxSettings,e)},ajaxPrefilter:xr(Sr),ajaxTransport:xr(In),ajax:function(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};var a,u,l,h,p,y,_,E,I,w,C=f.ajaxSetup({},r),L=C.context||C,q=C.context&&(L.nodeType||L.jquery)?f(L):f.event,J=f.Deferred(),W=f.Callbacks("once memory"),dt=C.statusCode||{},ht={},Nt={},rt="canceled",Q={readyState:0,getResponseHeader:function(tt){var ct;if(_){if(!h)for(h={};ct=Do.exec(l);)h[ct[1].toLowerCase()+" "]=(h[ct[1].toLowerCase()+" "]||[]).concat(ct[2]);ct=h[tt.toLowerCase()+" "]}return ct==null?null:ct.join(", ")},getAllResponseHeaders:function(){return _?l:null},setRequestHeader:function(tt,ct){return _==null&&(tt=Nt[tt.toLowerCase()]=Nt[tt.toLowerCase()]||tt,ht[tt]=ct),this},overrideMimeType:function(tt){return _==null&&(C.mimeType=tt),this},statusCode:function(tt){var ct;if(tt)if(_)Q.always(tt[Q.status]);else for(ct in tt)dt[ct]=[dt[ct],tt[ct]];return this},abort:function(tt){var ct=tt||rt;return a&&a.abort(ct),Lt(0,ct),this}};if(J.promise(Q),C.url=((e||C.url||we.href)+"").replace(Ho,we.protocol+"//"),C.type=r.method||r.type||C.method||C.type,C.dataTypes=(C.dataType||"*").toLowerCase().match(kt)||[""],C.crossDomain==null){y=Y.createElement("a");try{y.href=C.url,y.href=y.href,C.crossDomain=On.protocol+"//"+On.host!=y.protocol+"//"+y.host}catch{C.crossDomain=!0}}if(C.data&&C.processData&&typeof C.data!="string"&&(C.data=f.param(C.data,C.traditional)),Nr(Sr,C,r,Q),_)return Q;E=f.event&&C.global,E&&f.active++==0&&f.event.trigger("ajaxStart"),C.type=C.type.toUpperCase(),C.hasContent=!Po.test(C.type),u=C.url.replace(Ro,""),C.hasContent?C.data&&C.processData&&(C.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(C.data=C.data.replace(bo,"+")):(w=C.url.slice(u.length),C.data&&(C.processData||typeof C.data=="string")&&(u+=(An.test(u)?"&":"?")+C.data,delete C.data),C.cache===!1&&(u=u.replace(wo,"$1"),w=(An.test(u)?"&":"?")+"_="+Ir.guid+++w),C.url=u+w),C.ifModified&&(f.lastModified[u]&&Q.setRequestHeader("If-Modified-Since",f.lastModified[u]),f.etag[u]&&Q.setRequestHeader("If-None-Match",f.etag[u])),(C.data&&C.hasContent&&C.contentType!==!1||r.contentType)&&Q.setRequestHeader("Content-Type",C.contentType),Q.setRequestHeader("Accept",C.dataTypes[0]&&C.accepts[C.dataTypes[0]]?C.accepts[C.dataTypes[0]]+(C.dataTypes[0]!=="*"?", "+Lr+"; q=0.01":""):C.accepts["*"]);for(I in C.headers)Q.setRequestHeader(I,C.headers[I]);if(C.beforeSend&&(C.beforeSend.call(L,Q,C)===!1||_))return Q.abort();if(rt="abort",W.add(C.complete),Q.done(C.success),Q.fail(C.error),a=Nr(In,C,r,Q),!a)Lt(-1,"No Transport");else{if(Q.readyState=1,E&&q.trigger("ajaxSend",[Q,C]),_)return Q;C.async&&C.timeout>0&&(p=i.setTimeout(function(){Q.abort("timeout")},C.timeout));try{_=!1,a.send(ht,Lt)}catch(tt){if(_)throw tt;Lt(-1,tt)}}function Lt(tt,ct,Me,Ke){var bt,ie,oe,xt,Kt,Pt=ct;_||(_=!0,p&&i.clearTimeout(p),a=void 0,l=Ke||"",Q.readyState=tt>0?4:0,bt=tt>=200&&tt<300||tt===304,Me&&(xt=Uo(C,Q,Me)),!bt&&f.inArray("script",C.dataTypes)>-1&&(C.converters["text script"]=function(){}),xt=jo(C,xt,Q,bt),bt?(C.ifModified&&(Kt=Q.getResponseHeader("Last-Modified"),Kt&&(f.lastModified[u]=Kt),Kt=Q.getResponseHeader("etag"),Kt&&(f.etag[u]=Kt)),tt===204||C.type==="HEAD"?Pt="nocontent":tt===304?Pt="notmodified":(Pt=xt.state,ie=xt.data,oe=xt.error,bt=!oe)):(oe=Pt,(tt||!Pt)&&(Pt="error",tt<0&&(tt=0))),Q.status=tt,Q.statusText=(ct||Pt)+"",bt?J.resolveWith(L,[ie,Pt,Q]):J.rejectWith(L,[Q,Pt,oe]),Q.statusCode(dt),dt=void 0,E&&q.trigger(bt?"ajaxSuccess":"ajaxError",[Q,C,bt?ie:oe]),W.fireWith(L,[Q,Pt]),E&&(q.trigger("ajaxComplete",[Q,C]),--f.active||f.event.trigger("ajaxStop")))}return Q},getJSON:function(e,r,a){return f.get(e,r,a,"json")},getScript:function(e,r){return f.get(e,void 0,r,"script")}}),f.each(["get","post"],function(e,r){f[r]=function(a,u,l,h){return H(u)&&(h=h||l,l=u,u=void 0),f.ajax(f.extend({url:a,type:r,dataType:h,data:u,success:l},f.isPlainObject(a)&&a))}}),f.ajaxPrefilter(function(e){var r;for(r in e.headers)r.toLowerCase()==="content-type"&&(e.contentType=e.headers[r]||"")}),f._evalUrl=function(e,r,a){return f.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(u){f.globalEval(u,r,a)}})},f.fn.extend({wrapAll:function(e){var r;return this[0]&&(H(e)&&(e=e.call(this[0])),r=f(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(e){return H(e)?this.each(function(r){f(this).wrapInner(e.call(this,r))}):this.each(function(){var r=f(this),a=r.contents();a.length?a.wrapAll(e):r.append(e)})},wrap:function(e){var r=H(e);return this.each(function(a){f(this).wrapAll(r?e.call(this,a):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(e){return!f.expr.pseudos.visible(e)},f.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var Fo={0:200,1223:204},De=f.ajaxSettings.xhr();U.cors=!!De&&"withCredentials"in De,U.ajax=De=!!De,f.ajaxTransport(function(e){var r,a;if(U.cors||De&&!e.crossDomain)return{send:function(u,l){var h,p=e.xhr();if(p.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(h in e.xhrFields)p[h]=e.xhrFields[h];e.mimeType&&p.overrideMimeType&&p.overrideMimeType(e.mimeType),!e.crossDomain&&!u["X-Requested-With"]&&(u["X-Requested-With"]="XMLHttpRequest");for(h in u)p.setRequestHeader(h,u[h]);r=function(y){return function(){r&&(r=a=p.onload=p.onerror=p.onabort=p.ontimeout=p.onreadystatechange=null,y==="abort"?p.abort():y==="error"?typeof p.status!="number"?l(0,"error"):l(p.status,p.statusText):l(Fo[p.status]||p.status,p.statusText,(p.responseType||"text")!=="text"||typeof p.responseText!="string"?{binary:p.response}:{text:p.responseText},p.getAllResponseHeaders()))}},p.onload=r(),a=p.onerror=p.ontimeout=r("error"),p.onabort!==void 0?p.onabort=a:p.onreadystatechange=function(){p.readyState===4&&i.setTimeout(function(){r&&a()})},r=r("abort");try{p.send(e.hasContent&&e.data||null)}catch(y){if(r)throw y}},abort:function(){r&&r()}}}),f.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return f.globalEval(e),e}}}),f.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),f.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var r,a;return{send:function(u,l){r=f("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",a=function(h){r.remove(),a=null,h&&l(h.type==="error"?404:200,h.type)}),Y.head.appendChild(r[0])},abort:function(){a&&a()}}}});var br=[],Ln=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=br.pop()||f.expando+"_"+Ir.guid++;return this[e]=!0,e}}),f.ajaxPrefilter("json jsonp",function(e,r,a){var u,l,h,p=e.jsonp!==!1&&(Ln.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ln.test(e.data)&&"data");if(p||e.dataTypes[0]==="jsonp")return u=e.jsonpCallback=H(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,p?e[p]=e[p].replace(Ln,"$1"+u):e.jsonp!==!1&&(e.url+=(An.test(e.url)?"&":"?")+e.jsonp+"="+u),e.converters["script json"]=function(){return h||f.error(u+" was not called"),h[0]},e.dataTypes[0]="json",l=i[u],i[u]=function(){h=arguments},a.always(function(){l===void 0?f(i).removeProp(u):i[u]=l,e[u]&&(e.jsonpCallback=r.jsonpCallback,br.push(u)),h&&H(l)&&l(h[0]),h=l=void 0}),"script"}),U.createHTMLDocument=function(){var e=Y.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),f.parseHTML=function(e,r,a){if(typeof e!="string")return[];typeof r=="boolean"&&(a=r,r=!1);var u,l,h;return r||(U.createHTMLDocument?(r=Y.implementation.createHTMLDocument(""),u=r.createElement("base"),u.href=Y.location.href,r.head.appendChild(u)):r=Y),l=Kn.exec(e),h=!a&&[],l?[r.createElement(l[1])]:(l=or([e],r,h),h&&h.length&&f(h).remove(),f.merge([],l.childNodes))},f.fn.load=function(e,r,a){var u,l,h,p=this,y=e.indexOf(" ");return y>-1&&(u=ne(e.slice(y)),e=e.slice(0,y)),H(r)?(a=r,r=void 0):r&&typeof r=="object"&&(l="POST"),p.length>0&&f.ajax({url:e,type:l||"GET",dataType:"html",data:r}).done(function(_){h=arguments,p.html(u?f("<div>").append(f.parseHTML(_)).find(u):_)}).always(a&&function(_,E){p.each(function(){a.apply(this,h||[_.responseText,E,_])})}),this},f.expr.pseudos.animated=function(e){return f.grep(f.timers,function(r){return e===r.elem}).length},f.offset={setOffset:function(e,r,a){var u,l,h,p,y,_,E,I=f.css(e,"position"),w=f(e),C={};I==="static"&&(e.style.position="relative"),y=w.offset(),h=f.css(e,"top"),_=f.css(e,"left"),E=(I==="absolute"||I==="fixed")&&(h+_).indexOf("auto")>-1,E?(u=w.position(),p=u.top,l=u.left):(p=parseFloat(h)||0,l=parseFloat(_)||0),H(r)&&(r=r.call(e,a,f.extend({},y))),r.top!=null&&(C.top=r.top-y.top+p),r.left!=null&&(C.left=r.left-y.left+l),"using"in r?r.using.call(e,C):(typeof C.top=="number"&&(C.top+="px"),typeof C.left=="number"&&(C.left+="px"),w.css(C))}},f.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(l){f.offset.setOffset(this,e,l)});var r,a,u=this[0];if(!!u)return u.getClientRects().length?(r=u.getBoundingClientRect(),a=u.ownerDocument.defaultView,{top:r.top+a.pageYOffset,left:r.left+a.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var e,r,a,u=this[0],l={top:0,left:0};if(f.css(u,"position")==="fixed")r=u.getBoundingClientRect();else{for(r=this.offset(),a=u.ownerDocument,e=u.offsetParent||a.documentElement;e&&(e===a.body||e===a.documentElement)&&f.css(e,"position")==="static";)e=e.parentNode;e&&e!==u&&e.nodeType===1&&(l=f(e).offset(),l.top+=f.css(e,"borderTopWidth",!0),l.left+=f.css(e,"borderLeftWidth",!0))}return{top:r.top-l.top-f.css(u,"marginTop",!0),left:r.left-l.left-f.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&f.css(e,"position")==="static";)e=e.offsetParent;return e||ee})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var a=r==="pageYOffset";f.fn[e]=function(u){return Yt(this,function(l,h,p){var y;if(et(l)?y=l:l.nodeType===9&&(y=l.defaultView),p===void 0)return y?y[r]:l[h];y?y.scrollTo(a?y.pageXOffset:p,a?p:y.pageYOffset):l[h]=p},e,u,arguments.length)}}),f.each(["top","left"],function(e,r){f.cssHooks[r]=lr(U.pixelPosition,function(a,u){if(u)return u=be(a,r),yn.test(u)?f(a).position()[r]+"px":u})}),f.each({Height:"height",Width:"width"},function(e,r){f.each({padding:"inner"+e,content:r,"":"outer"+e},function(a,u){f.fn[u]=function(l,h){var p=arguments.length&&(a||typeof l!="boolean"),y=a||(l===!0||h===!0?"margin":"border");return Yt(this,function(_,E,I){var w;return et(_)?u.indexOf("outer")===0?_["inner"+e]:_.document.documentElement["client"+e]:_.nodeType===9?(w=_.documentElement,Math.max(_.body["scroll"+e],w["scroll"+e],_.body["offset"+e],w["offset"+e],w["client"+e])):I===void 0?f.css(_,E,y):f.style(_,E,I,y)},r,p?l:void 0,p)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,r){f.fn[r]=function(a){return this.on(r,a)}}),f.fn.extend({bind:function(e,r,a){return this.on(e,null,r,a)},unbind:function(e,r){return this.off(e,null,r)},delegate:function(e,r,a,u){return this.on(r,e,a,u)},undelegate:function(e,r,a){return arguments.length===1?this.off(e,"**"):this.off(r,e||"**",a)},hover:function(e,r){return this.mouseenter(e).mouseleave(r||e)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){f.fn[r]=function(a,u){return arguments.length>0?this.on(r,null,a,u):this.trigger(r)}});var Go=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;f.proxy=function(e,r){var a,u,l;if(typeof r=="string"&&(a=e[r],r=e,e=a),!!H(e))return u=s.call(arguments,2),l=function(){return e.apply(r||this,u.concat(s.call(arguments)))},l.guid=e.guid=e.guid||f.guid++,l},f.holdReady=function(e){e?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=Dt,f.isFunction=H,f.isWindow=et,f.camelCase=qt,f.type=jt,f.now=Date.now,f.isNumeric=function(e){var r=f.type(e);return(r==="number"||r==="string")&&!isNaN(e-parseFloat(e))},f.trim=function(e){return e==null?"":(e+"").replace(Go,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return f});var Vo=i.jQuery,ko=i.$;return f.noConflict=function(e){return i.$===f&&(i.$=ko),e&&i.jQuery===f&&(i.jQuery=Vo),f},typeof t=="undefined"&&(i.jQuery=i.$=f),f})});var ys=function(){function i(){}return i.waitFor=function(t,n,o,s,c,g){s||(s=200),c||(c=100),g||(g=0),g+=1,g>c?o&&o():t()?n():setTimeout(function(){i.waitFor(t,n,o,s,c,g)},s)},i}();var _s=function(){function i(){}return i.getBool=function(t,n){return t===null||typeof t=="undefined"?n:t},i}();var ms=function(){function i(){}return i.supportsCopy=function(){return document.queryCommandSupported&&document.queryCommandSupported("copy")},i.copy=function(t){t=i.convertBrToNewLine(t);var n=document.createElement("textarea");n.value=t,i.hideButKeepEnabled(n),document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n)},i.hideButKeepEnabled=function(t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent"},i.convertBrToNewLine=function(t){var n=/<br\s*[\/]?>/gi;return t=t.replace(n,`
`),t},i}();var Es=function(){function i(){}return i.float32ColorToARGB=function(t){var n=(t&4278190080)>>>24,o=(t&16711680)>>>16,s=(t&65280)>>>8,c=t&255,g=[n,o,s,c];return g},i._componentToHex=function(t){var n=t.toString(16);return n.length==1?"0"+n:n},i.rgbToHexString=function(t){return i.coalesce(t),"#"+i._componentToHex(t[0])+i._componentToHex(t[1])+i._componentToHex(t[2])},i.argbToHexString=function(t){return"#"+i._componentToHex(t[0])+i._componentToHex(t[1])+i._componentToHex(t[2])+i._componentToHex(t[3])},i.coalesce=function(t){for(var n=1;n<t.length;n++)typeof t[n]=="undefined"&&(t[n]=t[n-1])},i}();var Ts=function(){function i(){}return i.getTimeStamp=function(){return new Date().getTime()},i}();var As=function(){function i(){}return i.getPixelRatio=function(t){var n=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/o},i.isTouch=function(){return"ontouchstart"in window||window.navigator.msMaxTouchPoints>0},i}();var Cs=function(){function i(){}return i.isInIFrame=function(){try{return window.self!==window.top}catch{return!0}},i.supportsFullscreen=function(){var t=document.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen;return n!==void 0},i.isHidden=function(){var t=i.getHiddenProp();return!!t},i.getHiddenProp=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null},i}();var Is=function(){function i(){}return i.debounce=function(t,n){return n=n||100,function(){if(!t.debouncing){var o=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,o),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},n),t.lastReturnVal}},i}();var Os=function(){function i(){}return i.simplifyMimeType=function(t){switch(t){case"text/plain":return"txt";case"image/jpeg":return"jpg";case"application/msword":return"doc";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";default:var n=t.split("/");return n[n.length-1]}},i}();var Ss=function(){function i(){}return i.getCharCode=function(t){var n=typeof t.which=="number"?t.which:t.keyCode;return n},i}();var Ls=function(){function i(){}return i.normalise=function(t,n,o){return(t-n)/(o-n)},i.median=function(t){t.sort(function(o,s){return o-s});var n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},i.clamp=function(t,n,o){return Math.min(Math.max(t,n),o)},i}();var ra=function(){function i(t,n){this.width=t,this.height=n}return i}();var xs=function(){function i(){}return i.fitRect=function(t,n,o,s){var c=n/t,g=s/o,A=0,N=0,O;return c<g?(O=o/t,A=t*O,N=n*O):(O=s/n,A=t*O,N=n*O),new ra(Math.floor(A),Math.floor(N))},i.hitRect=function(t,n,o,s,c,g){return c>t&&c<t+o&&g>n&&g<n+s},i}();var Ns=function(){function i(){}return i.numericalInput=function(t){return t.keyCode==46||t.keyCode==8||t.keyCode==9||t.keyCode==27||t.keyCode==65&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39?!0:t.shiftKey||(t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)?(t.preventDefault(),!1):!0},i}();var bs=function(){function i(){}return i.toPlainObject=function(t){t=Object(t);var n={};for(var o in t)n[o]=t[o];return n},i}();var Rs=function(){function i(){}return i.clear=function(t){switch(t===void 0&&(t=ut.MEMORY),t){case ut.MEMORY:this._memoryStorage={};break;case ut.SESSION:sessionStorage.clear();break;case ut.LOCAL:localStorage.clear();break}},i.clearExpired=function(t){t===void 0&&(t=ut.MEMORY);for(var n=this.getItems(t),o=0;o<n.length;o++){var s=n[o];this._isExpired(s)&&this.remove(s.key)}},i.get=function(t,n){n===void 0&&(n=ut.MEMORY);var o=null;switch(n){case ut.MEMORY:o=this._memoryStorage[t];break;case ut.SESSION:o=sessionStorage.getItem(t);break;case ut.LOCAL:o=localStorage.getItem(t);break}if(!o)return null;var s=null;try{s=JSON.parse(o)}catch{return null}return!s||this._isExpired(s)?null:(s.key=t,s)},i._isExpired=function(t){return!(new Date().getTime()<t.expiresAt)},i.getItems=function(t){t===void 0&&(t=ut.MEMORY);var n=[];switch(t){case ut.MEMORY:for(var o=Object.keys(this._memoryStorage),s=0;s<o.length;s++){var c=this.get(o[s],ut.MEMORY);c&&n.push(c)}break;case ut.SESSION:for(var s=0;s<sessionStorage.length;s++){var g=sessionStorage.key(s);if(g){var c=this.get(g,ut.SESSION);c&&n.push(c)}}break;case ut.LOCAL:for(var s=0;s<localStorage.length;s++){var g=localStorage.key(s);if(g){var c=this.get(g,ut.LOCAL);c&&n.push(c)}}break}return n},i.remove=function(t,n){switch(n===void 0&&(n=ut.MEMORY),n){case ut.MEMORY:delete this._memoryStorage[t];break;case ut.SESSION:sessionStorage.removeItem(t);break;case ut.LOCAL:localStorage.removeItem(t);break}},i.set=function(t,n,o,s){s===void 0&&(s=ut.MEMORY);var c=o*1e3,g=new ia;switch(g.value=n,g.expiresAt=new Date().getTime()+c,s){case ut.MEMORY:this._memoryStorage[t]=JSON.stringify(g);break;case ut.SESSION:sessionStorage.setItem(t,JSON.stringify(g));break;case ut.LOCAL:localStorage.setItem(t,JSON.stringify(g));break}return g},i._memoryStorage={},i}();var ia=function(){function i(){}return i}();var ut;(function(i){i.MEMORY="memory",i.SESSION="session",i.LOCAL="local"})(ut||(ut={}));var ws=function(){function i(){}return i.ellipsis=function(t,n){if(t.length<=n)return t;var o=t.substr(0,n),s=o.lastIndexOf(" ");return s!=-1&&(o=o.substr(0,Math.min(o.length,s))),o+"&hellip;"},i.htmlDecode=function(t){var n=document.createElement("div");return n.innerHTML=t,n.firstChild.nodeValue},i.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var s=0;s<n.length;s++){var c=new RegExp("\\{"+s+"\\}","gm");t=t.replace(c,n[s])}return t},i.isAlphanumeric=function(t){return/^[a-zA-Z0-9]*$/.test(t)},i.toCssClass=function(t){return t.replace(/[^a-z0-9]/g,function(n){var o=n.charCodeAt(0);return o==32?"-":o>=65&&o<=90?"_"+n.toLowerCase():"__"+("000"+o.toString(16)).slice(-4)})},i.toFileName=function(t){return t.replace(/[^a-z0-9]/gi,"_").toLowerCase()},i.utf8_to_b64=function(t){return window.btoa(unescape(encodeURIComponent(t)))},i}();var Ds=function(){function i(){}return i.getHashParameter=function(t,n){return n||(n=window.document),n&&n.location?this.getHashParameterFromString(t,n.location.hash):null},i.getHashParameterFromString=function(t,n){var o=new RegExp("#.*[?&]"+t+"=([^&]+)(&|$)"),s=o.exec(n);return s?decodeURIComponent(s[1].replace(/\+/g," ")):null},i.setHashParameter=function(t,n,o){if(o||(o=window.document),o&&o.location){var s=this.updateURIKeyValuePair(o.location.hash.replace("#?",""),t,n),c="#?"+s,g=o.URL,A=g.indexOf("#");A!=-1&&(g=g.substr(0,g.indexOf("#"))),o.location.replace(g+c)}},i.getQuerystringParameter=function(t,n){return n||(n=window),this.getQuerystringParameterFromString(t,n.location.search)},i.getQuerystringParameterFromString=function(t,n){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+t+"=([^&#]*)"),s=o.exec(n);return s?decodeURIComponent(s[1].replace(/\+/g," ")):null},i.setQuerystringParameter=function(t,n,o){if(o||(o=window.document),o&&o.location){var s=this.updateURIKeyValuePair(o.location.hash.replace("#?",""),t,n);window.location.search=s}},i.updateURIKeyValuePair=function(t,n,o){n=encodeURIComponent(n),o=encodeURIComponent(o);var s=t.split("&");s[0]==""&&s.shift();for(var c=s.length,g;c--;)if(g=s[c].split("="),g[0]==n){g[1]=o,s[c]=g.join("=");break}return c<0&&(s[s.length]=[n,o].join("=")),s.join("&")},i.getUrlParts=function(t){var n=document.createElement("a");return n.href=t,n},i.convertToRelativeUrl=function(t){var n=this.getUrlParts(t),o=n.pathname+n.searchWithin;return o.startsWith("/")||(o="/"+o),o},i}();var S=class{};S.ACCEPT_TERMS="acceptTerms",S.ANNOTATION_CANVAS_CHANGE="annotationCanvasChange",S.ANNOTATION_CHANGE="annotationChange",S.ANNOTATIONS_CLEARED="annotationsCleared",S.ANNOTATIONS_EMPTY="annotationsEmpty",S.ANNOTATIONS="annotations",S.BOOKMARK="bookmark",S.CANVAS_INDEX_CHANGE_FAILED="canvasIndexChangeFailed",S.CANVAS_INDEX_CHANGE="canvasIndexChange",S.CLEAR_ANNOTATIONS="clearAnnotations",S.CLICKTHROUGH="clickthrough",S.CLOSE_ACTIVE_DIALOGUE="closeActiveDialogue",S.CLOSE_LEFT_PANEL="closeLeftPanel",S.CLOSE_RIGHT_PANEL="closeRightPanel",S.COLLECTION_INDEX_CHANGE="collectionIndexChange",S.CONFIGURE="configure",S.CREATE="create",S.CREATED="created",S.CURRENT_TIME_CHANGE="currentTimeChanged",S.DOWN_ARROW="downArrow",S.DOWNLOAD="download",S.DROP="drop",S.END="end",S.ERROR="error",S.ESCAPE="escape",S.EXIT_FULLSCREEN="exitFullScreen",S.EXTERNAL_LINK_CLICKED="externalLinkClicked",S.EXTERNAL_RESOURCE_OPENED="externalResourceOpened",S.FEEDBACK="feedback",S.FIRST="first",S.FORBIDDEN="forbidden",S.GALLERY_DECREASE_SIZE="galleryDecreaseSize",S.GALLERY_INCREASE_SIZE="galleryIncreaseSize",S.GALLERY_THUMB_SELECTED="galleryThumbSelected",S.HIDE_AUTH_DIALOGUE="hideAuthDialogue",S.HIDE_CLICKTHROUGH_DIALOGUE="hideClickthroughDialogue",S.HIDE_DOWNLOAD_DIALOGUE="hideDownloadDialogue",S.HIDE_EMBED_DIALOGUE="hideEmbedDialogue",S.HIDE_EXTERNALCONTENT_DIALOGUE="hideExternalContentDialogue",S.HIDE_GENERIC_DIALOGUE="hideGenericDialogue",S.HIDE_HELP_DIALOGUE="hideHelpDialogue",S.HIDE_INFORMATION="hideInformation",S.HIDE_LOGIN_DIALOGUE="hideLoginDialogue",S.HIDE_MOREINFO_DIALOGUE="hideMoreInfoDialogue",S.HIDE_MULTISELECT_DIALOGUE="hideMultiSelectDialogue",S.HIDE_OVERLAY="hideOverlay",S.HIDE_RESTRICTED_DIALOGUE="hideRestrictedDialogue",S.HIDE_SETTINGS_DIALOGUE="hideSettingsDialogue",S.HIDE_SHARE_DIALOGUE="hideShareDialogue",S.HOME="home",S.LAST="last",S.LEFT_ARROW="leftArrow",S.LEFTPANEL_COLLAPSE_FULL_FINISH="leftPanelCollapseFullFinish",S.LEFTPANEL_COLLAPSE_FULL_START="leftPanelCollapseFullStart",S.LEFTPANEL_EXPAND_FULL_FINISH="leftPanelExpandFullFinish",S.LEFTPANEL_EXPAND_FULL_START="leftPanelExpandFullStart",S.LOAD="load",S.LOAD_FAILED="loadFailed",S.LOGIN_FAILED="loginFailed",S.LOGIN="login",S.LOGOUT="logout",S.MANIFEST_INDEX_CHANGE="manifestIndexChange",S.METRIC_CHANGE="metricChange",S.MINUS="minus",S.MULTISELECT_CHANGE="multiSelectChange",S.MULTISELECTION_MADE="multiSelectionMade",S.NEXT="next",S.NOT_FOUND="notFound",S.OPEN_EXTERNAL_RESOURCE="openExternalResource",S.OPEN_LEFT_PANEL="openLeftPanel",S.OPEN_RIGHT_PANEL="openRightPanel",S.OPEN_THUMBS_VIEW="openThumbsView",S.OPEN_TREE_VIEW="openTreeView",S.OPEN="open",S.PAGE_DOWN="pageDown",S.PAGE_UP="pageUp",S.PAUSE="pause",S.PINPOINT_ANNOTATION_CLICKED="pinpointAnnotationClicked",S.PLUS="plus",S.PREV="prev",S.RANGE_CHANGE="rangeChange",S.REDIRECT="redirect",S.REFRESH="refresh",S.RELOAD="reload",S.RESIZE="resize",S.RESOURCE_DEGRADED="resourceDegraded",S.RETRY="retry",S.RETURN="return",S.RIGHT_ARROW="rightArrow",S.RIGHTPANEL_COLLAPSE_FULL_FINISH="rightPanelCollapseFullFinish",S.RIGHTPANEL_COLLAPSE_FULL_START="rightPanelCollapseFullStart",S.RIGHTPANEL_EXPAND_FULL_FINISH="rightPanelExpandFullFinish",S.RIGHTPANEL_EXPAND_FULL_START="rightPanelExpandFullStart",S.SET="set",S.SET_ROTATION="setRotation",S.SET_TARGET="setTarget",S.SETTINGS_CHANGE="settingsChange",S.SHOW_AUTH_DIALOGUE="showAuthDialogue",S.SHOW_CLICKTHROUGH_DIALOGUE="showClickThroughDialogue",S.SHOW_DOWNLOAD_DIALOGUE="showDownloadDialogue",S.SHOW_EMBED_DIALOGUE="showEmbedDialogue",S.SHOW_EXTERNALCONTENT_DIALOGUE="showExternalContentDialogue",S.SHOW_GENERIC_DIALOGUE="showGenericDialogue",S.SHOW_HELP_DIALOGUE="showHelpDialogue",S.SHOW_INFORMATION="showInformation",S.SHOW_LOGIN_DIALOGUE="showLoginDialogue",S.SHOW_MESSAGE="showMessage",S.SHOW_MOREINFO_DIALOGUE="showMoreInfoDialogue",S.SHOW_MULTISELECT_DIALOGUE="showMultiSelectDialogue",S.SHOW_OVERLAY="showOverlay",S.SHOW_RESTRICTED_DIALOGUE="showRestrictedDialogue",S.SHOW_SETTINGS_DIALOGUE="showSettingsDialogue",S.SHOW_SHARE_DIALOGUE="showShareDialogue",S.SHOW_TERMS_OF_USE="showTermsOfUse",S.TARGET_CHANGE="targetChange",S.THUMB_MULTISELECTED="thumbMultiSelected",S.THUMB_SELECTED="thumbSelected",S.TOGGLE_EXPAND_LEFT_PANEL="toggleExpandLeftPanel",S.TOGGLE_EXPAND_RIGHT_PANEL="toggleExpandRightPanel",S.TOGGLE_FULLSCREEN="toggleFullScreen",S.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",S.TREE_NODE_SELECTED="treeNodeSelected",S.UP_ARROW="upArrow",S.UPDATE_SETTINGS="updateSettings",S.VIEW_FULL_TERMS="viewFullTerms",S.WINDOW_UNLOAD="windowUnload";var Gr=function(){function i(t){this.isVisible=!0;var n=t.target.match(/.*(?<!n)xyz=(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)/),o=t.target.match(/.*nxyz=(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)/);this.bodyValue=t.bodyValue,this.x=Number(n[1]),this.y=Number(n[2]),this.z=Number(n[3]),this.nx=Number(o[1]),this.ny=Number(o[2]),this.nz=Number(o[3])}return i}();var Vr=function(){function i(t){this.isVisible=!0;var n;t.on?(n=t.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/),this.chars=t.resource.chars):(n=t.target.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/),this.chars=t.bodyValue),this.x=Number(n[1]),this.y=Number(n[2]),this.width=Number(n[3]),this.height=Number(n[4])}return i}();var Vs=function(){function i(t){this.rects=[],this.points3D=[],this.canvasId=t}return i.prototype.addRect=function(t){var n=new Vr(t);n.canvasId=this.canvasId,n.canvasIndex=this.canvasIndex,n.index=this.rects.length,this.rects.push(n),this.rects.sort(function(o,s){return o.index-s.index})},i.prototype.addPoint3D=function(t){var n=new Gr(t);n.canvasId=this.canvasId,n.canvasIndex=this.canvasIndex,n.index=this.points3D.length,this.points3D.push(n),this.points3D.sort(function(o,s){return o.index-s.index})},i}();var da=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),qs=function(i){da(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.getValue=function(n,o){return n.getValue(o,"<br/>")},t.getValues=function(n,o){return n.getValues(o)},t}(Array);var nn=function(){function i(t){this.__jsonld=t,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return i.prototype.getProperty=function(t){var n=null;return this.__jsonld&&(n=this.__jsonld[t],n||(n=this.__jsonld["@"+t])),n},i}();var fe=mt(Ht()),ga=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),vt=function(i){ga(t,i);function t(n,o){var s=i.call(this,n)||this;return s.options=o,s}return t.prototype.getIIIFResourceType=function(){return G.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var n=this.getProperty("label");return n?Et.parse(n,this.options.locale):new Et([],this.options.locale)},t.prototype.getDefaultLabel=function(){return this.getLabel().getValue(this.options.locale)},t.prototype.getMetadata=function(){var n=this.getProperty("metadata"),o=[];if(!n)return o;for(var s=0;s<n.length;s++){var c=n[s],g=new Wt(this.options.locale);g.parse(c),o.push(g)}return o},t.prototype.getRendering=function(n){for(var o=this.getRenderings(),s=0;s<o.length;s++){var c=o[s];if(c.getFormat()===n)return c}return null},t.prototype.getRenderings=function(){var n;this.__jsonld?n=this.__jsonld.rendering:n=this.rendering;var o=[];if(!n)return o;Array.isArray(n)||(n=[n]);for(var s=0;s<n.length;s++){var c=n[s];o.push(new kr(c,this.options))}return o},t.prototype.getService=function(n){return G.getService(this,n)},t.prototype.getServices=function(){return G.getServices(this)},t.prototype.getThumbnail=function(){var n=this.getProperty("thumbnail");return Array.isArray(n)&&(n=n[0]),n?new qr(n,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===fe.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===fe.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===fe.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===fe.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===fe.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===fe.IIIFResourceType.SEQUENCE},t}(nn);var va=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Te=function(i){va(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getFormat=function(){var n=this.getProperty("format");return n?n.toLowerCase():null},t.prototype.getResources=function(){var n=[];if(!this.__jsonld.resources)return n;for(var o=0;o<this.__jsonld.resources.length;o++){var s=this.__jsonld.resources[o],c=new ce(s,this.options);n.push(c)}return n},t.prototype.getType=function(){var n=this.getProperty("type");return n?G.normaliseType(n):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){var n=this.getProperty("maxHeight");return n?null:this.getMaxWidth()},t}(vt);var je=mt(Ht()),ya=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),rn=function(i){ya(t,i);function t(n,o){var s=i.call(this,n,o)||this;s.index=-1,s.isLoaded=!1;var c={defaultLabel:"-",locale:"en-GB",resource:s,pessimisticAccessControl:!1};return s.options=Object.assign(c,o),s}return t.prototype.getAttribution=function(){var n=this.getProperty("attribution");return n?Et.parse(n,this.options.locale):new Et([],this.options.locale)},t.prototype.getDescription=function(){var n=this.getProperty("description");return n?Et.parse(n,this.options.locale):new Et([],this.options.locale)},t.prototype.getHomepage=function(){var n=this.getProperty("homepage");return n?typeof n=="string"?n:(Array.isArray(n)&&n.length&&(n=n[0]),n["@id"]||n.id):null},t.prototype.getIIIFResourceType=function(){return G.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var n=this.getProperty("logo");return n?typeof n=="string"?n:(Array.isArray(n)&&n.length&&(n=n[0]),n["@id"]||n.id):null},t.prototype.getLicense=function(){return G.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var n=this.getService(je.ServiceProfile.TRACKING_EXTENSIONS);return n?n.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new Ut("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var n=null,o=this.getProperty("requiredStatement");if(o)n=new Wt(this.options.locale),n.parse(o);else{var s=this.getAttribution();s&&(n=new Wt(this.options.locale),n.value=s)}return n},t.prototype.isCollection=function(){return this.getIIIFResourceType()===je.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===je.IIIFResourceType.MANIFEST},t.prototype.load=function(){var n=this;return new Promise(function(o){if(n.isLoaded)o(n);else{var s=n.options;s.navDate=n.getNavDate();var c=n.__jsonld.id;c||(c=n.__jsonld["@id"]),G.loadManifest(c).then(function(g){n.parentLabel=n.getLabel().getValue(s.locale);var A=on.parse(g,s);n=Object.assign(n,A),n.index=s.index,o(n)})}})},t}(vt);var _a=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ce=function(i){_a(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getBody=function(){var n=[],o=this.getProperty("body");if(o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var c=o[s];if(c.items)for(var g=0;g<c.items.length;g++){var A=c.items[g];n.push(new Fe(A,this.options))}else n.push(new Fe(c,this.options))}else if(o.items)for(var s=0;s<o.items.length;s++){var c=o.items[s];n.push(new Fe(c,this.options))}else n.push(new Fe(o,this.options));return n},t.prototype.getMotivation=function(){var n=this.getProperty("motivation");return n||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new Te(this.getProperty("resource"),this.options)},t}(vt);var ma=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fe=function(i){ma(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getFormat=function(){var n=this.getProperty("format");return n?G.getMediaType(n):null},t.prototype.getType=function(){var n=this.getProperty("type");return n?G.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(vt);var Ea=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wr=function(i){Ea(t,i);function t(n,o,s){var c=i.call(this,o)||this;return c.label=n,c.options=s,c}return t.prototype.getIIIFResourceType=function(){return G.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var n=this,o=this.getProperty("resources");return o.map(function(s){return new ce(s,n.options)})},t.prototype.load=function(){var n=this;return new Promise(function(o,s){if(n.isLoaded)o(n);else{var c=n.__jsonld.id;c||(c=n.__jsonld["@id"]),G.loadManifest(c).then(function(g){n.__jsonld=g,n.context=n.getProperty("context"),n.id=n.getProperty("id"),n.isLoaded=!0,o(n)}).catch(s)}})},t}(nn);var Ta=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yr=function(i){Ta(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getItems=function(){return this.getProperty("items")},t}(vt);var jn=mt(Ht());var sn=mt(Oi()),Fn=mt(Li()),as=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ae=function(i){as(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getCanonicalImageUri=function(n){var o=null,s="full",c=0,g="default",A=n,N;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])o=this.externalResource.data["@id"],A||(A=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(g="native");else{var O=this.getImages();if(O&&O.length){var D=O[0],P=D.getResource(),F=P.getServices();if(A||(A=P.getWidth()),F.length){var U=F[0];o=U.id,g=G.getImageQuality(U.getProfile())}else if(A===P.getWidth())return P.id}if(!o){var H=this.getProperty("thumbnail");if(H){if(typeof H=="string")return H;if(H["@id"])return H["@id"];if(H.length)return H[0].id}}}N=A+",",o&&o.endsWith("/")&&(o=o.substr(0,o.length-1));var et=[o,s,N,c,g+".jpg"].join("/");return et},t.prototype.getMaxDimensions=function(){var n=null,o;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(o=this.externalResource.data.profile,Array.isArray(o)&&(o=o.filter(function(s){return s["maxWidth"]})[0],o&&(n=new xi(o.maxWidth,o.maxHeight?o.maxHeight:o.maxWidth)))),n},t.prototype.getContent=function(){var n=[],o=this.__jsonld.items||this.__jsonld.content;if(!o)return n;var s=null;if(o.length&&(s=new Yr(o[0],this.options)),!s)return n;for(var c=s.getItems(),g=0;g<c.length;g++){var A=c[g],N=new ce(A,this.options);n.push(N)}return n},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var n=[];if(!this.__jsonld.images)return n;for(var o=0;o<this.__jsonld.images.length;o++){var s=this.__jsonld.images[o],c=new ce(s,this.options);n.push(c)}return n},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var n=this,o=Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")],s=function(g,A){return typeof g!="string"||typeof A!="string"?!1:g.toLowerCase()===g.toLowerCase()},c=o.filter(function(g){return g&&s(g["@type"],"sc:AnnotationList")}).map(function(g,A){return new Wr(g.label||"Annotation list "+A,g,n.options)}).map(function(g){return g.load()});return Promise.all(c)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},Object.defineProperty(t.prototype,"imageResources",{get:function(){var n=this,o=(0,Fn.default)([this.getImages().map(function(s){return s.getResource()}),this.getContent().map(function(s){return s.getBody()})]);return(0,sn.default)(o.map(function(s){switch(s.getProperty("type").toLowerCase()){case jn.ExternalResourceType.CHOICE:case jn.ExternalResourceType.OA_CHOICE:return new t({images:(0,sn.default)([s.getProperty("default"),s.getProperty("item")]).map(function(c){return{resource:c}})},n.options).getImages().map(function(c){return c.getResource()});default:return s}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceAnnotations",{get:function(){return(0,Fn.default)([this.getImages(),this.getContent()])},enumerable:!0,configurable:!0}),t.prototype.resourceAnnotation=function(n){return this.resourceAnnotations.find(function(o){return o.getResource().id===n||(0,sn.default)(new Array(o.getBody())).some(function(s){return s.id===n})})},t.prototype.onFragment=function(n){var o=this.resourceAnnotation(n);if(!!o){var s=o.getProperty("on"),c=o.getProperty("target"),g=(s||c).match(/xywh=(.*)$/);if(!!g)return g[1].split(",").map(function(A){return parseInt(A,10)})}},Object.defineProperty(t.prototype,"iiifImageResources",{get:function(){return this.imageResources.filter(function(n){return n&&n.getServices()[0]&&n.getServices()[0].id})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageServiceIds",{get:function(){return this.iiifImageResources.map(function(n){return n.getServices()[0].id})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aspectRatio",{get:function(){return this.getWidth()/this.getHeight()},enumerable:!0,configurable:!0}),t}(Te);var Ni=mt(Ht());var ss=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),bi=function(i){ss(t,i);function t(n,o){var s=i.call(this,n,o)||this;return s.items=[],s._collections=null,s._manifests=null,n.__collection=s,s}return t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(n){return n.isCollection()})},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(n){return n.isManifest()})},t.prototype.getCollectionByIndex=function(n){for(var o=this.getCollections(),s,c=0;c<o.length;c++){var g=o[c];g.index===n&&(s=g)}if(s)return s.options.index=n,s.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(n){for(var o=this.getManifests(),s,c=0;c<o.length;c++){var g=o[c];g.index===n&&(s=g)}if(s)return s.options.index=n,s.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):Ni.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getBehavior=function(){var n=this.getProperty("behavior");return Array.isArray(n)&&(n=n[0]),n||null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getDefaultTree=function(){return i.prototype.getDefaultTree.call(this),this.defaultTree.data.type=G.normaliseType(yt.COLLECTION),this._parseManifests(this),this._parseCollections(this),G.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(n){if(n.getManifests()&&n.getManifests().length)for(var o=0;o<n.getManifests().length;o++){var s=n.getManifests()[o],c=s.getDefaultTree();c.label=s.parentLabel||s.getLabel().getValue(this.options.locale)||"manifest "+(o+1),c.navDate=s.getNavDate(),c.data.id=s.id,c.data.type=G.normaliseType(yt.MANIFEST),n.defaultTree.addNode(c)}},t.prototype._parseCollections=function(n){if(n.getCollections()&&n.getCollections().length)for(var o=0;o<n.getCollections().length;o++){var s=n.getCollections()[o],c=s.getDefaultTree();c.label=s.parentLabel||s.getLabel().getValue(this.options.locale)||"collection "+(o+1),c.navDate=s.getNavDate(),c.data.id=s.id,c.data.type=G.normaliseType(yt.COLLECTION),n.defaultTree.addNode(c)}},t}(rn);var un=function(){function i(t,n){this.start=t,this.end=n}return i.prototype.getLength=function(){return this.end-this.start},i}();var Wt=function(){function i(t){this.defaultLocale=t}return i.prototype.parse=function(t){this.resource=t,this.label=Et.parse(this.resource.label,this.defaultLocale),this.value=Et.parse(this.resource.value,this.defaultLocale)},i.prototype.getLabel=function(t){return this.label===null?null:(Array.isArray(t)&&!t.length&&(t=void 0),this.label.getValue(t||this.defaultLocale))},i.prototype.setLabel=function(t){this.label===null&&(this.label=new Et([])),this.label.setValue(t,this.defaultLocale)},i.prototype.getValue=function(t,n){return n===void 0&&(n="<br/>"),this.value===null?null:(Array.isArray(t)&&!t.length&&(t=void 0),this.value.getValue(t||this.defaultLocale,n))},i.prototype.getValues=function(t){return this.value===null?[]:(Array.isArray(t)&&!t.length&&(t=void 0),this.value.getValues(t||this.defaultLocale))},i.prototype.setValue=function(t){this.value===null&&(this.value=new Et([])),this.value.setValue(t,this.defaultLocale)},i}();var us=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),fs=function(){for(var i=0,t=0,n=arguments.length;t<n;t++)i+=arguments[t].length;for(var o=Array(i),s=0,t=0;t<n;t++)for(var c=arguments[t],g=0,A=c.length;g<A;g++,s++)o[s]=c[g];return o},Qt=function(){function i(t,n,o){o===void 0&&(o="none"),Array.isArray(t)&&t.length===1?this._value=t[0]:this._value=t,(n==="none"||n==="@none")&&(n=void 0),this._locale=n,this._defaultLocale=o}return i.parseV2Value=function(t,n){return typeof t=="string"?new i(t,void 0,n):t["@value"]?new i(t["@value"],t["@language"],n):null},Object.defineProperty(i.prototype,"value",{get:function(){return Array.isArray(this._value)?this._value.join("<br/>"):this._value},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"locale",{get:function(){return this._locale===void 0?this._defaultLocale:this._locale},enumerable:!0,configurable:!0}),i.prototype.addValue=function(t){Array.isArray(this._value)||(this._value=[this._value]),Array.isArray(t)?this._value=this._value.concat(t):this._value.push(t)},i}();var Et=function(i){us(t,i);function t(n,o){n===void 0&&(n=[]);var s=i.apply(this,n)||this;return s.__proto__=t.prototype,s._defaultLocale=o,s}return t.parse=function(n,o){if(!n)return new t([],o);if(Array.isArray(n)){var s=n.map(function(g){return Qt.parseV2Value(g,o)}).filter(function(g){return g!==null}),c=s.reduce(function(g,A){var N=A._locale;return N||(N="none"),g[N]?g[N].addValue(A._value):g[N]=A,g},{});return new t(Object.values(c),o)}else{if(typeof n=="string")return new t([new Qt(n,void 0,o)],o);if(n["@language"]){var s=Qt.parseV2Value(n);return new t(s!==null?[s]:[],o)}else return new t(Object.keys(n).map(function(g){var A=n[g];if(!Array.isArray(A))throw new Error("A IIIF v3 localized property value must have an array as the value for a given language.");return new Qt(A,g,o)}),o)}},t.prototype.getSuitableLocale=function(n){for(var o=fs(this).map(function(U){return U._locale}).filter(function(U){return U!==void 0}),s=function(U){var H=o.find(function(et){return et===U});if(H)return{value:H}},c=0,g=n;c<g.length;c++){var A=g[c],N=s(A);if(typeof N=="object")return N.value}for(var O=function(U){var H=o.find(function(et){return G.getInexactLocale(et)===G.getInexactLocale(U)});if(H)return{value:H}},D=0,P=n;D<P.length;D++){var A=P[D],F=O(A);if(typeof F=="object")return F.value}},t.prototype.setValue=function(n,o){var s=void 0;if(!o)s=this.find(function(g){return g._locale===void 0});else{var c=this.getSuitableLocale([o]);c&&(s=this.find(function(g){return g._locale===c}))}s?s._value=n:this.push(new Qt(n,o,this._defaultLocale))},t.prototype.getValue=function(n,o){var s=this.getValues(n);return s.length===0?null:o?s.join(o):s[0]},t.prototype.getValues=function(n){if(!this.length)return[];var o;if(n?Array.isArray(n)?o=n:o=[n]:o=[],this.length===1&&this[0]._locale===void 0){var s=this[0]._value;return Array.isArray(s)?s:[s]}var c=this.getSuitableLocale(o);if(c){var s=this.find(function(O){return O._locale===c})._value;return Array.isArray(s)?s:[s]}var g=!this.find(function(N){return N._locale===void 0});if(g){var s=this[0]._value;return Array.isArray(s)?s:[s]}var A=this.find(function(N){return N._locale===void 0});return A?Array.isArray(A._value)?A._value:[A._value]:[]},t}(Array);var le=mt(Ht());var cs=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ri=function(i){cs(t,i);function t(n,o){var s=i.call(this,n,o)||this;if(s.index=0,s._allRanges=null,s.items=[],s._topRanges=[],s.__jsonld.structures&&s.__jsonld.structures.length)for(var c=s._getTopRanges(),g=0;g<c.length;g++){var A=c[g];s._parseRanges(A,String(g))}return s}return t.prototype.getPosterCanvas=function(){var n=this.getProperty("posterCanvas");return n&&(n=new Ae(n,this.options)),n},t.prototype.getAccompanyingCanvas=function(){var n=this.getProperty("accompanyingCanvas");return n&&(n=new Ae(n,this.options)),n},t.prototype.getBehavior=function(){var n=this.getProperty("behavior");return Array.isArray(n)&&(n=n[0]),n||null},t.prototype.getDefaultTree=function(){if(i.prototype.getDefaultTree.call(this),this.defaultTree.data.type=G.normaliseType(yt.MANIFEST),!this.isLoaded)return this.defaultTree;var n=this.getTopRanges();return n.length&&n[0].getTree(this.defaultTree),G.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var n=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var o=0;o<this.__jsonld.structures.length;o++){var s=this.__jsonld.structures[o];s.viewingHint===le.ViewingHint.TOP&&n.push(s)}if(!n.length){var c={};c.ranges=this.__jsonld.structures,n.push(c)}}return n},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(n){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var o=0;o<this.__jsonld.structures.length;o++){var s=this.__jsonld.structures[o];if(s["@id"]===n||s.id===n)return s}return null},t.prototype._parseRanges=function(n,o,s){var c,g=null;if(typeof n=="string"&&(g=n,n=this._getRangeById(g)),!n){console.warn("Range:",g,"does not exist");return}c=new wi(n,this.options),c.parentRange=s,c.path=o,s?s.items.push(c):this._topRanges.push(c);var A=n.items||n.members;if(A)for(var N=0;N<A.length;N++){var O=A[N];if(O["@type"]&&O["@type"].toLowerCase()==="sc:range"||O.type&&O.type.toLowerCase()==="range")this._parseRanges(O,o+"/"+N,c);else if(O["@type"]&&O["@type"].toLowerCase()==="sc:canvas"||O.type&&O.type.toLowerCase()==="canvas"){c.canvases||(c.canvases=[]);var D=O.id||O["@id"];c.canvases.push(D)}}else if(n.ranges)for(var N=0;N<n.ranges.length;N++)this._parseRanges(n.ranges[N],o+"/"+N,c)},t.prototype.getAllRanges=function(){if(this._allRanges!=null)return this._allRanges;this._allRanges=[];for(var n=this.getTopRanges(),o=function(g){var A=n[g];A.id&&s._allRanges.push(A);var N=function(D,P){D.add(P);var F=P.getRanges();return F.length?F.reduce(N,D):D},O=Array.from(A.getRanges().reduce(N,new Set));s._allRanges=s._allRanges.concat(O)},s=this,c=0;c<n.length;c++)o(c);return this._allRanges},t.prototype.getRangeById=function(n){for(var o=this.getAllRanges(),s=0;s<o.length;s++){var c=o[s];if(c.id===n)return c}return null},t.prototype.getRangeByPath=function(n){for(var o=this.getAllRanges(),s=0;s<o.length;s++){var c=o[s];if(c.path===n)return c}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var n=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(n)for(var o=0;o<n.length;o++){var s=n[o],c=new Gn(s,this.options);this.items.push(c)}else if(this.__jsonld.items){var c=new Gn(this.__jsonld.items,this.options);this.items.push(c)}return this.items},t.prototype.getSequenceByIndex=function(n){return this.getSequences()[n]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var n=this.getService(le.ServiceProfile.UI_EXTENSIONS);return n?n.getProperty("manifestType"):Jt.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var n=this.getViewingHint();if(n)return n===le.ViewingHint.PAGED;var o=this.getBehavior();return o?o===le.Behavior.PAGED:!1},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(rn);var Jt;(function(i){i.EMPTY="",i.MANUSCRIPT="manuscript",i.MONOGRAPH="monograph"})(Jt||(Jt={}));var Di=mt(Ht()),ls=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),wi=function(i){ls(t,i);function t(n,o){var s=i.call(this,n,o)||this;return s._ranges=null,s.canvases=null,s.items=[],s}return t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){if(this.canvases&&this.canvases.length){for(var n=[],o=[],s=0,c=this.canvases;s<c.length;s++){var g=c[s];if(!!g){var A=g.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,g],N=A[1],O=A[2],D=A[3];N&&(n.push(parseFloat(O)),o.push(parseFloat(D)))}}if(n.length&&o.length)return new un(Math.min.apply(Math,n),Math.max.apply(Math,o))}else{for(var P=this.getRanges(),n=[],o=[],F=0,U=P;F<U.length;F++){var H=U[F],et=H.getDuration();et&&(n.push(et.start),o.push(et.end))}if(n.length&&o.length)return new un(Math.min.apply(Math,n),Math.max.apply(Math,o))}var Y,he;if(this.canvases&&this.canvases.length)for(var Ct=0;Ct<this.canvases.length;Ct++){var g=this.canvases[Ct],jt=G.getTemporalComponent(g);jt&&jt.length>1&&(Ct===0&&(Y=Number(jt[0])),Ct===this.canvases.length-1&&(he=Number(jt[1])))}else for(var P=this.getRanges(),Ct=0;Ct<P.length;Ct++){var H=P[Ct],et=H.getDuration();et&&(Ct===0&&(Y=et.start),Ct===P.length-1&&(he=et.end))}if(Y!==void 0&&he!==void 0)return new un(Y,he)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(n){return n.isRange()})},t.prototype.getBehavior=function(){var n=this.getProperty("behavior");return Array.isArray(n)&&(n=n[0]),n||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(n){n.data=this,this.treeNode=n;var o=this.getRanges();if(o&&o.length)for(var s=0;s<o.length;s++){var c=o[s],g=new Ut;n.addNode(g),this._parseTreeNode(g,c)}return G.generateTreeNodeIds(n),n},t.prototype.spansTime=function(n){var o=this.getDuration();return!!(o&&n>=o.start&&n<=o.end)},t.prototype._parseTreeNode=function(n,o){n.label=o.getLabel().getValue(this.options.locale),n.data=o,n.data.type=G.normaliseType(yt.RANGE),o.treeNode=n;var s=o.getRanges();if(s&&s.length)for(var c=0;c<s.length;c++){var g=s[c],A=g.getBehavior();if(A!==Di.Behavior.NO_NAV){var N=new Ut;n.addNode(N),this._parseTreeNode(N,g)}}},t}(vt);var hs=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),kr=function(i){hs(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getFormat=function(){return this.getProperty("format")},t}(vt);var Ce=mt(Ht());var ps=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gn=function(i){ps(t,i);function t(n,o){var s=i.call(this,n,o)||this;return s.items=[],s._thumbnails=null,s}return t.prototype.getCanvases=function(){if(this.items.length)return this.items;var n=this.__jsonld.canvases||this.__jsonld.elements;if(n)for(var o=0;o<n.length;o++){var s=n[o],c=new Ae(s,this.options);c.index=o,this.items.push(c)}else if(this.__jsonld)for(var o=0;o<this.__jsonld.length;o++){var s=this.__jsonld[o],c=new Ae(s,this.options);c.index=o,this.items.push(c)}return this.items},t.prototype.getCanvasById=function(n){for(var o=0;o<this.getTotalCanvases();o++){var s=this.getCanvasByIndex(o),c=G.normaliseUrl(s.id);if(G.normaliseUrl(n)===c)return s}return null},t.prototype.getCanvasByIndex=function(n){return this.getCanvases()[n]},t.prototype.getCanvasIndexById=function(n){for(var o=0;o<this.getTotalCanvases();o++){var s=this.getCanvasByIndex(o);if(s.id===n)return o}return null},t.prototype.getCanvasIndexByLabel=function(n,o){n=n.trim(),isNaN(n)||(n=parseInt(n,10).toString(),o&&(n+="r"));for(var s=/(\d*)\D+(\d*)/,c,g,A,N,O,D=0;D<this.getTotalCanvases();D++){var P=this.getCanvasByIndex(D);if(P.getLabel().getValue(this.options.locale)===n)return D;if(c=s.exec(n),!!c&&(N=c[1],O=c[2],!!O&&(A="^"+N+"\\D+"+O+"$",g=new RegExp(A),g.test(P.getLabel().toString()))))return D}return-1},t.prototype.getLastCanvasLabel=function(n){for(var o=this.getTotalCanvases()-1;o>=0;o--){var s=this.getCanvasByIndex(o),c=s.getLabel().getValue(this.options.locale);if(n){var g=/^[a-zA-Z0-9]*$/;if(g.test(c))return c}else if(c)return c}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(n,o){var s;if(o){var c=this.getPagedIndices(n),g=this.getViewingDirection();g&&g===Ce.ViewingDirection.RIGHT_TO_LEFT?s=c[0]+1:s=c[c.length-1]+1}else s=n+1;return s>this.getLastPageIndex()?-1:s},t.prototype.getPagedIndices=function(n,o){var s=[];if(!o)s.push(n);else{this.isFirstCanvas(n)||this.isLastCanvas(n)?s=[n]:n%2?s=[n,n+1]:s=[n-1,n];var c=this.getViewingDirection();c&&c===Ce.ViewingDirection.RIGHT_TO_LEFT&&(s=s.reverse())}return s},t.prototype.getPrevPageIndex=function(n,o){var s;if(o){var c=this.getPagedIndices(n),g=this.getViewingDirection();g&&g===Ce.ViewingDirection.RIGHT_TO_LEFT?s=c[c.length-1]-1:s=c[0]-1}else s=n-1;return s},t.prototype.getStartCanvasIndex=function(){var n=this.getStartCanvas();if(n)for(var o=0;o<this.getTotalCanvases();o++){var s=this.getCanvasByIndex(o);if(s.id===n)return o}return 0},t.prototype.getThumbs=function(n,o){for(var s=[],c=this.getTotalCanvases(),g=0;g<c;g++){var A=this.getCanvasByIndex(g),N=new Mi(n,A);s.push(N)}return s},t.prototype.getThumbnails=function(){if(this._thumbnails!=null)return this._thumbnails;this._thumbnails=[];for(var n=this.getCanvases(),o=0;o<n.length;o++){var s=n[o].getThumbnail();s&&this._thumbnails.push(s)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(n){return n>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(n){return n===0},t.prototype.isLastCanvas=function(n){return n===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var n=this.getViewingHint();return n?n===Ce.ViewingHint.PAGED:!1},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(vt);var on=function(){function i(){}return i.parse=function(t,n){return typeof t=="string"&&(t=JSON.parse(t)),this.parseJson(t,n)},i.parseJson=function(t,n){var o;if(n&&n.navDate&&!isNaN(n.navDate.getTime())&&(t.navDate=n.navDate.toString()),t["@type"])switch(t["@type"]){case"sc:Collection":o=this.parseCollection(t,n);break;case"sc:Manifest":o=this.parseManifest(t,n);break;default:return null}else switch(t.type){case"Collection":o=this.parseCollection(t,n);break;case"Manifest":o=this.parseManifest(t,n);break;default:return null}return o.isLoaded=!0,o},i.parseCollection=function(t,n){var o=new bi(t,n);return n?(o.index=n.index||0,n.resource&&(o.parentCollection=n.resource.parentCollection)):o.index=0,this.parseCollections(o,n),this.parseManifests(o,n),this.parseItems(o,n),o},i.parseCollections=function(t,n){var o;if(t.__jsonld.collections?o=t.__jsonld.collections:t.__jsonld.items&&(o=t.__jsonld.items.filter(function(g){return g.type.toLowerCase()==="collection"})),o)for(var s=0;s<o.length;s++){n&&(n.index=s);var c=this.parseCollection(o[s],n);c.index=s,c.parentCollection=t,t.items.push(c)}},i.parseManifest=function(t,n){var o=new Ri(t,n);return o},i.parseManifests=function(t,n){var o;if(t.__jsonld.manifests?o=t.__jsonld.manifests:t.__jsonld.items&&(o=t.__jsonld.items.filter(function(g){return g.type.toLowerCase()==="manifest"})),o)for(var s=0;s<o.length;s++){var c=this.parseManifest(o[s],n);c.index=s,c.parentCollection=t,t.items.push(c)}},i.parseItem=function(t,n){if(t["@type"]){if(t["@type"].toLowerCase()==="sc:manifest")return this.parseManifest(t,n);if(t["@type"].toLowerCase()==="sc:collection")return this.parseCollection(t,n)}else if(t.type){if(t.type.toLowerCase()==="manifest")return this.parseManifest(t,n);if(t.type.toLowerCase()==="collection")return this.parseCollection(t,n)}return null},i.parseItems=function(t,n){var o=t.__jsonld.members||t.__jsonld.items;if(o)for(var s=function(N){n&&(n.index=N);var O=c.parseItem(o[N],n);if(!O)return{value:void 0};if(t.items.filter(function(D){return D.id===O.id})[0])return"continue";O.index=N,O.parentCollection=t,t.items.push(O)},c=this,g=0;g<o.length;g++){var A=s(g);if(typeof A=="object")return A.value}},i}();var ds=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vn=function(i){ds(t,i);function t(n,o){return i.call(this,n,o)||this}return t.prototype.getProfile=function(){var n=this.getProperty("profile");return n||(n=this.getProperty("dcterms:conformsTo")),Array.isArray(n)?n[0]:n},t.prototype.getConfirmLabel=function(){return G.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return G.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return G.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return G.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return G.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return G.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var n=this.id;return n.endsWith("/")||(n+="/"),n+="info.json",n},t}(vt);var xi=function(){function i(t,n){this.width=t,this.height=n}return i}();var Ie;(function(i){i[i.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",i[i.FORBIDDEN=2]="FORBIDDEN",i[i.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",i[i.RESTRICTED=4]="RESTRICTED"})(Ie||(Ie={}));var Mi=function(){function i(t,n){this.data=n,this.index=n.index,this.width=t;var o=n.getHeight()/n.getWidth();o?this.height=Math.floor(this.width*o):this.height=t,this.uri=n.getCanonicalImageUri(t),this.label=n.getLabel().getValue()}return i}();var gs=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)s.hasOwnProperty(c)&&(o[c]=s[c])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),qr=function(i){gs(t,i);function t(n,o){return i.call(this,n,o)||this}return t}(Te);var Ut=function(){function i(t,n){this.label=t,this.data=n||{},this.nodes=[]}return i.prototype.addNode=function(t){this.nodes.push(t),t.parentNode=this},i.prototype.isCollection=function(){return this.data.type===G.normaliseType(yt.COLLECTION)},i.prototype.isManifest=function(){return this.data.type===G.normaliseType(yt.MANIFEST)},i.prototype.isRange=function(){return this.data.type===G.normaliseType(yt.RANGE)},i}();var yt;(function(i){i.COLLECTION="collection",i.MANIFEST="manifest",i.RANGE="range"})(yt||(yt={}));var V=mt(Ht()),Tt=mt(Pi()),Rf=mt(ji()),qn=function(i,t,n,o){function s(c){return c instanceof n?c:new n(function(g){g(c)})}return new(n||(n=Promise))(function(c,g){function A(D){try{O(o.next(D))}catch(P){g(P)}}function N(D){try{O(o.throw(D))}catch(P){g(P)}}function O(D){D.done?c(D.value):s(D.value).then(A,N)}O((o=o.apply(i,t||[])).next())})},Wn=function(i,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,s,c,g;return g={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function A(O){return function(D){return N([O,D])}}function N(O){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,s&&(c=O[0]&2?s.return:O[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,O[1])).done)return c;switch(s=0,c&&(O=[O[0]&2,c.value]),O[0]){case 0:case 1:c=O;break;case 4:return n.label++,{value:O[1],done:!1};case 5:n.label++,s=O[1],O=[0];continue;case 7:O=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(O[0]===6||O[0]===2)){n=0;continue}if(O[0]===3&&(!c||O[1]>c[0]&&O[1]<c[3])){n.label=O[1];break}if(O[0]===6&&n.label<c[1]){n.label=c[1],c=O;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(O);break}c[2]&&n.ops.pop(),n.trys.pop();continue}O=t.call(i,n)}catch(D){O=[6,D],s=0}finally{o=c=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},G=function(){function i(){}return i.getMediaType=function(t){return t=t.toLowerCase(),t=t.split(";")[0],t.trim()},i.getImageQuality=function(t){return t===V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||t===V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||t===V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||t===V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||t===V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||t===V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||t===V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||t===V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||t===V.ServiceProfile.IMAGE_1_LEVEL_1||t===V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||t===V.ServiceProfile.IMAGE_1_LEVEL_2||t===V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},i.getInexactLocale=function(t){return t.indexOf("-")!==-1?t.substr(0,t.indexOf("-")):t},i.getLocalisedValue=function(t,n){if(!Array.isArray(t))return t;for(var o=0;o<t.length;o++){var s=t[o],c=s["@language"];if(n===c)return s["@value"]}for(var g=n.substr(0,n.indexOf("-")),o=0;o<t.length;o++){var A=t[o],N=A["@language"];if(N===g)return A["@value"]}return null},i.generateTreeNodeIds=function(t,n){n===void 0&&(n=0);var o;t.parentNode?o=t.parentNode.id+"-"+n:o="0",t.id=o;for(var s=0;s<t.nodes.length;s++){var c=t.nodes[s];i.generateTreeNodeIds(c,s)}},i.normaliseType=function(t){if(t=(t||"").toLowerCase(),t.indexOf(":")!==-1){var n=t.split(":");return n[1]}return t},i.normaliseUrl=function(t){return t=t.substr(t.indexOf("://")),t.indexOf("#")!==-1&&(t=t.split("#")[0]),t},i.normalisedUrlsMatch=function(t,n){return i.normaliseUrl(t)===i.normaliseUrl(n)},i.isImageProfile=function(t){return!!(i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},i.isLevel0ImageProfile=function(t){return!!(i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_LEVEL_0)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},i.isLevel1ImageProfile=function(t){return!!(i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_LEVEL_1)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},i.isLevel2ImageProfile=function(t){return!!(i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_LEVEL_2)||i.normalisedUrlsMatch(t,V.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},i.parseManifest=function(t,n){return on.parse(t,n)},i.checkStatus=function(t){if(t.ok)return t;var n=new Error(t.statusText);return n.response=t,Promise.reject(n)},i.loadManifest=function(t){return new Promise(function(n,o){fetch(t).then(i.checkStatus).then(function(s){return s.json()}).then(function(s){n(s)}).catch(function(s){o()})})},i.loadExternalResourcesAuth1=function(t,n,o,s,c,g,A,N){return new Promise(function(O,D){var P=t.map(function(F){return i.loadExternalResourceAuth1(F,n,o,s,c,g,A,N)});Promise.all(P).then(function(){O(t)}).catch(function(F){D(F)})})},i.loadExternalResourceAuth1=function(t,n,o,s,c,g,A,N){return qn(this,void 0,void 0,function(){var O;return Wn(this,function(D){switch(D.label){case 0:return[4,s(t)];case 1:return O=D.sent(),O?[4,t.getData(O)]:[3,6];case 2:return D.sent(),t.status!==Tt.OK?[3,3]:[2,t];case 3:return[4,i.doAuthChain(t,n,o,c,g,A,N)];case 4:D.sent(),D.label=5;case 5:if(t.status===Tt.OK||t.status===Tt.MOVED_TEMPORARILY)return[2,t];throw i.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return D.sent(),t.status===Tt.MOVED_TEMPORARILY||t.status===Tt.UNAUTHORIZED?[4,i.doAuthChain(t,n,o,c,g,A,N)]:[3,9];case 8:D.sent(),D.label=9;case 9:if(t.status===Tt.OK||t.status===Tt.MOVED_TEMPORARILY)return[2,t];throw i.createAuthorizationFailedError()}})})},i.doAuthChain=function(t,n,o,s,c,g,A){return qn(this,void 0,void 0,function(){var N,O,D,P,F,U,H,et,et;return Wn(this,function(Y){switch(Y.label){case 0:return t.isAccessControlled()?(N=t.externalService,N&&(N.options=t.options),O=t.kioskService,O&&(O.options=t.options),D=t.clickThroughService,D&&(D.options=t.options),P=t.loginService,P&&(P.options=t.options),!t.isResponseHandled&&t.status===Tt.MOVED_TEMPORARILY?[4,g(t)]:[3,2]):[2,t];case 1:return Y.sent(),[2,t];case 2:return F=null,U=null,F=N,F?(U=F,[4,i.attemptResourceWithToken(t,o,F)]):[3,4];case 3:return Y.sent(),[2,t];case 4:return F=O,F?(U=F,H=n(F),H?[4,s(H)]:[3,7]):[3,7];case 5:return Y.sent(),[4,i.attemptResourceWithToken(t,o,F)];case 6:return Y.sent(),[2,t];case 7:return F=D,F?(U=F,[4,c(t,F)]):[3,11];case 8:return et=Y.sent(),et?[4,s(et)]:[3,11];case 9:return Y.sent(),[4,i.attemptResourceWithToken(t,o,F)];case 10:return Y.sent(),[2,t];case 11:return F=P,F?(U=F,[4,c(t,F)]):[3,15];case 12:return et=Y.sent(),et?[4,s(et)]:[3,15];case 13:return Y.sent(),[4,i.attemptResourceWithToken(t,o,F)];case 14:return Y.sent(),[2,t];case 15:return U&&A(t,U),[2]}})})},i.attemptResourceWithToken=function(t,n,o){return qn(this,void 0,void 0,function(){var s,c;return Wn(this,function(g){switch(g.label){case 0:return s=o.getService(V.ServiceProfile.AUTH_1_TOKEN),s?[4,n(t,s)]:[3,3];case 1:return c=g.sent(),c&&c.accessToken?[4,t.getData(c)]:[3,3];case 2:return g.sent(),[2,t];case 3:return[2]}})})},i.loadExternalResourcesAuth09=function(t,n,o,s,c,g,A,N,O,D){return new Promise(function(P,F){var U=t.map(function(H){return i.loadExternalResourceAuth09(H,n,o,s,c,g,A,N,O,D)});Promise.all(U).then(function(){P(t)}).catch(function(H){F(H)})})},i.loadExternalResourceAuth09=function(t,n,o,s,c,g,A,N,O,D){return new Promise(function(P,F){D&&D.pessimisticAccessControl?t.getData().then(function(){t.isAccessControlled()?t.clickThroughService?(P(o(t)),P(s(t))):c(t).then(function(){g(t,!0).then(function(U){t.getData(U).then(function(){P(O(t))}).catch(function(H){F(i.createInternalServerError(H))})}).catch(function(U){F(i.createInternalServerError(U))})}).catch(function(U){F(i.createInternalServerError(U))}):P(t)}).catch(function(U){F(i.createInternalServerError(U))}):N(t,n).then(function(U){U?t.getData(U).then(function(){t.status===Tt.OK?P(O(t)):i.authorize(t,n,o,s,c,g,A,N).then(function(){P(O(t))}).catch(function(H){F(i.createAuthorizationFailedError())})}).catch(function(H){F(i.createAuthorizationFailedError())}):i.authorize(t,n,o,s,c,g,A,N).then(function(){P(O(t))}).catch(function(H){F(i.createAuthorizationFailedError())})}).catch(function(U){F(i.createAuthorizationFailedError())})})},i.createError=function(t,n){var o=new Error;return o.message=n,o.name=String(t),o},i.createAuthorizationFailedError=function(){return i.createError(Ie.AUTHORIZATION_FAILED,"Authorization failed")},i.createRestrictedError=function(){return i.createError(Ie.RESTRICTED,"Restricted")},i.createInternalServerError=function(t){return i.createError(Ie.INTERNAL_SERVER_ERROR,t)},i.authorize=function(t,n,o,s,c,g,A,N){return new Promise(function(O,D){t.getData().then(function(){t.isAccessControlled()?N(t,n).then(function(P){P?t.getData(P).then(function(){t.status===Tt.OK?O(t):i.showAuthInteraction(t,n,o,s,c,g,A,O,D)}).catch(function(F){D(i.createInternalServerError(F))}):g(t,!1).then(function(F){F?A(t,F,n).then(function(){t.getData(F).then(function(){t.status===Tt.OK?O(t):i.showAuthInteraction(t,n,o,s,c,g,A,O,D)}).catch(function(U){D(i.createInternalServerError(U))})}).catch(function(U){D(i.createInternalServerError(U))}):i.showAuthInteraction(t,n,o,s,c,g,A,O,D)})}).catch(function(P){D(i.createInternalServerError(P))}):O(t)})})},i.showAuthInteraction=function(t,n,o,s,c,g,A,N,O){t.status===Tt.MOVED_TEMPORARILY&&!t.isResponseHandled?N(t):t.clickThroughService&&!t.isResponseHandled?o(t).then(function(){g(t,!0).then(function(D){A(t,D,n).then(function(){t.getData(D).then(function(){N(t)}).catch(function(P){O(i.createInternalServerError(P))})}).catch(function(P){O(i.createInternalServerError(P))})}).catch(function(D){O(i.createInternalServerError(D))})}):c(t).then(function(){g(t,!0).then(function(D){A(t,D,n).then(function(){t.getData(D).then(function(){N(t)}).catch(function(P){O(i.createInternalServerError(P))})}).catch(function(P){O(i.createInternalServerError(P))})}).catch(function(D){O(i.createInternalServerError(D))})})},i.getService=function(t,n){for(var o=this.getServices(t),s=0;s<o.length;s++){var c=o[s];if(c.getProfile()===n)return c}return null},i.getResourceById=function(t,n){return i.traverseAndFind(t.__jsonld,"@id",n)},i.traverseAndFind=function(t,n,o){if(t.hasOwnProperty(n)&&t[n]===o)return t;for(var s=0;s<Object.keys(t).length;s++)if(typeof t[Object.keys(t)[s]]=="object"){var c=i.traverseAndFind(t[Object.keys(t)[s]],n,o);if(c!=null)return c}},i.getServices=function(t){var n;t.__jsonld?n=t.__jsonld.service:n=t.service;var o=[];if(!n)return o;Array.isArray(n)||(n=[n]);for(var s=0;s<n.length;s++){var c=n[s];if(typeof c=="string"){var g=this.getResourceById(t.options.resource,c);g&&o.push(new Vn(g.__jsonld||g,t.options))}else o.push(new Vn(c,t.options))}return o},i.getTemporalComponent=function(t){var n=/t=([^&]+)/g.exec(t),o=null;return n&&n[1]&&(o=n[1].split(",")),o},i}();var Fi=function(){function i(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return i.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},i.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},i.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},i.prototype.getAll=function(){return this.canvases.concat(this.ranges)},i.prototype.getAllSelectedCanvases=function(){return this.canvases.filter(function(t){return t.multiSelected})},i.prototype.getAllSelectedRanges=function(){return this.ranges.filter(function(t){return t.multiSelected})},i.prototype.getCanvasById=function(t){return this.canvases.filter(function(n){return G.normaliseUrl(n.id)===G.normaliseUrl(t)})[0]},i.prototype.getCanvasesByIds=function(t){for(var n=[],o=0;o<t.length;o++){var s=t[o];n.push(this.getCanvasById(s))}return n},i.prototype.getRangeCanvases=function(t){var n=t.getCanvasIds();return this.getCanvasesByIds(n)},i.prototype.selectAll=function(t){this.selectRanges(this.ranges,t),this.selectCanvases(this.canvases,t)},i.prototype.selectCanvas=function(t,n){var o=this.canvases.filter(function(s){return s.id===t.id})[0];o.multiSelected=n},i.prototype.selectAllCanvases=function(t){this.selectCanvases(this.canvases,t)},i.prototype.selectCanvases=function(t,n){for(var o=0;o<t.length;o++){var s=t[o];s.multiSelected=n}},i.prototype.selectRange=function(t,n){var o=this.ranges.filter(function(c){return c.id===t.id})[0];o.multiSelected=n;var s=this.getRangeCanvases(o);this.selectCanvases(s,n)},i.prototype.selectAllRanges=function(t){this.selectRanges(this.ranges,t)},i.prototype.selectRanges=function(t,n){for(var o=0;o<t.length;o++){var s=t[o];s.multiSelected=n;var c=this.getCanvasesByIds(s.getCanvasIds());this.selectCanvases(c,n)}},i.prototype.setEnabled=function(t){this.isEnabled=t;for(var n=this.getAll(),o=0;o<n.length;o++){var s=n[o];s.multiSelectEnabled=this.isEnabled,t||(s.multiSelected=!1)}},i}();var Oe=function(){function i(t,n){this.items=[],this.resource=t,this.label=n}return i.prototype.addItem=function(t){this.items.push(t)},i.prototype.addMetadata=function(t,n){n===void 0&&(n=!1);for(var o=0;o<t.length;o++){var s=t[o];s.isRootLevel=n,this.addItem(s)}},i}();var Ve;(function(i){i.DATE="date",i.NONE="none"})(Ve||(Ve={}));var At=mt(Ht());var it=function(){function i(){}return i.manifestNotLoaded="Manifest has not loaded yet",i}();var fn=function(){function i(t){this.options=t,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return i.prototype.getAutoCompleteService=function(){var t=this.getSearchService(),n=null;return t&&(n=t.getService(At.ServiceProfile.SEARCH_0_AUTO_COMPLETE),n||(n=t.getService(At.ServiceProfile.SEARCH_1_AUTO_COMPLETE))),n},i.prototype.getAttribution=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.manifest.getAttribution();return t?t.getValue(this.options.locale):null},i.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},i.prototype.getCanvasById=function(t){return this.getCurrentSequence().getCanvasById(t)},i.prototype.getCanvasesById=function(t){for(var n=[],o=0;o<t.length;o++){var s=t[o],c=this.getCanvasById(s);c&&n.push(c)}return n},i.prototype.getCanvasByIndex=function(t){return this.getCurrentSequence().getCanvasByIndex(t)},i.prototype.getCanvasIndexById=function(t){return this.getCurrentSequence().getCanvasIndexById(t)},i.prototype.getCanvasIndexByLabel=function(t){var n=this.getManifestType()===Jt.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(t,n)},i.prototype.getCanvasRange=function(t,n){var o=this.getCanvasRanges(t);if(n){for(var s=0;s<o.length;s++){var c=o[s];if(c.path===n)return c}return null}else return o[0]},i.prototype.getCanvasRanges=function(t){if(!this.manifest)throw new Error(it.manifestNotLoaded);return t.ranges||(t.ranges=this.manifest.getAllRanges().filter(function(n){return n.getCanvasIds().some(function(o){return G.normaliseUrl(o)===G.normaliseUrl(t.id)})})),t.ranges},i.prototype.getCollectionIndex=function(t){if(!(t.parentCollection&&!t.parentCollection.parentCollection)&&t.parentCollection)return t.parentCollection.index},i.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},i.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},i.prototype.getDescription=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.manifest.getDescription();return t?t.getValue(this.options.locale):null},i.prototype.getLabel=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.manifest.getLabel();return t?t.getValue(this.options.locale):null},i.prototype.getLastCanvasLabel=function(t){return this.getCurrentSequence().getLastCanvasLabel(t)},i.prototype.getFirstPageIndex=function(){return 0},i.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},i.prototype.getLicense=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getLicense()},i.prototype.getLogo=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getLogo()},i.prototype.getManifestType=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.manifest.getManifestType();return t===Jt.EMPTY&&(t=Jt.MONOGRAPH),t},i.prototype.getMetadata=function(t){if(!this.manifest)throw new Error(it.manifestNotLoaded);var n=[],o=this.manifest.getMetadata(),s=new Oe(this.manifest),c=this.options.locale;if(o&&o.length&&s.addMetadata(o,!0),this.manifest.getDescription().length){var g=new Wt(c);g.label=new Et([new Qt("description",c)]),g.value=this.manifest.getDescription(),g.isRootLevel=!0,s.addItem(g)}if(this.manifest.getAttribution().length){var g=new Wt(c);g.label=new Et([new Qt("attribution",c)]),g.value=this.manifest.getAttribution(),g.isRootLevel=!0,s.addItem(g)}var A=this.manifest.getLicense();if(A){var N={label:"license",value:t&&t.licenseFormatter?t.licenseFormatter.format(A):A},g=new Wt(c);g.parse(N),g.isRootLevel=!0,s.addItem(g)}if(this.manifest.getLogo()){var N={label:"logo",value:'<img alt="logo" src="'+this.manifest.getLogo()+'"/>'},g=new Wt(c);g.parse(N),g.isRootLevel=!0,s.addItem(g)}return n.push(s),t?this._parseMetadataOptions(t,n):n},i.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.manifest.getRequiredStatement();return t?{label:t.label?t.getLabel():"",value:t.value&&t.value.length?t.getValue():""}:null},i.prototype._parseMetadataOptions=function(t,n){var o=this.getCurrentSequence(),s=o.getMetadata();if(s&&s.length){var c=new Oe(o);c.addMetadata(s),n.push(c)}if(t.range){var g=this._getRangeMetadata([],t.range);g=g.reverse(),n=n.concat(g)}if(t.canvases&&t.canvases.length)for(var A=0;A<t.canvases.length;A++){var N=t.canvases[A],O=N.getMetadata();if(O&&O.length){var D=new Oe(N);D.addMetadata(N.getMetadata()),n.push(D)}for(var P=N.getImages(),F=0;F<P.length;F++){var U=P[F],H=U.getMetadata();if(H&&H.length){var et=new Oe(U);et.addMetadata(H),n.push(et)}}}return n},i.prototype._getRangeMetadata=function(t,n){var o=n.getMetadata();if(o&&o.length){var s=new Oe(n);s.addMetadata(o),t.push(s)}else if(n.parentRange)return this._getRangeMetadata(t,n.parentRange);return t},i.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new Fi,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},i.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},i.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getPosterCanvas()},i.prototype.getAccompanyingCanvas=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getAccompanyingCanvas()},i.prototype.getPosterImage=function(){var t=this.getPosterCanvas();if(t){var n=t.getContent();if(n&&n.length){var o=n[0],s=o.getBody();return s[0].id}}return null},i.prototype.getAccompanyingCanvasImage=function(){var t=this.getAccompanyingCanvas();if(t){var n=t.getContent();if(n&&n.length){var o=n[0],s=o.getBody();return s[0].id}}return null},i.prototype.getPreviousRange=function(t){var n=null;if(t?n=t:n=this.getCurrentRange(),n){var o=this.getFlattenedTree();if(o)for(var s=0;s<o.length;s++){var c=o[s];if(c&&c.data.id===n.id){for(;s>0;){s--;var g=o[s];return g.data}break}}}return null},i.prototype.getNextRange=function(t){var n=null;if(t?n=t:n=this.getCurrentRange(),n){var o=this.getFlattenedTree();if(o)for(var s=0;s<o.length;s++){var c=o[s];if(c&&c.data.id===n.id){for(;s<o.length-1;){s++;var g=o[s];if(g.data.canvases&&g.data.canvases.length)return g.data}break}}}return null},i.prototype.getFlattenedTree=function(t){var n=null;return t?n=t:n=this.getTree(),n?this._flattenTree(n,"nodes"):null},i.prototype._flattenTree=function(t,n){var o=this,s=[t];return t[n]&&t[n].length>0?s.concat(t[n].map(function(c){return o._flattenTree(c,n)}).reduce(function(c,g){return c.concat(g)},[])):s},i.prototype.getRanges=function(){return this.manifest.getAllRanges()},i.prototype.getRangeByPath=function(t){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getRangeByPath(t)},i.prototype.getRangeById=function(t){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getRangeById(t)},i.prototype.getRangeCanvases=function(t){var n=t.getCanvasIds();return this.getCanvasesById(n)},i.prototype.getRelated=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getRelated()},i.prototype.getSearchService=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.manifest.getService(At.ServiceProfile.SEARCH_0);return t||(t=this.manifest.getService(At.ServiceProfile.SEARCH_1)),t},i.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getSeeAlso()},i.prototype.getSequenceByIndex=function(t){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getSequenceByIndex(t)},i.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=null,n=this.manifest.getService(At.ServiceProfile.SHARE_EXTENSIONS);return n&&(n.length&&(n=n[0]),t=n.__jsonld.shareUrl),t},i.prototype._getSortedTreeNodesByDate=function(t,n){var o=this.getFlattenedTree(n);if(o){var s=o.filter(function(c){return c.data.type===yt.MANIFEST});this.createDecadeNodes(t,o),this.sortDecadeNodes(t),this.createYearNodes(t,o),this.sortYearNodes(t),this.createMonthNodes(t,s),this.sortMonthNodes(t),this.createDateNodes(t,s),this.pruneDecadeNodes(t)}},i.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},i.prototype.getThumbs=function(t,n){return this.getCurrentSequence().getThumbs(t,n)},i.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getTopRanges()},i.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},i.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.getTrackingLabel()},i.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},i.prototype.getTree=function(t,n){if(t===void 0&&(t=0),n===void 0&&(n=Ve.NONE),!this.iiifResource)return null;var o;if(this.iiifResource.isCollection())o=this.iiifResource.getDefaultTree();else{var s=this._getTopRanges(),c=new Ut;if(c.label="root",c.data=this.iiifResource,s.length){var g=s[t];o=g.getTree(c)}else return c}var A=new Ut;switch(n.toString()){case Ve.DATE.toString():if(this.treeHasNavDates(o))return this._getSortedTreeNodesByDate(A,o),A;break}return o},i.prototype.treeHasNavDates=function(t){var n=this.getFlattenedTree(t);return n?n.some(function(o){return!isNaN(o.navDate)}):!1},i.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.getCurrentSequence().getViewingDirection();return t||(t=this.manifest.getViewingDirection()),t},i.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.getCurrentSequence().getViewingHint();return t||(t=this.manifest.getViewingHint()),t},i.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return!!this.manifest.parentCollection},i.prototype.hasRelatedPage=function(){var t=this.getRelated();return t?(t.length&&(t=t[0]),t.format==="text/html"):!1},i.prototype.hasResources=function(){var t=this.getCurrentCanvas();return t.getResources().length>0},i.prototype.isBottomToTop=function(){var t=this.getViewingDirection();return t?t===At.ViewingDirection.BOTTOM_TO_TOP:!1},i.prototype.isCanvasIndexOutOfRange=function(t){return this.getCurrentSequence().isCanvasIndexOutOfRange(t)},i.prototype.isContinuous=function(){var t=this.getViewingHint();return t?t===At.ViewingHint.CONTINUOUS:!1},i.prototype.isFirstCanvas=function(t){return typeof t!="undefined"?this.getCurrentSequence().isFirstCanvas(t):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},i.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},i.prototype.isLastCanvas=function(t){return typeof t!="undefined"?this.getCurrentSequence().isLastCanvas(t):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},i.prototype.isLeftToRight=function(){var t=this.getViewingDirection();return t?t===At.ViewingDirection.LEFT_TO_RIGHT:!1},i.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},i.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.isMultiSequence()},i.prototype.isPaged=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);var t=this.getViewingHint();return t?t===At.ViewingHint.PAGED:this.manifest.isPagingEnabled()},i.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},i.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(it.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},i.prototype.isRightToLeft=function(){var t=this.getViewingDirection();return t?t===At.ViewingDirection.RIGHT_TO_LEFT:!1},i.prototype.isTopToBottom=function(){var t=this.getViewingDirection();return t?t===At.ViewingDirection.TOP_TO_BOTTOM:!1},i.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},i.prototype.isUIEnabled=function(t){if(!this.manifest)throw new Error(it.manifestNotLoaded);var n=this.manifest.getService(At.ServiceProfile.UI_EXTENSIONS);if(n){var o=n.getProperty("disableUI");if(o&&(o.indexOf(t)!==-1||o.indexOf(t.toLowerCase())!==-1))return!1}return!0},i.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},i.prototype.createDateNodes=function(t,n){for(var o=0;o<n.length;o++){var s=n[o],c=this.getNodeYear(s),g=this.getNodeMonth(s),A=new Ut;A.id=s.id,A.label=this.getNodeDisplayDate(s),A.data=s.data,A.data.type=yt.MANIFEST,A.data.year=c,A.data.month=g;var N=this.getDecadeNode(t,c);if(N){var O=this.getYearNode(N,c);if(O){var D=this.getMonthNode(O,g);D&&D.addNode(A)}}}},i.prototype.createDecadeNodes=function(t,n){for(var o=0;o<n.length;o++){var s=n[o];if(!!s.navDate){var c=this.getNodeYear(s),g=Number(c.toString().substr(0,3)+"9");if(!this.getDecadeNode(t,c)){var A=new Ut;A.label=c+" - "+g,A.navDate=s.navDate,A.data.startYear=c,A.data.endYear=g,t.addNode(A)}}}},i.prototype.createMonthNodes=function(t,n){for(var o=0;o<n.length;o++){var s=n[o];if(!!s.navDate){var c=this.getNodeYear(s),g=this.getNodeMonth(s),A=this.getDecadeNode(t,c),N=null;if(A&&(N=this.getYearNode(A,c)),A&&N&&!this.getMonthNode(N,g)){var O=new Ut;O.label=this.getNodeDisplayMonth(s),O.navDate=s.navDate,O.data.year=c,O.data.month=g,N.addNode(O)}}}},i.prototype.createYearNodes=function(t,n){for(var o=0;o<n.length;o++){var s=n[o];if(!!s.navDate){var c=this.getNodeYear(s),g=this.getDecadeNode(t,c);if(g&&!this.getYearNode(g,c)){var A=new Ut;A.label=c.toString(),A.navDate=s.navDate,A.data.year=c,g.addNode(A)}}}},i.prototype.getDecadeNode=function(t,n){for(var o=0;o<t.nodes.length;o++){var s=t.nodes[o];if(n>=s.data.startYear&&n<=s.data.endYear)return s}return null},i.prototype.getMonthNode=function(t,n){for(var o=0;o<t.nodes.length;o++){var s=t.nodes[o];if(n===this.getNodeMonth(s))return s}return null},i.prototype.getNodeDisplayDate=function(t){return t.navDate.toDateString()},i.prototype.getNodeDisplayMonth=function(t){var n=["January","February","March","April","May","June","July","August","September","October","November","December"];return n[t.navDate.getMonth()]},i.prototype.getNodeMonth=function(t){return t.navDate.getMonth()},i.prototype.getNodeYear=function(t){return t.navDate.getFullYear()},i.prototype.getYearNode=function(t,n){for(var o=0;o<t.nodes.length;o++){var s=t.nodes[o];if(n===this.getNodeYear(s))return s}return null},i.prototype.pruneDecadeNodes=function(t){for(var n=[],o=0;o<t.nodes.length;o++){var s=t.nodes[o];s.nodes.length||n.push(s)}for(var c=0;c<n.length;c++){var g=n[c],A=t.nodes.indexOf(g);A>-1&&t.nodes.splice(A,1)}},i.prototype.sortDecadeNodes=function(t){t.nodes=t.nodes.sort(function(n,o){return n.data.startYear-o.data.startYear})},i.prototype.sortMonthNodes=function(t){for(var n=this,o=0;o<t.nodes.length;o++)for(var s=t.nodes[o],c=0;c<s.nodes.length;c++){var g=s.nodes[c];g.nodes=g.nodes.sort(function(A,N){return n.getNodeMonth(A)-n.getNodeMonth(N)})}},i.prototype.sortYearNodes=function(t){for(var n=this,o=0;o<t.nodes.length;o++){var s=t.nodes[o];s.nodes=s.nodes.sort(function(c,g){return n.getNodeYear(c)-n.getNodeYear(g)})}},i}();var Gi=mt(Ht());var Vi=function(){function i(t){this._options=t,this._options.locale=this._options.locale||"en-GB"}return i.prototype.bootstrap=function(t,n){var o=this;return new Promise(function(s,c){t&&n&&(s=t,c=n),G.loadManifest(o._options.manifestUri).then(function(g){o._loaded(o,g,s,c)})})},i.prototype._loaded=function(t,n,o,s){var c=G.parseManifest(n,{locale:t._options.locale});if(c){t._options.iiifResource||(t._options.iiifResource=c);var g=t._options.collectionIndex,A=t._options.manifestIndex;if(c.getIIIFResourceType()===Gi.IIIFResourceType.COLLECTION){var N=c.getManifests(),O=c.getCollections();!N.length&&g===void 0&&(g=0),g!==void 0&&O&&O.length?c.getCollectionByIndex(g).then(function(P){P||s("Collection index not found"),P.getTotalManifests()===0&&A===0&&P.getTotalCollections()>0?(t._options.collectionIndex=0,t._options.manifestUri=P.id,t.bootstrap(o,s)):A!==void 0&&P.getManifestByIndex(A).then(function(F){t._options.manifest=F;var U=new fn(t._options);o(U)})}):c.getManifestByIndex(t._options.manifestIndex).then(function(P){t._options.manifest=P;var F=new fn(t._options);o(F)})}else{t._options.manifest=c;var D=new fn(t._options);o(D)}}else console.error("Unable to load IIIF resource")},i}();var st=mt(Ht()),Zt=mt(ki());var Qf=function(){function i(t,n){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,t.externalResource=this,this.dataUri=this._getDataUri(t),this.index=t.index,this.authAPIVersion=n.authApiVersion,this._parseAuthServices(t),this._parseCanvasDimensions(t)}return i.prototype._getImageServiceDescriptor=function(t){for(var n=null,o=0;o<t.length;o++){var s=t[o],c=s.id;c.endsWith("/")||(c+="/"),G.isImageProfile(s.getProfile())&&(n=c+"info.json")}return n},i.prototype._getDataUri=function(t){var n=t.getContent(),o=t.getImages(),s=null;if(n&&n.length){var c=n[0],g=c.getBody();if(g.length){var A=g[0],N=A.getServices();return N.length&&(s=this._getImageServiceDescriptor(N),s)?s:g[0].id}return null}else if(o&&o.length){var O=o[0],D=O.getResource(),N=D.getServices();return N.length&&(s=this._getImageServiceDescriptor(N),s)?s:D.id}else{var P=t.getService(st.ServiceProfile.IXIF);return P?P.getInfoUri():t.id}},i.prototype._parseAuthServices=function(t){if(this.authAPIVersion===.9)this.clickThroughService=G.getService(t,st.ServiceProfile.AUTH_0_CLICK_THROUGH),this.loginService=G.getService(t,st.ServiceProfile.AUTH_0_LOGIN),this.restrictedService=G.getService(t,st.ServiceProfile.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(st.ServiceProfile.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(st.ServiceProfile.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(st.ServiceProfile.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(st.ServiceProfile.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(st.ServiceProfile.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(st.ServiceProfile.AUTH_0_TOKEN));else{if(t.isCanvas!==void 0&&t.isCanvas()){var n=t.getContent();if(n&&n.length){var o=n[0].getBody();if(o&&o.length){var s=o[0];t=s}}}this.clickThroughService=G.getService(t,st.ServiceProfile.AUTH_1_CLICK_THROUGH),this.loginService=G.getService(t,st.ServiceProfile.AUTH_1_LOGIN),this.externalService=G.getService(t,st.ServiceProfile.AUTH_1_EXTERNAL),this.kioskService=G.getService(t,st.ServiceProfile.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(st.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(st.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(st.ServiceProfile.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(st.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(st.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.loginService.getService(st.ServiceProfile.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(st.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(st.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.externalService.getService(st.ServiceProfile.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(st.ServiceProfile.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(st.ServiceProfile.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(st.ServiceProfile.AUTH_1_PROBE))}},i.prototype._parseCanvasDimensions=function(t){var n=t.getImages();if(n&&n.length){var o=n[0],s=o.getResource();this.width=s.getWidth(),this.height=s.getHeight()}else if(n=t.getContent(),n.length){var c=n[0],g=c.getBody();g.length&&(this.width=g[0].getWidth(),this.height=g[0].getHeight())}},i.prototype._parseDescriptorDimensions=function(t){t.width!==void 0&&(this.width=t.width),t.height!==void 0&&(this.height=t.height)},i.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},i.prototype.hasServiceDescriptor=function(){return this.dataUri?this.dataUri.endsWith("info.json"):!1},i.prototype.getData=function(t){var n=this;return n.data={},new Promise(function(o,s){if(!n.dataUri){s("There is no dataUri to fetch");return}if(n.probeService){n.isProbed=!0;var c=new XMLHttpRequest;c.open("GET",n.probeService.id,!0),c.withCredentials=!0,c.onload=function(){var N=JSON.parse(c.responseText),O=unescape(N.contentLocation);O!==n.dataUri?n.status=Zt.MOVED_TEMPORARILY:n.status=Zt.OK,o(n)},c.onerror=function(){n.status=c.status,o(n)},c.send()}else{var g="GET";if(!n.hasServiceDescriptor()){if(!n.isAccessControlled()){n.status=Zt.OK,o(n);return}g="HEAD"}var A=new XMLHttpRequest;A.open(g,n.dataUri,!0),t&&A.setRequestHeader("Authorization","Bearer "+t.accessToken),A.onload=function(){if(!A.responseText)n.status=Zt.OK,o(n);else{var N=JSON.parse(A.responseText),O=unescape(N["@id"]);n.data=N,n._parseAuthServices(n.data),n._parseDescriptorDimensions(n.data),O.endsWith("/info.json")&&(O=O.substr(0,O.lastIndexOf("/")));var D=n.dataUri;D&&D.endsWith("/info.json")&&(D=D.substr(0,D.lastIndexOf("/"))),O!==D&&n.loginService?n.status=Zt.MOVED_TEMPORARILY:n.status=Zt.OK,o(n)}},A.onerror=function(){n.status=A.status,A.responseText&&n._parseAuthServices(JSON.parse(A.responseText)),o(n)},A.send()}})},i}();var Zf=function(){function i(){}return i}();var ec=function(){function i(){}return i}();var rc=function(){function i(t,n){this.value=t,this.locale=n}return i}();var oc=function(){function i(t){this.labels=t}return i.prototype.format=function(t){if(t.indexOf("<a")!=-1)return t;var n=this.labels[t]?this.labels[t]:t;return'<a href="'+t+'">'+n+"</a>"},i}();var uc=function(i){return new Vi(i).bootstrap()};export{vs as a,ys as b,_s as c,Ts as d,Cs as e,Os as f,Ss as g,Ls as h,ra as i,xs as j,Ns as k,bs as l,Rs as m,ut as n,ws as o,Ds as p,S as q,Ht as r,Vs as s,qs as t,G as u,Jt as v,xi as w,Ie as x,yt as y,Ve as z,ki as A,Qf as B,oc as C,uc as D};
/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */
